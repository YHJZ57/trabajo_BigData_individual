<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="es" xml:lang="es"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.24">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<meta name="author" content="Yutao Henry Jiang Zheng">
<meta name="description" content="Un estudio simpre de la demografía ganadera europea">
<title>La población de animales de granja en Europa</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>

<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./https://c0.klipartz.com/pngpicture/686/456/sticker-png-open-source-unicode-typefaces-pig-food-computer-font-pig-mammal-food-animals-room-fauna.png" rel="icon" type="image/png">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-f54fa83ccd8f86fe7238c9291c42d766.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-7f505dafe52409662efd78dd4835c6db.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script src="site_libs/quarto-contrib/glightbox/glightbox.min.js"></script>
<link href="site_libs/quarto-contrib/glightbox/glightbox.min.css" rel="stylesheet">
<link href="site_libs/quarto-contrib/glightbox/lightbox.css" rel="stylesheet"><script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": true,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "language": {
    "search-no-results-text": "Sin resultados",
    "search-matching-documents-text": "documentos encontrados",
    "search-copy-link-title": "Copiar el enlace en la busqueda",
    "search-hide-matches-text": "Esconder resultados adicionales",
    "search-more-match-text": "hay más resultados en este documento",
    "search-more-matches-text": "más resultados en este documento",
    "search-clear-button-title": "Borrar",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancelar",
    "search-submit-button-title": "Enviar",
    "search-label": "Buscar"
  }
}</script><style>html{ scroll-behavior: smooth; }</style>
<style>

      .quarto-title-block .quarto-title-banner h1,
      .quarto-title-block .quarto-title-banner h2,
      .quarto-title-block .quarto-title-banner h3,
      .quarto-title-block .quarto-title-banner h4,
      .quarto-title-block .quarto-title-banner h5,
      .quarto-title-block .quarto-title-banner h6
      {
        color: skyblue3;
      }

      .quarto-title-block .quarto-title-banner {
        color: skyblue3;
background-image: url(imagenes/Banner_Bovinos.png);
background-size: cover;
      }
</style>
<link href="site_libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">
<script src="site_libs/htmlwidgets-1.6.4/htmlwidgets.js"></script><script src="site_libs/jquery-3.5.1/jquery.min.js"></script><script src="site_libs/proj4js-2.3.15/proj4.js"></script><link href="site_libs/highcharts-9.3.1/css/motion.css" rel="stylesheet">
<script src="site_libs/highcharts-9.3.1/highcharts.js"></script><script src="site_libs/highcharts-9.3.1/highcharts-3d.js"></script><script src="site_libs/highcharts-9.3.1/highcharts-more.js"></script><script src="site_libs/highcharts-9.3.1/modules/stock.js"></script><script src="site_libs/highcharts-9.3.1/modules/map.js"></script><script src="site_libs/highcharts-9.3.1/modules/data.js"></script><script src="site_libs/highcharts-9.3.1/modules/exporting.js"></script><script src="site_libs/highcharts-9.3.1/modules/offline-exporting.js"></script><script src="site_libs/highcharts-9.3.1/modules/drilldown.js"></script><script src="site_libs/highcharts-9.3.1/modules/item-series.js"></script><script src="site_libs/highcharts-9.3.1/modules/overlapping-datalabels.js"></script><script src="site_libs/highcharts-9.3.1/modules/annotations.js"></script><script src="site_libs/highcharts-9.3.1/modules/export-data.js"></script><script src="site_libs/highcharts-9.3.1/modules/funnel.js"></script><script src="site_libs/highcharts-9.3.1/modules/heatmap.js"></script><script src="site_libs/highcharts-9.3.1/modules/treemap.js"></script><script src="site_libs/highcharts-9.3.1/modules/sankey.js"></script><script src="site_libs/highcharts-9.3.1/modules/dependency-wheel.js"></script><script src="site_libs/highcharts-9.3.1/modules/organization.js"></script><script src="site_libs/highcharts-9.3.1/modules/solid-gauge.js"></script><script src="site_libs/highcharts-9.3.1/modules/streamgraph.js"></script><script src="site_libs/highcharts-9.3.1/modules/sunburst.js"></script><script src="site_libs/highcharts-9.3.1/modules/vector.js"></script><script src="site_libs/highcharts-9.3.1/modules/wordcloud.js"></script><script src="site_libs/highcharts-9.3.1/modules/xrange.js"></script><script src="site_libs/highcharts-9.3.1/modules/tilemap.js"></script><script src="site_libs/highcharts-9.3.1/modules/venn.js"></script><script src="site_libs/highcharts-9.3.1/modules/gantt.js"></script><script src="site_libs/highcharts-9.3.1/modules/timeline.js"></script><script src="site_libs/highcharts-9.3.1/modules/parallel-coordinates.js"></script><script src="site_libs/highcharts-9.3.1/modules/bullet.js"></script><script src="site_libs/highcharts-9.3.1/modules/coloraxis.js"></script><script src="site_libs/highcharts-9.3.1/modules/dumbbell.js"></script><script src="site_libs/highcharts-9.3.1/modules/lollipop.js"></script><script src="site_libs/highcharts-9.3.1/modules/series-label.js"></script><script src="site_libs/highcharts-9.3.1/plugins/motion.js"></script><script src="site_libs/highcharts-9.3.1/custom/reset.js"></script><script src="site_libs/highcharts-9.3.1/modules/boost.js"></script><script src="site_libs/highchart-binding-0.9.4/highchart.js"></script><link rel="shortcut icon" href="https://c0.klipartz.com/pngpicture/686/456/sticker-png-open-source-unicode-typefaces-pig-food-computer-font-pig-mammal-food-animals-room-fauna.png">
<link rel="stylesheet" href="assets/styles.css">
</head>
<body class="nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner"><nav class="navbar navbar-expand-lg " data-bs-theme="dark"><div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="./index.html" class="navbar-brand navbar-brand-logo">
    <img src="./imagenes/uv.jpg" alt="" class="navbar-logo light-content"><img src="./imagenes/uv.jpg" alt="" class="navbar-logo dark-content"></a>
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">La población de animales de granja en Europa</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Buscar"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Navegación de palanca" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
<li class="nav-item compact">
    <a class="nav-link" href="./index.html"> <i class="bi bi-house-door" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
<ul class="navbar-nav navbar-nav-scroll ms-auto">
<li class="nav-item">
    <a class="nav-link active" href="./my_trabajo_BigData.html" aria-current="page"> 
<span class="menu-text">Trabajo individual</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="mailto:<tu-mail@alumni.uv.es>"> <i class="bi bi-envelope" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
</div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav></header><!-- content --><header id="title-block-header" class="quarto-title-block default page-columns page-full"><div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-page-left">
      <div class="quarto-title-block"><div><h1 class="title">La población de animales de granja en Europa</h1><button type="button" class="btn code-tools-button dropdown-toggle" id="quarto-code-tools-menu" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi"></i> Código</button><ul class="dropdown-menu dropdown-menu-end" aria-labelelledby="quarto-code-tools-menu"><li><a id="quarto-show-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Enseñar el código</a></li><li><a id="quarto-hide-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Esconder el código</a></li><li><hr class="dropdown-divider"></li><li><a id="quarto-view-source" class="dropdown-item" href="javascript:void(0)" role="button">Ver el código</a></li></ul></div></div>
                  <div>
        <div class="description">
          <p>Un estudio simpre de la demografía ganadera europea</p>
        </div>
      </div>
                          <div class="quarto-categories">
                <div class="quarto-category">trabajo BigData</div>
                <div class="quarto-category">Animales de granja</div>
                <div class="quarto-category">Demografía</div>
              </div>
                  </div>
  </div>
    
  <div class="quarto-title-meta-author column-page-left">
    <div class="quarto-title-meta-heading">Autor</div>
    <div class="quarto-title-meta-heading">Afiliación</div>
    
      <div class="quarto-title-meta-contents">
      <p class="author">Yutao Henry Jiang Zheng </p>
    </div>
    <div class="quarto-title-meta-contents">
          <p class="affiliation">
              <a href="https://www.uv.es">
              Universitat de València
              </a>
            </p>
        </div>
    </div>

  <div class="quarto-title-meta column-page-left">

        
      <div>
      <div class="quarto-title-meta-heading">Fecha de Publicación</div>
      <div class="quarto-title-meta-contents">
        <p class="date">2 de enero de 2026</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active"><h2 id="toc-title">Índice</h2>
   
  <ul>
<li><a href="#introducci%C3%B3n" id="toc-introducción" class="nav-link active" data-scroll-target="#introducci%C3%B3n">1. Introducción</a></li>
  <li><a href="#datos" id="toc-datos" class="nav-link" data-scroll-target="#datos">2. Datos</a></li>
  <li><a href="#la-poblacion-de-las-granjas-europeas" id="toc-la-poblacion-de-las-granjas-europeas" class="nav-link" data-scroll-target="#la-poblacion-de-las-granjas-europeas">3. La poblacion de las granjas europeas</a></li>
  </ul><div class="quarto-other-links"><h2>Otros Enlaces</h2><ul><li><a href="https://perezp44.github.io/intro-ds-25-26-web/"><i class="bi bi-link-45deg"></i>Web del curso</a></li><li><a href="https://perezp44.github.io/intro-ds-25-26-web/05-trabajos-estudiantes.html"><i class="bi bi-link-45deg"></i>Trabajos de mis compañeros</a></li><li><a href="https://github.com/YHJZ57/trabajo_BigData_individual"><i class="bi bi-link-45deg"></i>Repo del trabajo</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block column-page-left" id="quarto-document-content"><section id="introducción" class="level1"><h1>1. Introducción</h1>
<p>En este trabajo se analiza la demografía de los animales de granja en Europa, un aspecto fundamental para comprender la estructura y la evolución del sector ganadero en el continente. La población ganadera desempeña un papel clave en la economía europea, en la seguridad alimentaria y en el desarrollo de las zonas rurales.</p>
<p>A través del estudio de las principales especies de animales de granja, entre las que se incluyen el ganado bovino, porcino, ovino y avícola, se pretende examinar su distribución geográfica, su evolución en los últimos años y las diferencias existentes entre los distintas regiones europeas.</p>
</section><section id="datos" class="level1"><h1>2. Datos</h1>
<p>Para realizar el trabajo utilizaremos los siguientes datos:</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist">
<li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true" href="">Fuente de los datos</a></li>
<li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false" href="">Datos usados</a></li>
<li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-3" role="tab" aria-controls="tabset-1-3" aria-selected="false" href="">Paquetes utilizados</a></li>
<li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-4" role="tab" aria-controls="tabset-1-4" aria-selected="false" href="">Codigo de los datos</a></li>
</ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<p>Los datos utilizados en este estudio provienen principalmente de fuentes estadísticas oficiales, concretamente de <a href="https://ec.europa.eu/eurostat/en/?etrans=es" target="_blank">Eurostat</a> y del Instituto Nacional de Estadística (<a href="https://ine.es/" target="_blank">INE</a>)</p>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<ul>
<li>Nº_Bovinos → Número de bovinos por miles de cabezas en Europa</li>
<li>Nº_Porcinos → Número de porcinos por miles de cabezas en Europa</li>
<li>Nº_Ovinos → Número de ovinos por miles de cabezas en Europa</li>
<li>Nº_AvedeCoral → Número de aves de coral por número de cabezas en Europa</li>
<li>Nº_TotalEU → Número total de animales de granja en Europa</li>
<li>Nº_BovinosES → Número de bovinos por número de cabezas en España</li>
<li>Nº_PorcinosES → Número de porcinos por número de cabezas en España</li>
<li>Nº_OvinosES → Número de ovinos por número de cabezas en España</li>
<li>Nº_AvedeCoralES → Número de aves de coral por número de cabezas en España</li>
<li>Nº_TotalES → Número total de animales de granja en España</li>
</ul>
</div>
<div id="tabset-1-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-3-tab">
<div class="cell" data-layout-align="center">
<details open="" class="code-fold"><summary>Código</summary><div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb1-3"><a href="#cb1-3"></a><span class="fu">library</span>(ggthemes)</span>
<span id="cb1-4"><a href="#cb1-4"></a><span class="fu">library</span>(scales)</span>
<span id="cb1-5"><a href="#cb1-5"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb1-6"><a href="#cb1-6"></a><span class="fu">library</span>(eurostat)</span>
<span id="cb1-7"><a href="#cb1-7"></a><span class="fu">library</span>(scales)</span>
<span id="cb1-8"><a href="#cb1-8"></a><span class="fu">library</span>(ggthemes)</span>
<span id="cb1-9"><a href="#cb1-9"></a><span class="fu">library</span>(highcharter)</span>
<span id="cb1-10"><a href="#cb1-10"></a><span class="fu">library</span>(sf)</span>
<span id="cb1-11"><a href="#cb1-11"></a><span class="fu">library</span>(rnaturalearth)</span>
<span id="cb1-12"><a href="#cb1-12"></a><span class="fu">library</span>(patchwork)</span>
<span id="cb1-13"><a href="#cb1-13"></a><span class="fu">library</span>(countrycode)           </span>
<span id="cb1-14"><a href="#cb1-14"></a><span class="fu">library</span>(gt)</span>
<span id="cb1-15"><a href="#cb1-15"></a><span class="fu">library</span>(gtExtras)</span>
<span id="cb1-16"><a href="#cb1-16"></a><span class="fu">library</span>(mapSpain)</span></code></pre></div><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
</div>
<div id="tabset-1-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-4-tab">
<div class="cell" data-layout-align="center">
<details open="" class="code-fold"><summary>Código</summary><div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a><span class="co">#Número de bovinos por miles de cabezas en Europa</span></span>
<span id="cb2-2"><a href="#cb2-2"></a>Nº_bovinos <span class="ot">&lt;-</span> eurostat<span class="sc">::</span><span class="fu">get_eurostat</span>(<span class="st">"apro_mt_lscatl"</span>)<span class="sc">|&gt;</span>tidyr<span class="sc">::</span><span class="fu">separate_wider_delim</span>(<span class="at">col =</span> TIME_PERIOD, <span class="at">names =</span> <span class="fu">c</span>(<span class="st">"Year"</span>,<span class="st">"Date"</span>), <span class="at">delim =</span> <span class="st">"-"</span>,<span class="at">too_many =</span> <span class="st">"merge"</span>)<span class="sc">|&gt;</span><span class="fu">filter</span>(month<span class="sc">==</span><span class="st">"M12"</span>)</span>
<span id="cb2-3"><a href="#cb2-3"></a></span>
<span id="cb2-4"><a href="#cb2-4"></a><span class="co">#Número de porcinos por miles de cabezas en Europa</span></span>
<span id="cb2-5"><a href="#cb2-5"></a>Nº_Porcinos <span class="ot">&lt;-</span> eurostat<span class="sc">::</span><span class="fu">get_eurostat</span>(<span class="st">"apro_mt_lspig"</span>)<span class="sc">|&gt;</span>tidyr<span class="sc">::</span><span class="fu">separate_wider_delim</span>(<span class="at">col =</span> TIME_PERIOD, <span class="at">names =</span> <span class="fu">c</span>(<span class="st">"Year"</span>,<span class="st">"Date"</span>), <span class="at">delim =</span> <span class="st">"-"</span>,<span class="at">too_many =</span> <span class="st">"merge"</span>)<span class="sc">|&gt;</span><span class="fu">filter</span>(month<span class="sc">==</span><span class="st">"M12"</span>)</span>
<span id="cb2-6"><a href="#cb2-6"></a></span>
<span id="cb2-7"><a href="#cb2-7"></a><span class="co">#Número de ovinos por miles de cabezas en Europa</span></span>
<span id="cb2-8"><a href="#cb2-8"></a>Nº_Ovinos <span class="ot">&lt;-</span> eurostat<span class="sc">::</span><span class="fu">get_eurostat</span>(<span class="st">"apro_mt_lssheep"</span>)<span class="sc">|&gt;</span>tidyr<span class="sc">::</span><span class="fu">separate_wider_delim</span>(<span class="at">col =</span> TIME_PERIOD, <span class="at">names =</span> <span class="fu">c</span>(<span class="st">"Year"</span>,<span class="st">"Date"</span>), <span class="at">delim =</span> <span class="st">"-"</span>,<span class="at">too_many =</span> <span class="st">"merge"</span>)<span class="sc">|&gt;</span><span class="fu">filter</span>(month<span class="sc">==</span><span class="st">"M12"</span>)</span>
<span id="cb2-9"><a href="#cb2-9"></a></span>
<span id="cb2-10"><a href="#cb2-10"></a><span class="co">#Número de aves de coral por número de cabezas en Europa</span></span>
<span id="cb2-11"><a href="#cb2-11"></a>Nº_AvedeCoral <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"./Datos/ef_lsk_poultry_page_linear_2_0.csv"</span>)</span>
<span id="cb2-12"><a href="#cb2-12"></a>Nº_AvedeCoral <span class="ot">&lt;-</span> Nº_AvedeCoral<span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">Miles_Cabeza=</span> OBS_VALUE<span class="sc">/</span><span class="dv">1000</span>)<span class="sc">|&gt;</span> <span class="fu">rename</span>(<span class="st">"n_Cabeza"</span><span class="ot">=</span><span class="st">"OBS_VALUE"</span>)<span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">TIME_PERIOD =</span> <span class="fu">as.character</span>(TIME_PERIOD))<span class="sc">|&gt;</span> <span class="fu">select</span>(<span class="st">"geo"</span>, <span class="st">"TIME_PERIOD"</span>, <span class="st">"freq"</span>, <span class="st">"animals"</span>, <span class="st">"unit"</span>,<span class="st">"Miles_Cabeza"</span>,<span class="st">"n_Cabeza"</span>)</span>
<span id="cb2-13"><a href="#cb2-13"></a></span>
<span id="cb2-14"><a href="#cb2-14"></a><span class="co">#Número total de animales de granja en Europa</span></span>
<span id="cb2-15"><a href="#cb2-15"></a>Nº_TotalEU <span class="ot">&lt;-</span> <span class="fu">full_join</span>(Nº_bovinos, Nº_Porcinos, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"geo"</span>, <span class="st">"Year"</span>, <span class="st">"freq"</span>, <span class="st">"animals"</span>, <span class="st">"month"</span>, <span class="st">"unit"</span>, <span class="st">"values"</span>))</span>
<span id="cb2-16"><a href="#cb2-16"></a>Nº_TotalEU <span class="ot">&lt;-</span>Nº_TotalEU<span class="sc">|&gt;</span> <span class="fu">full_join</span>(Nº_Ovinos, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"geo"</span>, <span class="st">"Year"</span>, <span class="st">"freq"</span>, <span class="st">"animals"</span>, <span class="st">"month"</span>, <span class="st">"unit"</span>, <span class="st">"values"</span>))</span>
<span id="cb2-17"><a href="#cb2-17"></a>Nº_TotalEU <span class="ot">&lt;-</span>Nº_TotalEU<span class="sc">|&gt;</span> <span class="fu">full_join</span>(Nº_AvedeCoral, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"geo"</span>, <span class="st">"Year"</span><span class="ot">=</span><span class="st">"TIME_PERIOD"</span>, <span class="st">"freq"</span>, <span class="st">"animals"</span>, <span class="st">"unit"</span>, <span class="st">"values"</span><span class="ot">=</span><span class="st">"Miles_Cabeza"</span>))</span>
<span id="cb2-18"><a href="#cb2-18"></a>Nº_TotalEU <span class="ot">&lt;-</span> Nº_TotalEU<span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">A=</span><span class="fu">case_when</span>(animals<span class="sc">==</span><span class="st">"A2000"</span><span class="sc">~</span><span class="st">"Bovino"</span>, animals<span class="sc">==</span><span class="st">"A3100"</span><span class="sc">~</span><span class="st">"Porcino"</span>, animals<span class="sc">==</span><span class="st">"A4100"</span><span class="sc">~</span><span class="st">"Ovino"</span>, animals<span class="sc">==</span><span class="st">"A5000"</span><span class="sc">~</span><span class="st">"Aves de corral"</span>, <span class="at">.default =</span> <span class="st">""</span>))<span class="sc">|&gt;</span> <span class="fu">filter</span>(A<span class="sc">!=</span><span class="st">""</span>)<span class="sc">|&gt;</span> <span class="fu">group_by</span>(Year, geo)<span class="sc">|&gt;</span><span class="fu">mutate</span>(<span class="at">TotalA=</span><span class="fu">sum</span>(values))<span class="sc">|&gt;</span><span class="fu">ungroup</span>()</span>
<span id="cb2-19"><a href="#cb2-19"></a>Nº_TotalEU <span class="ot">&lt;-</span> Nº_TotalEU<span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">Tipo=</span><span class="fu">case_when</span>(geo<span class="sc">%in%</span><span class="fu">c</span>(<span class="st">"EU27_2020"</span>, <span class="st">"EU28"</span>,<span class="st">"EU27_2020"</span>,<span class="st">"EU27_2007"</span>,<span class="st">"EU25"</span>,<span class="st">"EU"</span>,<span class="st">"EU15"</span>)<span class="sc">~</span><span class="st">"UE"</span>, <span class="at">.default =</span> <span class="st">"Pais"</span>))<span class="sc">|&gt;</span> <span class="fu">group_by</span>(A,geo)<span class="sc">|&gt;</span><span class="fu">mutate</span>(<span class="at">N_animal=</span><span class="fu">sum</span>(values))<span class="sc">|&gt;</span><span class="fu">ungroup</span>()</span>
<span id="cb2-20"><a href="#cb2-20"></a></span>
<span id="cb2-21"><a href="#cb2-21"></a><span class="co">#Número de bovinos por número de cabezas en España</span></span>
<span id="cb2-22"><a href="#cb2-22"></a>Nº_BovinosES <span class="ot">&lt;-</span> rio<span class="sc">::</span><span class="fu">import</span>(<span class="st">"./Datos/Nº_TotalES.1.csv"</span>,<span class="at">encoding =</span> <span class="st">"Latin-1"</span>)</span>
<span id="cb2-23"><a href="#cb2-23"></a>Nº_BovinosES <span class="ot">&lt;-</span> Nº_BovinosES<span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">Total=</span> <span class="fu">as.numeric</span>(<span class="fu">gsub</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">."</span>, <span class="st">""</span>, Total)))</span>
<span id="cb2-24"><a href="#cb2-24"></a>Nº_BovinosES <span class="ot">&lt;-</span> Nº_BovinosES<span class="sc">|&gt;</span> tidyr<span class="sc">::</span><span class="fu">separate_wider_delim</span>(<span class="at">col =</span> <span class="st">`</span><span class="at">Especies animales</span><span class="st">`</span>, <span class="at">names =</span> <span class="fu">c</span>(<span class="st">"N"</span>,<span class="st">"Animal"</span>), <span class="at">delim =</span> <span class="st">" "</span>,<span class="at">too_many =</span> <span class="st">"merge"</span>)</span>
<span id="cb2-25"><a href="#cb2-25"></a>Nº_BovinosES <span class="ot">&lt;-</span> Nº_BovinosES<span class="sc">|&gt;</span> tidyr<span class="sc">::</span><span class="fu">separate_wider_delim</span>(<span class="at">col =</span> <span class="st">`</span><span class="at">Comunidades y Ciudades Autónomas</span><span class="st">`</span>, <span class="at">names =</span> <span class="fu">c</span>(<span class="st">"Nº"</span>,<span class="st">"Autonomias"</span>), <span class="at">delim =</span> <span class="st">" "</span>,<span class="at">too_many =</span> <span class="st">"merge"</span>,<span class="at">too_few =</span> <span class="st">"align_start"</span>)<span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">Autonomias=</span><span class="fu">case_when</span>(<span class="fu">is.na</span>(Autonomias)<span class="sc">~</span><span class="st">"Total_Nacional"</span>,<span class="cn">TRUE</span> <span class="sc">~</span> Autonomias))<span class="sc">|&gt;</span> tidyr<span class="sc">::</span><span class="fu">separate_wider_delim</span>(<span class="at">col =</span> Provincias, <span class="at">names =</span> <span class="fu">c</span>(<span class="st">"Nu"</span>,<span class="st">"Provincias"</span>), <span class="at">delim =</span> <span class="st">" "</span>,<span class="at">too_many =</span> <span class="st">"merge"</span>,<span class="at">too_few =</span> <span class="st">"align_start"</span>)</span>
<span id="cb2-26"><a href="#cb2-26"></a>Nº_BovinosES <span class="ot">&lt;-</span> Nº_BovinosES<span class="sc">|&gt;</span> <span class="fu">filter</span>(Animal<span class="sc">==</span><span class="st">"Bovinos"</span>)<span class="sc">|&gt;</span><span class="fu">select</span>(Autonomias, Provincias, Animal, Total)</span>
<span id="cb2-27"><a href="#cb2-27"></a></span>
<span id="cb2-28"><a href="#cb2-28"></a><span class="co">#Número de porcinos por número de cabezas en España</span></span>
<span id="cb2-29"><a href="#cb2-29"></a>Nº_PorcinosES <span class="ot">&lt;-</span> rio<span class="sc">::</span><span class="fu">import</span>(<span class="st">"./Datos/Nº_TotalES.1.csv"</span>,<span class="at">encoding =</span> <span class="st">"Latin-1"</span>)</span>
<span id="cb2-30"><a href="#cb2-30"></a>Nº_PorcinosES <span class="ot">&lt;-</span> Nº_PorcinosES<span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">Total=</span> <span class="fu">as.numeric</span>(<span class="fu">gsub</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">."</span>, <span class="st">""</span>, Total)))</span>
<span id="cb2-31"><a href="#cb2-31"></a>Nº_PorcinosES <span class="ot">&lt;-</span> Nº_PorcinosES<span class="sc">|&gt;</span> tidyr<span class="sc">::</span><span class="fu">separate_wider_delim</span>(<span class="at">col =</span> <span class="st">`</span><span class="at">Especies animales</span><span class="st">`</span>, <span class="at">names =</span> <span class="fu">c</span>(<span class="st">"N"</span>,<span class="st">"Animal"</span>), <span class="at">delim =</span> <span class="st">" "</span>,<span class="at">too_many =</span> <span class="st">"merge"</span>)</span>
<span id="cb2-32"><a href="#cb2-32"></a>Nº_PorcinosES <span class="ot">&lt;-</span> Nº_PorcinosES<span class="sc">|&gt;</span> tidyr<span class="sc">::</span><span class="fu">separate_wider_delim</span>(<span class="at">col =</span> <span class="st">`</span><span class="at">Comunidades y Ciudades Autónomas</span><span class="st">`</span>, <span class="at">names =</span> <span class="fu">c</span>(<span class="st">"Nº"</span>,<span class="st">"Autonomias"</span>), <span class="at">delim =</span> <span class="st">" "</span>,<span class="at">too_many =</span> <span class="st">"merge"</span>,<span class="at">too_few =</span> <span class="st">"align_start"</span>)<span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">Autonomias=</span><span class="fu">case_when</span>(<span class="fu">is.na</span>(Autonomias)<span class="sc">~</span><span class="st">"Total_Nacional"</span>,<span class="cn">TRUE</span> <span class="sc">~</span> Autonomias))<span class="sc">|&gt;</span> tidyr<span class="sc">::</span><span class="fu">separate_wider_delim</span>(<span class="at">col =</span> Provincias, <span class="at">names =</span> <span class="fu">c</span>(<span class="st">"Nu"</span>,<span class="st">"Provincias"</span>), <span class="at">delim =</span> <span class="st">" "</span>,<span class="at">too_many =</span> <span class="st">"merge"</span>,<span class="at">too_few =</span> <span class="st">"align_start"</span>)</span>
<span id="cb2-33"><a href="#cb2-33"></a>Nº_PorcinosES <span class="ot">&lt;-</span> Nº_PorcinosES<span class="sc">|&gt;</span> <span class="fu">filter</span>(Animal<span class="sc">==</span><span class="st">"Porcinos"</span>)<span class="sc">|&gt;</span><span class="fu">select</span>(Autonomias, Provincias, Animal, Total)</span>
<span id="cb2-34"><a href="#cb2-34"></a></span>
<span id="cb2-35"><a href="#cb2-35"></a><span class="co">#Número de ovinos por número de cabezas en España</span></span>
<span id="cb2-36"><a href="#cb2-36"></a>Nº_OvinosES <span class="ot">&lt;-</span> rio<span class="sc">::</span><span class="fu">import</span>(<span class="st">"./Datos/Nº_TotalES.1.csv"</span>,<span class="at">encoding =</span> <span class="st">"Latin-1"</span>)</span>
<span id="cb2-37"><a href="#cb2-37"></a>Nº_OvinosES <span class="ot">&lt;-</span> Nº_OvinosES<span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">Total=</span> <span class="fu">as.numeric</span>(<span class="fu">gsub</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">."</span>, <span class="st">""</span>, Total)))</span>
<span id="cb2-38"><a href="#cb2-38"></a>Nº_OvinosES <span class="ot">&lt;-</span> Nº_OvinosES<span class="sc">|&gt;</span> tidyr<span class="sc">::</span><span class="fu">separate_wider_delim</span>(<span class="at">col =</span> <span class="st">`</span><span class="at">Especies animales</span><span class="st">`</span>, <span class="at">names =</span> <span class="fu">c</span>(<span class="st">"N"</span>,<span class="st">"Animal"</span>), <span class="at">delim =</span> <span class="st">" "</span>,<span class="at">too_many =</span> <span class="st">"merge"</span>)</span>
<span id="cb2-39"><a href="#cb2-39"></a>Nº_OvinosES <span class="ot">&lt;-</span> Nº_OvinosES<span class="sc">|&gt;</span> tidyr<span class="sc">::</span><span class="fu">separate_wider_delim</span>(<span class="at">col =</span> <span class="st">`</span><span class="at">Comunidades y Ciudades Autónomas</span><span class="st">`</span>, <span class="at">names =</span> <span class="fu">c</span>(<span class="st">"Nº"</span>,<span class="st">"Autonomias"</span>), <span class="at">delim =</span> <span class="st">" "</span>,<span class="at">too_many =</span> <span class="st">"merge"</span>,<span class="at">too_few =</span> <span class="st">"align_start"</span>)<span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">Autonomias=</span><span class="fu">case_when</span>(<span class="fu">is.na</span>(Autonomias)<span class="sc">~</span><span class="st">"Total_Nacional"</span>,<span class="cn">TRUE</span> <span class="sc">~</span> Autonomias))<span class="sc">|&gt;</span> tidyr<span class="sc">::</span><span class="fu">separate_wider_delim</span>(<span class="at">col =</span> Provincias, <span class="at">names =</span> <span class="fu">c</span>(<span class="st">"Nu"</span>,<span class="st">"Provincias"</span>), <span class="at">delim =</span> <span class="st">" "</span>,<span class="at">too_many =</span> <span class="st">"merge"</span>,<span class="at">too_few =</span> <span class="st">"align_start"</span>)</span>
<span id="cb2-40"><a href="#cb2-40"></a>Nº_OvinosES <span class="ot">&lt;-</span> Nº_OvinosES<span class="sc">|&gt;</span> <span class="fu">filter</span>(Animal<span class="sc">==</span><span class="st">"Ovinos"</span>)<span class="sc">|&gt;</span><span class="fu">select</span>(Autonomias, Provincias, Animal, Total)</span>
<span id="cb2-41"><a href="#cb2-41"></a></span>
<span id="cb2-42"><a href="#cb2-42"></a><span class="co">#Número de aves de coral por número de cabezas en España</span></span>
<span id="cb2-43"><a href="#cb2-43"></a>Nº_AvedeCoralES <span class="ot">&lt;-</span> rio<span class="sc">::</span><span class="fu">import</span>(<span class="st">"./Datos/Nº_TotalES.1.csv"</span>,<span class="at">encoding =</span> <span class="st">"Latin-1"</span>)</span>
<span id="cb2-44"><a href="#cb2-44"></a>Nº_AvedeCoralES <span class="ot">&lt;-</span> Nº_AvedeCoralES<span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">Total=</span> <span class="fu">as.numeric</span>(<span class="fu">gsub</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">."</span>, <span class="st">""</span>, Total)))</span>
<span id="cb2-45"><a href="#cb2-45"></a>Nº_AvedeCoralES <span class="ot">&lt;-</span> Nº_AvedeCoralES<span class="sc">|&gt;</span> tidyr<span class="sc">::</span><span class="fu">separate_wider_delim</span>(<span class="at">col =</span> <span class="st">`</span><span class="at">Especies animales</span><span class="st">`</span>, <span class="at">names =</span> <span class="fu">c</span>(<span class="st">"N"</span>,<span class="st">"Animal"</span>), <span class="at">delim =</span> <span class="st">" "</span>,<span class="at">too_many =</span> <span class="st">"merge"</span>)</span>
<span id="cb2-46"><a href="#cb2-46"></a>Nº_AvedeCoralES <span class="ot">&lt;-</span> Nº_AvedeCoralES<span class="sc">|&gt;</span> tidyr<span class="sc">::</span><span class="fu">separate_wider_delim</span>(<span class="at">col =</span> <span class="st">`</span><span class="at">Comunidades y Ciudades Autónomas</span><span class="st">`</span>, <span class="at">names =</span> <span class="fu">c</span>(<span class="st">"Nº"</span>,<span class="st">"Autonomias"</span>), <span class="at">delim =</span> <span class="st">" "</span>,<span class="at">too_many =</span> <span class="st">"merge"</span>,<span class="at">too_few =</span> <span class="st">"align_start"</span>)<span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">Autonomias=</span><span class="fu">case_when</span>(<span class="fu">is.na</span>(Autonomias)<span class="sc">~</span><span class="st">"Total_Nacional"</span>,<span class="cn">TRUE</span> <span class="sc">~</span> Autonomias))<span class="sc">|&gt;</span> tidyr<span class="sc">::</span><span class="fu">separate_wider_delim</span>(<span class="at">col =</span> Provincias, <span class="at">names =</span> <span class="fu">c</span>(<span class="st">"Nu"</span>,<span class="st">"Provincias"</span>), <span class="at">delim =</span> <span class="st">" "</span>,<span class="at">too_many =</span> <span class="st">"merge"</span>,<span class="at">too_few =</span> <span class="st">"align_start"</span>)</span>
<span id="cb2-47"><a href="#cb2-47"></a>Nº_AvedeCoralES <span class="ot">&lt;-</span> Nº_AvedeCoralES<span class="sc">|&gt;</span> <span class="fu">filter</span>(Animal<span class="sc">==</span><span class="st">"Aves de corral"</span>)<span class="sc">|&gt;</span><span class="fu">select</span>(Autonomias, Provincias, Animal, Total)</span>
<span id="cb2-48"><a href="#cb2-48"></a></span>
<span id="cb2-49"><a href="#cb2-49"></a><span class="co">#Número total de animales de granja en España</span></span>
<span id="cb2-50"><a href="#cb2-50"></a>Nº_TotalES <span class="ot">&lt;-</span> rio<span class="sc">::</span><span class="fu">import</span>(<span class="st">"./Datos/Nº_TotalES.1.csv"</span>,<span class="at">encoding =</span> <span class="st">"Latin-1"</span>)</span>
<span id="cb2-51"><a href="#cb2-51"></a>Nº_TotalES <span class="ot">&lt;-</span> Nº_TotalES<span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">Total=</span> <span class="fu">as.numeric</span>(<span class="fu">gsub</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">."</span>, <span class="st">""</span>, Total)))</span>
<span id="cb2-52"><a href="#cb2-52"></a>Nº_TotalES <span class="ot">&lt;-</span> Nº_TotalES<span class="sc">|&gt;</span> tidyr<span class="sc">::</span><span class="fu">separate_wider_delim</span>(<span class="at">col =</span> <span class="st">`</span><span class="at">Especies animales</span><span class="st">`</span>, <span class="at">names =</span> <span class="fu">c</span>(<span class="st">"N"</span>,<span class="st">"Animal"</span>), <span class="at">delim =</span> <span class="st">" "</span>,<span class="at">too_many =</span> <span class="st">"merge"</span>)</span>
<span id="cb2-53"><a href="#cb2-53"></a>Nº_TotalES <span class="ot">&lt;-</span> Nº_TotalES<span class="sc">|&gt;</span> tidyr<span class="sc">::</span><span class="fu">separate_wider_delim</span>(<span class="at">col =</span> <span class="st">`</span><span class="at">Comunidades y Ciudades Autónomas</span><span class="st">`</span>, <span class="at">names =</span> <span class="fu">c</span>(<span class="st">"Nº"</span>,<span class="st">"Autonomias"</span>), <span class="at">delim =</span> <span class="st">" "</span>,<span class="at">too_many =</span> <span class="st">"merge"</span>,<span class="at">too_few =</span> <span class="st">"align_start"</span>)<span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">Autonomias=</span><span class="fu">case_when</span>(<span class="fu">is.na</span>(Autonomias)<span class="sc">~</span><span class="st">"Total_Nacional"</span>,<span class="cn">TRUE</span> <span class="sc">~</span> Autonomias))<span class="sc">|&gt;</span> tidyr<span class="sc">::</span><span class="fu">separate_wider_delim</span>(<span class="at">col =</span> Provincias, <span class="at">names =</span> <span class="fu">c</span>(<span class="st">"Nu"</span>,<span class="st">"Provincias"</span>), <span class="at">delim =</span> <span class="st">" "</span>,<span class="at">too_many =</span> <span class="st">"merge"</span>,<span class="at">too_few =</span> <span class="st">"align_start"</span>)</span>
<span id="cb2-54"><a href="#cb2-54"></a>Nº_TotalES <span class="ot">&lt;-</span> Nº_TotalES<span class="sc">|&gt;</span><span class="fu">select</span>(Autonomias, Provincias, Animal, Total)</span></code></pre></div><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
</div>
</div>
</div>
<hr></section><section id="la-poblacion-de-las-granjas-europeas" class="level1"><h1>3. La poblacion de las granjas europeas</h1>
<p>Europa históricamente fue una región que dependía en gran medida de la ganadería, ya que una parte importante de su territorio presentaba suelos poco fértiles para la agricultura. Esto derivó en que muchos de los pueblos que la habitaban se dedicaran principalmente a la cría de animales como medio de subsistencia.</p>
<p>En la actualidad, las mejoras en las técnicas de cultivo y la integración en el mercado internacional han provocado un cambio significativo en la forma de vida y en la estructura productiva europea, lo que ha dado lugar a una disminución del número de personas dedicadas a la actividad ganadera. Este proceso ha contribuido a una reducción de la población de animales de granja mamíferos, cuya cría requiere mayores costes y mano de obra, en contraste con el sector de las aves de corral, que ha experimentado un crecimiento.</p>
<p>En las gráficas se puede apreciar que la población de animales de granja en general muestra una tendencia negativa desde el año 2001, con la excepción de las aves de corral, cuya población ha aumentado, reflejando la transformación y el descenso progresivo del sector ganadero tradicional en los últimos años.</p>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell" data-layout-align="center">
<details class="code-fold"><summary>Código</summary><div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a>Nº_TotalEU1 <span class="ot">&lt;-</span> Nº_TotalEU<span class="sc">|&gt;</span> <span class="fu">filter</span>(A<span class="sc">!=</span><span class="st">"Aves de corral"</span>, Year<span class="sc">&gt;=</span><span class="st">"2000"</span>, Year<span class="sc">&lt;=</span><span class="st">"2024"</span>)<span class="sc">|&gt;</span> <span class="fu">group_by</span>(Year,geo)<span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">TotalA1=</span><span class="fu">sum</span>(values))<span class="sc">|&gt;</span><span class="fu">ungroup</span>()</span>
<span id="cb3-2"><a href="#cb3-2"></a>Datos_P.UE <span class="ot">&lt;-</span> Nº_TotalEU1<span class="sc">|&gt;</span> <span class="fu">filter</span>(Tipo<span class="sc">==</span><span class="st">"Pais"</span>)<span class="sc">|&gt;</span> <span class="fu">select</span>(geo,Year,A,TotalA1)</span>
<span id="cb3-3"><a href="#cb3-3"></a>Datos_EU27_2020 <span class="ot">&lt;-</span> Nº_TotalEU1<span class="sc">|&gt;</span> <span class="fu">filter</span>(geo<span class="sc">==</span><span class="st">"EU27_2020"</span>)<span class="sc">|&gt;</span> <span class="fu">select</span>(geo,Year,A,TotalA1, values)</span>
<span id="cb3-4"><a href="#cb3-4"></a></span>
<span id="cb3-5"><a href="#cb3-5"></a></span>
<span id="cb3-6"><a href="#cb3-6"></a><span class="fu">ggplot</span>(Datos_P.UE,<span class="fu">aes</span>(<span class="at">x=</span> Year, <span class="at">y=</span> TotalA1, <span class="at">group=</span>geo)) <span class="sc">+</span><span class="fu">geom_line</span>(<span class="at">color=</span><span class="st">"gray"</span>)<span class="sc">+</span> <span class="fu">geom_line</span>(<span class="at">data=</span>Datos_EU27_2020, <span class="fu">aes</span>(<span class="at">x=</span>Year, <span class="at">y=</span>TotalA1, <span class="at">colour =</span> <span class="st">"EU27_2020"</span>))<span class="sc">+</span> <span class="fu">scale_colour_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"EU27_2020"</span> <span class="ot">=</span> <span class="st">"blue3"</span>),<span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Unión Europea"</span>)) <span class="sc">+</span> <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> <span class="fu">label_comma</span>(<span class="at">accuracy =</span> <span class="dv">1</span>))<span class="sc">+</span><span class="fu">theme_bw</span>()<span class="sc">+</span> <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">49</span>, <span class="at">vjust =</span> <span class="dv">1</span>, <span class="at">hjust =</span> <span class="dv">1</span>), <span class="at">plot.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">"lightyellow"</span>), <span class="at">plot.caption =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="dv">0</span>, <span class="at">face =</span> <span class="st">"italic"</span>, <span class="at">size =</span> <span class="dv">6</span>),<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>))<span class="sc">+</span><span class="fu">labs</span>(<span class="at">title=</span><span class="st">"Evolución de la población de animales de granja </span><span class="sc">\n</span><span class="st">en Europa (2000-2024)"</span>, <span class="at">x=</span><span class="st">"Años"</span>,<span class="at">y=</span><span class="st">"Miles de cabezas"</span>, <span class="at">colour=</span><span class="st">"Región"</span>, <span class="at">caption =</span> <span class="st">"*En esta gráfica solo se incluyen los mamíferos, ya que los datos correspondientes a las aves de corral </span><span class="sc">\n</span><span class="st">no eran consistentes a lo largo del tiempo."</span>, <span class="at">subtitle =</span> <span class="st">"Datos correspondientes exclusivamente a mamíferos"</span>)</span></code></pre></div><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></div>
</details><div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><a href="my_trabajo_BigData_files/figure-html/unnamed-chunk-3-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-1"><img src="my_trabajo_BigData_files/figure-html/unnamed-chunk-3-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:95.0%"></a></p>
</figure>
</div>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell" data-layout-align="center">
<details class="code-fold"><summary>Código</summary><div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a>Nº_TotalEU<span class="sc">|&gt;</span> <span class="fu">filter</span>(geo<span class="sc">==</span><span class="st">"EU27_2020"</span>)<span class="sc">|&gt;</span> <span class="fu">select</span>(geo,Year,A, values)<span class="sc">|&gt;</span> <span class="fu">filter</span>(Year<span class="sc">&gt;=</span><span class="st">"2007"</span>,Year<span class="sc">&lt;=</span><span class="st">"2020"</span>)<span class="sc">|&gt;</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>Year, <span class="at">y=</span>values, <span class="at">fill=</span> <span class="fu">reorder</span>(A, <span class="sc">-</span>values), <span class="at">group=</span><span class="fu">reorder</span>(A, <span class="sc">-</span>values)))<span class="sc">+</span><span class="fu">geom_area</span>()<span class="sc">+</span> <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">49</span>, <span class="at">vjust =</span> <span class="dv">1</span>, <span class="at">hjust =</span> <span class="dv">1</span>))<span class="sc">+</span> <span class="fu">labs</span>(<span class="at">title=</span><span class="st">"Evolución de la población de animales de granja </span><span class="sc">\n</span><span class="st">en Europa (2007-2020)"</span>, <span class="at">fill=</span><span class="st">"Animales"</span>, <span class="at">x=</span><span class="st">"Años"</span>,<span class="at">y=</span><span class="st">"Miles de cabezas"</span>)<span class="sc">+</span> <span class="fu">theme_bw</span>()<span class="sc">+</span> <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">49</span>, <span class="at">vjust =</span> <span class="dv">1</span>, <span class="at">hjust =</span> <span class="dv">1</span>), <span class="at">plot.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">"lightyellow"</span>), <span class="at">plot.caption =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="dv">0</span>, <span class="at">face =</span> <span class="st">"italic"</span>, <span class="at">size =</span> <span class="dv">6</span>),<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>))</span></code></pre></div><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></div>
</details><div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><a href="my_trabajo_BigData_files/figure-html/unnamed-chunk-4-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-2"><img src="my_trabajo_BigData_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:95.0%"></a></p>
</figure>
</div>
</div>
</div>
</div>
<div class="cell" data-layout-align="center">
<details class="code-fold"><summary>Código</summary><div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a>Datos_EU27_2020 <span class="ot">&lt;-</span> Datos_EU27_2020<span class="sc">|&gt;</span> <span class="fu">filter</span>(Year<span class="sc">&gt;=</span><span class="st">"2001"</span>)</span>
<span id="cb5-2"><a href="#cb5-2"></a><span class="fu">ggplot</span>(<span class="at">data=</span>Datos_EU27_2020, <span class="fu">aes</span>(<span class="at">x=</span>Year, <span class="at">y=</span>values, <span class="at">fill=</span> <span class="fu">reorder</span>(A, <span class="sc">-</span>values), <span class="at">group=</span><span class="fu">reorder</span>(A, <span class="sc">-</span>values))) <span class="sc">+</span><span class="fu">geom_area</span>()<span class="sc">+</span> <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> <span class="fu">label_comma</span>(<span class="at">accuracy =</span> <span class="dv">1</span>))<span class="sc">+</span><span class="fu">theme_bw</span>()<span class="sc">+</span> <span class="fu">theme</span>( <span class="at">plot.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">"lightyellow"</span>),<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">size=</span><span class="dv">30</span>))<span class="sc">+</span><span class="fu">labs</span>(<span class="at">title=</span><span class="st">"Evolución de la población de animales de granja desgrosado por tipo de animal </span><span class="sc">\n</span><span class="st">en Europa (2001-2024)"</span>, <span class="at">x=</span><span class="st">"Años"</span>,<span class="at">y=</span><span class="st">"Miles de cabezas"</span>, <span class="at">colour=</span><span class="st">"Tipo de animal"</span>, <span class="at">fill=</span><span class="st">"Tipo de animal"</span>)<span class="sc">+</span></span>
<span id="cb5-3"><a href="#cb5-3"></a></span>
<span id="cb5-4"><a href="#cb5-4"></a></span>
<span id="cb5-5"><a href="#cb5-5"></a><span class="fu">ggplot</span>(Datos_EU27_2020, <span class="fu">aes</span>(<span class="at">x=</span>Year, <span class="at">y=</span>values, <span class="at">fill=</span> <span class="fu">reorder</span>(A, <span class="sc">-</span>values), <span class="at">group=</span><span class="fu">reorder</span>(A, <span class="sc">-</span>values)))<span class="sc">+</span> <span class="fu">geom_col</span>(<span class="at">position =</span> <span class="st">"dodge"</span>,<span class="at">alpha =</span> <span class="fl">0.6</span>)<span class="sc">+</span><span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">colour =</span> <span class="fu">reorder</span>(A, <span class="sc">-</span>values), <span class="at">group=</span><span class="fu">reorder</span>(A, <span class="sc">-</span>values)), <span class="at">size=</span><span class="dv">1</span> )<span class="sc">+</span><span class="fu">geom_point</span>(<span class="at">color=</span><span class="st">"gray57"</span>, <span class="at">size =</span> <span class="dv">2</span>)<span class="sc">+</span> <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> <span class="fu">label_comma</span>(<span class="at">accuracy =</span> <span class="dv">1</span>))<span class="sc">+</span><span class="fu">theme_bw</span>()<span class="sc">+</span> <span class="fu">theme</span>(<span class="at">plot.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">"lightyellow"</span>),<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">size=</span><span class="dv">30</span>))<span class="sc">+</span><span class="fu">labs</span>(<span class="at">title=</span><span class="st">"Evolución de la población de animales de granja desgrosado por tipo de animal </span><span class="sc">\n</span><span class="st">en Europa (2001-2024)"</span>, <span class="at">x=</span><span class="st">"Años"</span>,<span class="at">y=</span><span class="st">"Miles de cabezas"</span>, <span class="at">colour=</span><span class="st">"Tendencia"</span>, <span class="at">fill=</span><span class="st">"Tipo de animal"</span>)</span></code></pre></div><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></div>
</details><div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><a href="my_trabajo_BigData_files/figure-html/unnamed-chunk-5-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-3"><img src="my_trabajo_BigData_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:95.0%"></a></p>
</figure>
</div>
</div>
</div>
<section id="distribucion-por-país" class="level2"><h2 class="anchored" data-anchor-id="distribucion-por-país">3.1. Distribucion por país</h2>
<div class="cell" data-layout-align="center">
<details class="code-fold"><summary>Código</summary><div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a>Datos_mapaUE <span class="ot">&lt;-</span> Nº_TotalEU<span class="sc">|&gt;</span> <span class="fu">filter</span>(Tipo<span class="sc">==</span><span class="st">"Pais"</span>, Year<span class="sc">==</span><span class="st">"2020"</span>)<span class="sc">|&gt;</span> <span class="fu">select</span>(geo,Year,A,TotalA)</span>
<span id="cb6-2"><a href="#cb6-2"></a>Datos_mapaUE1 <span class="ot">&lt;-</span> Datos_mapaUE<span class="sc">|&gt;</span> <span class="fu">filter</span>(A<span class="sc">==</span><span class="st">"Bovino"</span>)</span>
<span id="cb6-3"><a href="#cb6-3"></a>mapa_ue <span class="ot">&lt;-</span> <span class="fu">get_eurostat_geospatial</span>(<span class="at">resolution =</span> <span class="st">"20"</span>,<span class="at">nuts_level =</span> <span class="st">"0"</span>, <span class="at">year =</span> <span class="dv">2021</span>)</span>
<span id="cb6-4"><a href="#cb6-4"></a>mapaUE1<span class="ot">&lt;-</span> mapa_ue<span class="sc">|&gt;</span> <span class="fu">inner_join</span>(Datos_mapaUE1, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"id"</span> <span class="ot">=</span> <span class="st">"geo"</span>))</span>
<span id="cb6-5"><a href="#cb6-5"></a></span>
<span id="cb6-6"><a href="#cb6-6"></a>M1 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(mapaUE1) <span class="sc">+</span> <span class="fu">geom_sf</span>(<span class="fu">aes</span>(<span class="at">fill =</span> TotalA), <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">linewidth =</span> <span class="fl">0.1</span>) <span class="sc">+</span> <span class="fu">coord_sf</span>(<span class="at">crs =</span> <span class="dv">3035</span>, <span class="at">xlim =</span> <span class="fu">c</span>(<span class="dv">2500000</span>, <span class="dv">6500000</span>), <span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">1500000</span>, <span class="dv">5200000</span>)) <span class="sc">+</span> <span class="fu">scale_fill_continuous</span>(<span class="at">low=</span><span class="st">"ivory"</span>, <span class="at">high=</span><span class="st">"darkgreen"</span>,<span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">label_comma</span>(<span class="at">big.mark =</span> <span class="st">"."</span>), <span class="at">guide =</span> <span class="fu">guide_colorbar</span>(<span class="at">frame.colour =</span> <span class="st">"black"</span>, <span class="at">ticks.colour =</span> <span class="st">"gray57"</span>)) <span class="sc">+</span> <span class="fu">theme_void</span>() <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Censo ganadero por país (2020)"</span>, <span class="at">fill=</span><span class="st">"Miles de cabezas"</span>) <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">size =</span> <span class="dv">11</span>))  </span>
<span id="cb6-7"><a href="#cb6-7"></a></span>
<span id="cb6-8"><a href="#cb6-8"></a>Datos_mapaUE2 <span class="ot">&lt;-</span> Datos_P.UE<span class="sc">|&gt;</span> <span class="fu">filter</span>(Year<span class="sc">==</span><span class="st">"2020"</span>)</span>
<span id="cb6-9"><a href="#cb6-9"></a>mapaUE2<span class="ot">&lt;-</span> mapa_ue<span class="sc">|&gt;</span> <span class="fu">inner_join</span>(Datos_mapaUE2, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"id"</span> <span class="ot">=</span> <span class="st">"geo"</span>))</span>
<span id="cb6-10"><a href="#cb6-10"></a></span>
<span id="cb6-11"><a href="#cb6-11"></a>M2 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(mapaUE2) <span class="sc">+</span> <span class="fu">geom_sf</span>(<span class="fu">aes</span>(<span class="at">fill =</span> TotalA1), <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">linewidth =</span> <span class="fl">0.1</span>) <span class="sc">+</span> <span class="fu">coord_sf</span>(<span class="at">crs =</span> <span class="dv">3035</span>, <span class="at">xlim =</span> <span class="fu">c</span>(<span class="dv">2500000</span>, <span class="dv">6500000</span>), <span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">1500000</span>, <span class="dv">5200000</span>)) <span class="sc">+</span> <span class="fu">scale_fill_continuous</span>(<span class="at">low=</span><span class="st">"ivory"</span>, <span class="at">high=</span><span class="st">"darkgreen"</span>, <span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">label_comma</span>(<span class="at">big.mark =</span> <span class="st">"."</span>), <span class="at">guide=</span> <span class="fu">guide_colorbar</span>(<span class="at">frame.colour =</span> <span class="st">"black"</span>, <span class="at">ticks.colour =</span> <span class="st">"gray57"</span>)) <span class="sc">+</span> <span class="fu">theme_void</span>() <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Censo ganadero de animales mamíferos </span><span class="sc">\n</span><span class="st">por país (2020)"</span>, <span class="at">fill=</span><span class="st">"Miles de cabezas"</span>) <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">size =</span> <span class="dv">11</span>))</span>
<span id="cb6-12"><a href="#cb6-12"></a></span>
<span id="cb6-13"><a href="#cb6-13"></a>M1<span class="sc">+</span>M2</span></code></pre></div><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></div>
</details><div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><a href="my_trabajo_BigData_files/figure-html/unnamed-chunk-6-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-4"><img src="my_trabajo_BigData_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:95.0%"></a></p>
</figure>
</div>
</div>
</div>
<p>La población de animales de granja en Europa se concentra principalmente en Francia, seguida de España, Polonia y Alemania. No obstante, al considerar únicamente a los mamíferos, España destaca como el país con mayor número de animales de granja, debido a su liderazgo en la industria porcina y ovina y su gran relevancia en la bovina en el contienente europeo, lo que la sitúa entre los países con mayor peso ganadero dentro de la Unión Europea, como se puede apreciar en los mapas.</p>
</section><section id="distribución-de-las-especies-de-animales" class="level1"><h1>4. Distribución de las especies de animales</h1>
<p>La especie de animal de granja con mayor número de población son las aves de corral con un 51%, seguidas por los porcinos con un 24%, los bovinos con un 13% y los ovinos con un 11%. Esta distribución se debe, en gran medida, al espacio necesario para su cría. Las aves de corral y los cerdos requieren menos espacio por individuo, lo que permite una producción más intensiva. En cambio, los bovinos y ovinos necesitan amplias zonas de pastoreo, lo que limita su número. Por este motivo, las aves de corral constituyen el grupo más numeroso, seguidas por el ganado porcino.</p>
<div class="cell" data-layout-align="center">
<details class="code-fold"><summary>Código</summary><div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a>Rosca <span class="ot">&lt;-</span> Nº_TotalEU<span class="sc">|&gt;</span><span class="fu">filter</span>(geo<span class="sc">==</span><span class="st">"EU27_2020"</span>, Year<span class="sc">==</span><span class="st">"2020"</span>)<span class="sc">|&gt;</span> <span class="fu">select</span>(A,Year, N_animal)<span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">Suma=</span><span class="fu">sum</span>(N_animal))<span class="sc">|&gt;</span><span class="fu">mutate</span>(<span class="at">Porcentaje=</span>N_animal<span class="sc">/</span>Suma<span class="sc">*</span><span class="dv">100</span>)</span>
<span id="cb7-2"><a href="#cb7-2"></a></span>
<span id="cb7-3"><a href="#cb7-3"></a><span class="fu">hchart</span>(Rosca, <span class="st">"pie"</span>, <span class="fu">hcaes</span>(<span class="at">x =</span> A, <span class="at">y =</span> N_animal))<span class="sc">|&gt;</span><span class="fu">hc_plotOptions</span>(<span class="at">pie =</span> <span class="fu">list</span>(<span class="at">dataLabels =</span> <span class="fu">list</span>( <span class="at">enabled =</span> <span class="cn">TRUE</span>, <span class="at">format =</span> <span class="st">"{point.name}: {point.percentage:.0f}%"</span>)))<span class="sc">|&gt;</span><span class="fu">hc_title</span>(<span class="at">text =</span> <span class="st">"Distribución porcentual de los animales de granja en la UE (2020)"</span>)<span class="sc">|&gt;</span> <span class="fu">hc_chart</span>(<span class="at">backgroundColor =</span> <span class="st">"#f0f0f0"</span>)</span></code></pre></div><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></div>
</details><div class="cell-output-display">
<div class="highchart html-widget html-fill-item" id="htmlwidget-53f1ab3588a8f6a870ec" style="width:95%;height:600px;"></div>
<script type="application/json" data-for="htmlwidget-53f1ab3588a8f6a870ec">{"x":{"hc_opts":{"chart":{"reflow":true,"backgroundColor":"#f0f0f0"},"title":{"text":"Distribución porcentual de los animales de granja en la UE (2020)"},"yAxis":{"title":{"text":"N_animal"},"type":"linear"},"credits":{"enabled":false},"exporting":{"enabled":false},"boost":{"enabled":false},"plotOptions":{"series":{"label":{"enabled":false},"turboThreshold":0,"showInLegend":false},"treemap":{"layoutAlgorithm":"squarified"},"scatter":{"marker":{"symbol":"circle"}},"pie":{"dataLabels":{"enabled":true,"format":"{point.name}: {point.percentage:.0f}%"}}},"series":[{"group":"group","data":[{"A":"Bovino","Year":"2020","N_animal":1881916.79,"Suma":14478590.98,"Porcentaje":12.99792771685854,"y":1881916.79,"name":"Bovino"},{"A":"Porcino","Year":"2020","N_animal":3506053.77,"Suma":14478590.98,"Porcentaje":24.21543487790412,"y":3506053.77,"name":"Porcino"},{"A":"Ovino","Year":"2020","N_animal":1657066.42,"Suma":14478590.98,"Porcentaje":11.44494255199963,"y":1657066.42,"name":"Ovino"},{"A":"Aves de corral","Year":"2020","N_animal":7433554,"Suma":14478590.98,"Porcentaje":51.34169485323772,"y":7433554,"name":"Aves de corral"}],"type":"pie"}],"xAxis":{"type":"category","title":{"text":"A"},"categories":null}},"theme":{"chart":{"backgroundColor":"transparent"},"colors":["#7cb5ec","#434348","#90ed7d","#f7a35c","#8085e9","#f15c80","#e4d354","#2b908f","#f45b5b","#91e8e1"]},"conf_opts":{"global":{"Date":null,"VMLRadialGradientURL":"http =//code.highcharts.com/list(version)/gfx/vml-radial-gradient.png","canvasToolsURL":"http =//code.highcharts.com/list(version)/modules/canvas-tools.js","getTimezoneOffset":null,"timezoneOffset":0,"useUTC":true},"lang":{"contextButtonTitle":"Chart context menu","decimalPoint":".","downloadCSV":"Download CSV","downloadJPEG":"Download JPEG image","downloadPDF":"Download PDF document","downloadPNG":"Download PNG image","downloadSVG":"Download SVG vector image","downloadXLS":"Download XLS","drillUpText":"◁ Back to {series.name}","exitFullscreen":"Exit from full screen","exportData":{"annotationHeader":"Annotations","categoryDatetimeHeader":"DateTime","categoryHeader":"Category"},"hideData":"Hide data table","invalidDate":null,"loading":"Loading...","months":["January","February","March","April","May","June","July","August","September","October","November","December"],"noData":"No data to display","numericSymbolMagnitude":1000,"numericSymbols":["k","M","G","T","P","E"],"printChart":"Print chart","resetZoom":"Reset zoom","resetZoomTitle":"Reset zoom level 1:1","shortMonths":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"shortWeekdays":["Sat","Sun","Mon","Tue","Wed","Thu","Fri"],"thousandsSep":" ","viewData":"View data table","viewFullscreen":"View in full screen","weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},"type":"chart","fonts":[],"debug":false},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<section id="animales-de-granja-más-común-en-cada-país-europeo" class="level2"><h2 class="anchored" data-anchor-id="animales-de-granja-más-común-en-cada-país-europeo">4.1. Animales de granja más común en cada país europeo</h2>
<p>El animal de granja más común en la mayoría de los países de Europa son las aves de corral, lo que corrobora lo señalado anteriormente. Si se excluyen las aves de corral, los cerdos se convierten en los animales de granja más frecuentes.</p>
<div class="cell" data-layout-align="center">
<details class="code-fold"><summary>Código</summary><div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a>Datos_mapaUE3 <span class="ot">&lt;-</span> Nº_TotalEU<span class="sc">|&gt;</span> <span class="fu">filter</span>(Year<span class="sc">==</span><span class="st">"2020"</span>,Tipo<span class="sc">==</span><span class="st">"Pais"</span>)<span class="sc">|&gt;</span> <span class="fu">group_by</span>(geo)<span class="sc">|&gt;</span> <span class="fu">slice_max</span>(values, <span class="at">n =</span> <span class="dv">1</span>)</span>
<span id="cb8-2"><a href="#cb8-2"></a>mapaUE3 <span class="ot">&lt;-</span> mapa_ue<span class="sc">|&gt;</span> <span class="fu">inner_join</span>(Datos_mapaUE3, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"id"</span><span class="ot">=</span><span class="st">"geo"</span>))</span>
<span id="cb8-3"><a href="#cb8-3"></a></span>
<span id="cb8-4"><a href="#cb8-4"></a>M3 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(mapaUE3) <span class="sc">+</span> <span class="fu">geom_sf</span>(<span class="fu">aes</span>(<span class="at">fill =</span> A), <span class="at">color =</span> <span class="st">"white"</span>, <span class="at">linewidth =</span> <span class="fl">0.1</span>) <span class="sc">+</span> <span class="fu">coord_sf</span>(<span class="at">crs =</span> <span class="dv">3035</span>, <span class="at">xlim =</span> <span class="fu">c</span>(<span class="dv">2500000</span>, <span class="dv">6500000</span>), <span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">1500000</span>, <span class="dv">5200000</span>)) <span class="sc">+</span> <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Ovino"</span> <span class="ot">=</span> <span class="st">"chartreuse"</span>,<span class="st">"Bovino"</span> <span class="ot">=</span><span class="st">"#30123b"</span>,<span class="st">"Porcino"</span><span class="ot">=</span><span class="st">"red4"</span>, <span class="st">"Aves de corral"</span><span class="ot">=</span><span class="st">"skyblue4"</span>))<span class="sc">+</span> <span class="fu">theme_void</span>() <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Animal de granja más numeroso por país (2020)"</span>, <span class="at">fill=</span><span class="st">"Especie Mayoritaria"</span>) <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">size =</span> <span class="dv">11</span>))</span>
<span id="cb8-5"><a href="#cb8-5"></a></span>
<span id="cb8-6"><a href="#cb8-6"></a>Datos_mapaUE4 <span class="ot">&lt;-</span> Nº_TotalEU1<span class="sc">|&gt;</span> <span class="fu">filter</span>(Year<span class="sc">==</span><span class="st">"2020"</span>,Tipo<span class="sc">==</span><span class="st">"Pais"</span>)<span class="sc">|&gt;</span> <span class="fu">group_by</span>(geo)<span class="sc">|&gt;</span> <span class="fu">slice_max</span>(values, <span class="at">n =</span> <span class="dv">1</span>)</span>
<span id="cb8-7"><a href="#cb8-7"></a>mapaUE4 <span class="ot">&lt;-</span> mapa_ue<span class="sc">|&gt;</span> <span class="fu">inner_join</span>(Datos_mapaUE4, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"id"</span><span class="ot">=</span><span class="st">"geo"</span>))</span>
<span id="cb8-8"><a href="#cb8-8"></a></span>
<span id="cb8-9"><a href="#cb8-9"></a>M4 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(mapaUE4) <span class="sc">+</span> <span class="fu">geom_sf</span>(<span class="fu">aes</span>(<span class="at">fill =</span> A), <span class="at">color =</span> <span class="st">"white"</span>, <span class="at">linewidth =</span> <span class="fl">0.1</span>) <span class="sc">+</span> <span class="fu">coord_sf</span>(<span class="at">crs =</span> <span class="dv">3035</span>, <span class="at">xlim =</span> <span class="fu">c</span>(<span class="dv">2500000</span>, <span class="dv">6500000</span>), <span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">1500000</span>, <span class="dv">5200000</span>)) <span class="sc">+</span> <span class="fu">scale_fill_viridis_d</span>(<span class="at">option =</span> <span class="st">"turbo"</span>, <span class="at">name =</span> <span class="st">"Especie Mayoritaria"</span>) <span class="sc">+</span> <span class="fu">theme_void</span>() <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Animal mamifero de granja más numeroso por país (2020)"</span>) <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">size =</span> <span class="dv">11</span>))</span>
<span id="cb8-10"><a href="#cb8-10"></a></span>
<span id="cb8-11"><a href="#cb8-11"></a>M3<span class="sc">+</span>M4</span></code></pre></div><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></div>
</details><div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><a href="my_trabajo_BigData_files/figure-html/unnamed-chunk-8-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-5"><img src="my_trabajo_BigData_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:95.0%"></a></p>
</figure>
</div>
</div>
</div>
</section><section id="concentración-de-aves-de-corral-por-país" class="level2"><h2 class="anchored" data-anchor-id="concentración-de-aves-de-corral-por-país">4.2. Concentración de aves de corral por país</h2>
<p>La población de aves de corral en Europa se concentra principalmente en Francia, que ocupa la primera posición en este sector, seguida de Polonia y España. Esta distribución responde a la importancia del sector avícola en estos países, así como a la existencia de modelos productivos altamente especializados y tecnificados.</p>
<p>En el caso de Francia, la avicultura cuenta con una larga tradición y una fuerte implantación territorial, apoyada en una amplia red de explotaciones y en una potente industria agroalimentaria. Polonia, por su parte, ha experimentado un notable crecimiento del sector avícola en las últimas décadas, impulsado por la modernización de sus explotaciones y su competitividad en los mercados europeos. España, aunque con un volumen menor, destaca por el desarrollo de sistemas de producción intensiva y por su integración dentro de una industria agroalimentaria diversificada.</p>
<div class="cell" data-layout-align="center">
<details class="code-fold"><summary>Código</summary><div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a>Datos_mapaUE5 <span class="ot">&lt;-</span> Nº_TotalEU<span class="sc">|&gt;</span> <span class="fu">filter</span>(Year<span class="sc">==</span><span class="st">"2020"</span>, Tipo<span class="sc">==</span><span class="st">"Pais"</span>, A<span class="sc">==</span><span class="st">"Aves de corral"</span>)<span class="sc">|&gt;</span> <span class="fu">select</span>(geo, values)</span>
<span id="cb9-2"><a href="#cb9-2"></a>mapaUE5 <span class="ot">&lt;-</span> mapa_ue<span class="sc">|&gt;</span> <span class="fu">inner_join</span>(Datos_mapaUE5, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"id"</span><span class="ot">=</span><span class="st">"geo"</span>))</span>
<span id="cb9-3"><a href="#cb9-3"></a></span>
<span id="cb9-4"><a href="#cb9-4"></a><span class="fu">ggplot</span>(mapaUE5) <span class="sc">+</span> <span class="fu">geom_sf</span>(<span class="fu">aes</span>(<span class="at">fill =</span> values), <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">linewidth =</span> <span class="fl">0.1</span>) <span class="sc">+</span> <span class="fu">coord_sf</span>(<span class="at">crs =</span> <span class="dv">3035</span>, <span class="at">xlim =</span> <span class="fu">c</span>(<span class="dv">2500000</span>, <span class="dv">6500000</span>), <span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">1500000</span>, <span class="dv">5200000</span>)) <span class="sc">+</span> <span class="fu">scale_fill_continuous</span>(<span class="at">low=</span><span class="st">"ivory"</span>,<span class="at">high=</span><span class="st">"skyblue4"</span>,<span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">label_comma</span>(<span class="at">big.mark =</span> <span class="st">"."</span>), <span class="at">guide =</span> <span class="fu">guide_colorbar</span>(<span class="at">frame.colour =</span> <span class="st">"black"</span>, <span class="at">ticks.colour =</span> <span class="st">"gray89"</span>)) <span class="sc">+</span> <span class="fu">theme_void</span>() <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Número de aves de corral por país (2020)"</span>,<span class="at">fill=</span><span class="st">"Miles de cabezas"</span>) <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">size =</span> <span class="dv">11</span>))</span>
<span id="cb9-5"><a href="#cb9-5"></a></span>
<span id="cb9-6"><a href="#cb9-6"></a>Datos_mapaUE5<span class="sc">|&gt;</span> <span class="fu">slice_max</span>(values, <span class="at">n=</span><span class="dv">5</span>)<span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">Pais =</span> <span class="fu">countrycode</span>(geo, <span class="at">origin =</span> <span class="st">"eurostat"</span>, <span class="at">destination =</span> <span class="st">"country.name"</span>))<span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">Rank =</span> <span class="fu">row_number</span>())<span class="sc">|&gt;</span> <span class="fu">rename</span>(<span class="st">"Mil.Cabezas"</span><span class="ot">=</span><span class="st">"values"</span>)<span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">Arc.Banderas =</span> <span class="fu">case_when</span>(</span>
<span id="cb9-7"><a href="#cb9-7"></a>    geo <span class="sc">==</span> <span class="st">"DE"</span> <span class="sc">~</span> <span class="st">"Alemania.webp"</span>,</span>
<span id="cb9-8"><a href="#cb9-8"></a>    geo <span class="sc">==</span> <span class="st">"ES"</span> <span class="sc">~</span> <span class="st">"España.webp"</span>,</span>
<span id="cb9-9"><a href="#cb9-9"></a>    geo <span class="sc">==</span> <span class="st">"IT"</span> <span class="sc">~</span> <span class="st">"Italia.webp"</span>,</span>
<span id="cb9-10"><a href="#cb9-10"></a>    geo <span class="sc">==</span> <span class="st">"EL"</span> <span class="sc">~</span> <span class="st">"Grecia.png"</span>,</span>
<span id="cb9-11"><a href="#cb9-11"></a>    geo <span class="sc">==</span> <span class="st">"IE"</span> <span class="sc">~</span> <span class="st">"Irlanda.png"</span>,</span>
<span id="cb9-12"><a href="#cb9-12"></a>    geo <span class="sc">==</span> <span class="st">"FR"</span> <span class="sc">~</span> <span class="st">"Francia.webp"</span>,</span>
<span id="cb9-13"><a href="#cb9-13"></a>    geo <span class="sc">==</span> <span class="st">"TR"</span> <span class="sc">~</span> <span class="st">"Turquia.webp"</span>,</span>
<span id="cb9-14"><a href="#cb9-14"></a>    geo <span class="sc">==</span> <span class="st">"DK"</span> <span class="sc">~</span> <span class="st">"Dinamarca.webp"</span>,</span>
<span id="cb9-15"><a href="#cb9-15"></a>    geo <span class="sc">==</span> <span class="st">"PL"</span> <span class="sc">~</span> <span class="st">"Polonia.png"</span>,</span>
<span id="cb9-16"><a href="#cb9-16"></a>    <span class="at">.default =</span>  <span class="st">""</span>))<span class="sc">|&gt;</span>  <span class="fu">mutate</span>(<span class="at">url_imagen =</span> <span class="fu">paste0</span>(<span class="st">"./imagenes/"</span>, Arc.Banderas)) <span class="sc">|&gt;</span></span>
<span id="cb9-17"><a href="#cb9-17"></a><span class="fu">gt</span>()<span class="sc">|&gt;</span> <span class="fu">cols_move_to_start</span>(<span class="at">columns=</span> <span class="fu">c</span>(Rank, url_imagen, Pais, Mil.Cabezas))<span class="sc">|&gt;</span></span>
<span id="cb9-18"><a href="#cb9-18"></a>  <span class="fu">cols_hide</span>(<span class="at">columns =</span> <span class="fu">c</span>(geo,Arc.Banderas))<span class="sc">|&gt;</span> <span class="fu">gt_img_rows</span>(<span class="at">columns =</span> url_imagen, <span class="at">height =</span> <span class="dv">20</span>)<span class="sc">|&gt;</span> <span class="fu">cols_label</span>(<span class="at">url_imagen =</span> <span class="st">""</span>)<span class="sc">|&gt;</span> <span class="fu">cols_align</span>(<span class="at">align =</span> <span class="st">"center"</span>, <span class="at">columns =</span> <span class="fu">c</span>(url_imagen, Rank, Pais, Mil.Cabezas))<span class="sc">|&gt;</span> <span class="fu">tab_header</span>(<span class="at">title =</span> <span class="st">"Paises europeos con mayor número de aves de corral (2020)"</span>)<span class="sc">|&gt;</span> <span class="fu">gt_theme_excel</span>()<span class="sc">|&gt;</span></span>
<span id="cb9-19"><a href="#cb9-19"></a>  <span class="fu">fmt_number</span>(<span class="at">columns =</span> Mil.Cabezas,<span class="at">sep_mark =</span> <span class="st">"."</span>, <span class="at">dec_mark =</span> <span class="st">","</span>, <span class="at">decimals =</span> <span class="dv">1</span>)</span></code></pre></div><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></div>
</details><div class="cell-output-display">
<div id="trlviiwiqm" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#trlviiwiqm table {
  font-family: Calibri, system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#trlviiwiqm thead, #trlviiwiqm tbody, #trlviiwiqm tfoot, #trlviiwiqm tr, #trlviiwiqm td, #trlviiwiqm th {
  border-style: none;
}

#trlviiwiqm p {
  margin: 0;
  padding: 0;
}

#trlviiwiqm .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #000000;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #000000;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #000000;
  border-left-style: solid;
  border-left-width: 2px;
  border-left-color: #000000;
}

#trlviiwiqm .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#trlviiwiqm .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#trlviiwiqm .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#trlviiwiqm .gt_heading {
  background-color: #FFFFFF;
  text-align: left;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#trlviiwiqm .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #000000;
}

#trlviiwiqm .gt_col_headings {
  border-top-style: none;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #000000;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#trlviiwiqm .gt_col_heading {
  color: #FFFFFF;
  background-color: #000000;
  font-size: 85%;
  font-weight: bold;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#trlviiwiqm .gt_column_spanner_outer {
  color: #FFFFFF;
  background-color: #000000;
  font-size: 85%;
  font-weight: bold;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#trlviiwiqm .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#trlviiwiqm .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#trlviiwiqm .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #000000;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#trlviiwiqm .gt_spanner_row {
  border-bottom-style: hidden;
}

#trlviiwiqm .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #000000;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #000000;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #000000;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #000000;
  vertical-align: middle;
  text-align: left;
}

#trlviiwiqm .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #000000;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #000000;
  vertical-align: middle;
}

#trlviiwiqm .gt_from_md > :first-child {
  margin-top: 0;
}

#trlviiwiqm .gt_from_md > :last-child {
  margin-bottom: 0;
}

#trlviiwiqm .gt_row {
  padding-top: 1px;
  padding-bottom: 1px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #000000;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #000000;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #000000;
  vertical-align: middle;
  overflow-x: hidden;
}

#trlviiwiqm .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #000000;
  padding-left: 5px;
  padding-right: 5px;
}

#trlviiwiqm .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#trlviiwiqm .gt_row_group_first td {
  border-top-width: 2px;
}

#trlviiwiqm .gt_row_group_first th {
  border-top-width: 2px;
}

#trlviiwiqm .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#trlviiwiqm .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#trlviiwiqm .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#trlviiwiqm .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#trlviiwiqm .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#trlviiwiqm .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#trlviiwiqm .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#trlviiwiqm .gt_striped {
  background-color: #D3D3D3;
}

#trlviiwiqm .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#trlviiwiqm .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#trlviiwiqm .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#trlviiwiqm .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#trlviiwiqm .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#trlviiwiqm .gt_left {
  text-align: left;
}

#trlviiwiqm .gt_center {
  text-align: center;
}

#trlviiwiqm .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#trlviiwiqm .gt_font_normal {
  font-weight: normal;
}

#trlviiwiqm .gt_font_bold {
  font-weight: bold;
}

#trlviiwiqm .gt_font_italic {
  font-style: italic;
}

#trlviiwiqm .gt_super {
  font-size: 65%;
}

#trlviiwiqm .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#trlviiwiqm .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#trlviiwiqm .gt_indent_1 {
  text-indent: 5px;
}

#trlviiwiqm .gt_indent_2 {
  text-indent: 10px;
}

#trlviiwiqm .gt_indent_3 {
  text-indent: 15px;
}

#trlviiwiqm .gt_indent_4 {
  text-indent: 20px;
}

#trlviiwiqm .gt_indent_5 {
  text-indent: 25px;
}

#trlviiwiqm .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#trlviiwiqm div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>
<table class="gt_table caption-top table table-sm table-striped small" data-quarto-bootstrap="false">
<thead>
<tr class="gt_heading header">
<td colspan="4" class="gt_heading gt_title gt_font_normal gt_bottom_border">Paises europeos con mayor número de aves de corral (2020)</td>
</tr>
<tr class="gt_col_headings even">
<th id="Rank" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" scope="col">Rank</th>
<th id="url_imagen" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" style="border-right-width: 2px; border-right-style: solid; border-right-color: black" scope="col"></th>
<th id="Pais" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" scope="col">Pais</th>
<th id="Mil.Cabezas" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" scope="col">Mil.Cabezas</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_center" headers="Rank" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">1</td>
<td class="gt_row gt_center" headers="url_imagen" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 2px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black"><img src="./imagenes/Francia.webp" class="img-fluid" style="height:20px;"></td>
<td class="gt_row gt_center" headers="Pais" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">France</td>
<td class="gt_row gt_center" headers="Mil.Cabezas" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">298.340,6</td>
</tr>
<tr class="even">
<td class="gt_row gt_center gt_striped" headers="Rank" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">2</td>
<td class="gt_row gt_center gt_striped" headers="url_imagen" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 2px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black"><img src="./imagenes/Polonia.png" class="img-fluid" style="height:20px;"></td>
<td class="gt_row gt_center gt_striped" headers="Pais" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">Poland</td>
<td class="gt_row gt_center gt_striped" headers="Mil.Cabezas" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">225.744,7</td>
</tr>
<tr class="odd">
<td class="gt_row gt_center" headers="Rank" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">3</td>
<td class="gt_row gt_center" headers="url_imagen" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 2px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black"><img src="./imagenes/España.webp" class="img-fluid" style="height:20px;"></td>
<td class="gt_row gt_center" headers="Pais" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">Spain</td>
<td class="gt_row gt_center" headers="Mil.Cabezas" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">211.576,4</td>
</tr>
<tr class="even">
<td class="gt_row gt_center gt_striped" headers="Rank" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">4</td>
<td class="gt_row gt_center gt_striped" headers="url_imagen" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 2px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black"><img src="./imagenes/Italia.webp" class="img-fluid" style="height:20px;"></td>
<td class="gt_row gt_center gt_striped" headers="Pais" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">Italy</td>
<td class="gt_row gt_center gt_striped" headers="Mil.Cabezas" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">173.382,8</td>
</tr>
<tr class="odd">
<td class="gt_row gt_center" headers="Rank" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 2px; border-bottom-style: solid; border-bottom-color: black">5</td>
<td class="gt_row gt_center" headers="url_imagen" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 2px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 2px; border-bottom-style: solid; border-bottom-color: black"><img src="./imagenes/Alemania.webp" class="img-fluid" style="height:20px;"></td>
<td class="gt_row gt_center" headers="Pais" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 2px; border-bottom-style: solid; border-bottom-color: black">Germany</td>
<td class="gt_row gt_center" headers="Mil.Cabezas" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 2px; border-bottom-style: solid; border-bottom-color: black">173.148,2</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><a href="my_trabajo_BigData_files/figure-html/unnamed-chunk-9-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-6"><img src="my_trabajo_BigData_files/figure-html/unnamed-chunk-9-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:95.0%"></a></p>
</figure>
</div>
</div>
</div>
</section><section id="concentración-de-bovinos-por-país" class="level2"><h2 class="anchored" data-anchor-id="concentración-de-bovinos-por-país">4.3. Concentración de bovinos por país</h2>
<p>La población de bovinos en Europa se concentra principalmente en Turquía, seguida de Francia y Alemania. Esta distribución se explica por la extensión territorial, la disponibilidad de amplias superficies de pasto y la importancia histórica y económica del sector bovino en estos países.</p>
<p>En el caso de Turquía, el elevado número de bovinos está relacionado con su gran tamaño, la diversidad de sus sistemas productivos y el peso de la ganadería tradicional, tanto para la producción de carne como de leche. Francia destaca por su fuerte especialización en el ganado bovino, especialmente en el de carne, apoyada en extensas zonas rurales y una larga tradición ganadera. Por su parte, Alemania combina una ganadería bovina intensiva y tecnificada con un importante sector lechero, lo que contribuye a su elevada cabaña bovina.</p>
<div class="cell" data-layout-align="center">
<details class="code-fold"><summary>Código</summary><div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a>Datos_mapaUE6 <span class="ot">&lt;-</span> Nº_bovinos<span class="sc">|&gt;</span> <span class="fu">filter</span>(Year<span class="sc">==</span><span class="st">"2020"</span>, animals<span class="sc">==</span><span class="st">"A2000"</span>,  geo<span class="sc">!=</span><span class="st">"EU27_2020"</span>, month<span class="sc">==</span><span class="st">"M12"</span>)<span class="sc">|&gt;</span> <span class="fu">select</span>(geo, values)</span>
<span id="cb10-2"><a href="#cb10-2"></a>mapaUE6 <span class="ot">&lt;-</span> mapa_ue<span class="sc">|&gt;</span> <span class="fu">inner_join</span>(Datos_mapaUE6, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"id"</span><span class="ot">=</span><span class="st">"geo"</span>))</span>
<span id="cb10-3"><a href="#cb10-3"></a></span>
<span id="cb10-4"><a href="#cb10-4"></a><span class="fu">ggplot</span>(mapaUE6) <span class="sc">+</span> <span class="fu">geom_sf</span>(<span class="fu">aes</span>(<span class="at">fill =</span> values), <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">linewidth =</span> <span class="fl">0.1</span>) <span class="sc">+</span> <span class="fu">coord_sf</span>(<span class="at">crs =</span> <span class="dv">3035</span>, <span class="at">xlim =</span> <span class="fu">c</span>(<span class="dv">2500000</span>, <span class="dv">6500000</span>), <span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">1500000</span>, <span class="dv">5200000</span>)) <span class="sc">+</span> <span class="fu">scale_fill_continuous</span>(<span class="at">low=</span><span class="st">"ivory"</span>,<span class="at">high=</span><span class="st">"#30123b"</span>,<span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">label_comma</span>(<span class="at">big.mark =</span> <span class="st">"."</span>), <span class="at">guide =</span> <span class="fu">guide_colorbar</span>(<span class="at">frame.colour =</span> <span class="st">"black"</span>, <span class="at">ticks.colour =</span> <span class="st">"gray89"</span>)) <span class="sc">+</span> <span class="fu">theme_void</span>() <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Número de bovinos por país (2020)"</span>, <span class="at">fill=</span><span class="st">"Miles de cabezas"</span>) <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">size =</span> <span class="dv">11</span>))</span>
<span id="cb10-5"><a href="#cb10-5"></a></span>
<span id="cb10-6"><a href="#cb10-6"></a>Datos_mapaUE6<span class="sc">|&gt;</span> <span class="fu">slice_max</span>(values, <span class="at">n=</span><span class="dv">5</span>)<span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">Pais =</span> <span class="fu">countrycode</span>(geo, <span class="at">origin =</span> <span class="st">"eurostat"</span>, <span class="at">destination =</span> <span class="st">"country.name"</span>))<span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">Rank =</span> <span class="fu">row_number</span>())<span class="sc">|&gt;</span> <span class="fu">rename</span>(<span class="st">"Mil.Cabezas"</span><span class="ot">=</span><span class="st">"values"</span>)<span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">Arc.Banderas =</span> <span class="fu">case_when</span>(</span>
<span id="cb10-7"><a href="#cb10-7"></a>    geo <span class="sc">==</span> <span class="st">"DE"</span> <span class="sc">~</span> <span class="st">"Alemania.webp"</span>,</span>
<span id="cb10-8"><a href="#cb10-8"></a>    geo <span class="sc">==</span> <span class="st">"ES"</span> <span class="sc">~</span> <span class="st">"España.webp"</span>,</span>
<span id="cb10-9"><a href="#cb10-9"></a>    geo <span class="sc">==</span> <span class="st">"IT"</span> <span class="sc">~</span> <span class="st">"Italia.webp"</span>,</span>
<span id="cb10-10"><a href="#cb10-10"></a>    geo <span class="sc">==</span> <span class="st">"EL"</span> <span class="sc">~</span> <span class="st">"Grecia.png"</span>,</span>
<span id="cb10-11"><a href="#cb10-11"></a>    geo <span class="sc">==</span> <span class="st">"IE"</span> <span class="sc">~</span> <span class="st">"Irlanda.png"</span>,</span>
<span id="cb10-12"><a href="#cb10-12"></a>    geo <span class="sc">==</span> <span class="st">"FR"</span> <span class="sc">~</span> <span class="st">"Francia.webp"</span>,</span>
<span id="cb10-13"><a href="#cb10-13"></a>    geo <span class="sc">==</span> <span class="st">"TR"</span> <span class="sc">~</span> <span class="st">"Turquia.webp"</span>,</span>
<span id="cb10-14"><a href="#cb10-14"></a>    geo <span class="sc">==</span> <span class="st">"DK"</span> <span class="sc">~</span> <span class="st">"Dinamarca.webp"</span>,</span>
<span id="cb10-15"><a href="#cb10-15"></a>    geo <span class="sc">==</span> <span class="st">"PL"</span> <span class="sc">~</span> <span class="st">"Polonia.png"</span>,</span>
<span id="cb10-16"><a href="#cb10-16"></a>    <span class="at">.default =</span>  <span class="st">""</span>))<span class="sc">|&gt;</span>  <span class="fu">mutate</span>(<span class="at">url_imagen =</span> <span class="fu">paste0</span>(<span class="st">"./imagenes/"</span>, Arc.Banderas)) <span class="sc">|&gt;</span></span>
<span id="cb10-17"><a href="#cb10-17"></a><span class="fu">gt</span>()<span class="sc">|&gt;</span> <span class="fu">cols_move_to_start</span>(<span class="at">columns=</span> <span class="fu">c</span>(Rank, url_imagen, Pais, Mil.Cabezas))<span class="sc">|&gt;</span></span>
<span id="cb10-18"><a href="#cb10-18"></a>  <span class="fu">cols_hide</span>(<span class="at">columns =</span> <span class="fu">c</span>(geo,Arc.Banderas))<span class="sc">|&gt;</span> <span class="fu">gt_img_rows</span>(<span class="at">columns =</span> url_imagen, <span class="at">height =</span> <span class="dv">20</span>)<span class="sc">|&gt;</span> <span class="fu">cols_label</span>(<span class="at">url_imagen =</span> <span class="st">""</span>)<span class="sc">|&gt;</span> <span class="fu">cols_align</span>(<span class="at">align =</span> <span class="st">"center"</span>, <span class="at">columns =</span> <span class="fu">c</span>(url_imagen, Rank, Pais, Mil.Cabezas))<span class="sc">|&gt;</span> <span class="fu">tab_header</span>(<span class="at">title =</span> <span class="st">"Paises europeos con mayor número de bovinos (2020)"</span>)<span class="sc">|&gt;</span> <span class="fu">gt_theme_excel</span>()<span class="sc">|&gt;</span></span>
<span id="cb10-19"><a href="#cb10-19"></a>  <span class="fu">fmt_number</span>(<span class="at">columns =</span> Mil.Cabezas,<span class="at">sep_mark =</span> <span class="st">"."</span>, <span class="at">dec_mark =</span> <span class="st">","</span>, <span class="at">decimals =</span> <span class="dv">1</span>)</span></code></pre></div><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></div>
</details><div class="cell-output-display">
<div id="mcucrwracz" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#mcucrwracz table {
  font-family: Calibri, system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#mcucrwracz thead, #mcucrwracz tbody, #mcucrwracz tfoot, #mcucrwracz tr, #mcucrwracz td, #mcucrwracz th {
  border-style: none;
}

#mcucrwracz p {
  margin: 0;
  padding: 0;
}

#mcucrwracz .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #000000;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #000000;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #000000;
  border-left-style: solid;
  border-left-width: 2px;
  border-left-color: #000000;
}

#mcucrwracz .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#mcucrwracz .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#mcucrwracz .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#mcucrwracz .gt_heading {
  background-color: #FFFFFF;
  text-align: left;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#mcucrwracz .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #000000;
}

#mcucrwracz .gt_col_headings {
  border-top-style: none;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #000000;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#mcucrwracz .gt_col_heading {
  color: #FFFFFF;
  background-color: #000000;
  font-size: 85%;
  font-weight: bold;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#mcucrwracz .gt_column_spanner_outer {
  color: #FFFFFF;
  background-color: #000000;
  font-size: 85%;
  font-weight: bold;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#mcucrwracz .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#mcucrwracz .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#mcucrwracz .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #000000;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#mcucrwracz .gt_spanner_row {
  border-bottom-style: hidden;
}

#mcucrwracz .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #000000;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #000000;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #000000;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #000000;
  vertical-align: middle;
  text-align: left;
}

#mcucrwracz .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #000000;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #000000;
  vertical-align: middle;
}

#mcucrwracz .gt_from_md > :first-child {
  margin-top: 0;
}

#mcucrwracz .gt_from_md > :last-child {
  margin-bottom: 0;
}

#mcucrwracz .gt_row {
  padding-top: 1px;
  padding-bottom: 1px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #000000;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #000000;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #000000;
  vertical-align: middle;
  overflow-x: hidden;
}

#mcucrwracz .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #000000;
  padding-left: 5px;
  padding-right: 5px;
}

#mcucrwracz .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#mcucrwracz .gt_row_group_first td {
  border-top-width: 2px;
}

#mcucrwracz .gt_row_group_first th {
  border-top-width: 2px;
}

#mcucrwracz .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#mcucrwracz .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#mcucrwracz .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#mcucrwracz .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#mcucrwracz .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#mcucrwracz .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#mcucrwracz .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#mcucrwracz .gt_striped {
  background-color: #D3D3D3;
}

#mcucrwracz .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#mcucrwracz .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#mcucrwracz .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#mcucrwracz .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#mcucrwracz .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#mcucrwracz .gt_left {
  text-align: left;
}

#mcucrwracz .gt_center {
  text-align: center;
}

#mcucrwracz .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#mcucrwracz .gt_font_normal {
  font-weight: normal;
}

#mcucrwracz .gt_font_bold {
  font-weight: bold;
}

#mcucrwracz .gt_font_italic {
  font-style: italic;
}

#mcucrwracz .gt_super {
  font-size: 65%;
}

#mcucrwracz .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#mcucrwracz .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#mcucrwracz .gt_indent_1 {
  text-indent: 5px;
}

#mcucrwracz .gt_indent_2 {
  text-indent: 10px;
}

#mcucrwracz .gt_indent_3 {
  text-indent: 15px;
}

#mcucrwracz .gt_indent_4 {
  text-indent: 20px;
}

#mcucrwracz .gt_indent_5 {
  text-indent: 25px;
}

#mcucrwracz .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#mcucrwracz div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>
<table class="gt_table caption-top table table-sm table-striped small" data-quarto-bootstrap="false">
<thead>
<tr class="gt_heading header">
<td colspan="4" class="gt_heading gt_title gt_font_normal gt_bottom_border">Paises europeos con mayor número de bovinos (2020)</td>
</tr>
<tr class="gt_col_headings even">
<th id="Rank" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" scope="col">Rank</th>
<th id="url_imagen" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" style="border-right-width: 2px; border-right-style: solid; border-right-color: black" scope="col"></th>
<th id="Pais" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" scope="col">Pais</th>
<th id="Mil.Cabezas" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" scope="col">Mil.Cabezas</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_center" headers="Rank" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">1</td>
<td class="gt_row gt_center" headers="url_imagen" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 2px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black"><img src="./imagenes/Turquia.webp" class="img-fluid" style="height:20px;"></td>
<td class="gt_row gt_center" headers="Pais" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">Turkey</td>
<td class="gt_row gt_center" headers="Mil.Cabezas" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">18.158,0</td>
</tr>
<tr class="even">
<td class="gt_row gt_center gt_striped" headers="Rank" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">2</td>
<td class="gt_row gt_center gt_striped" headers="url_imagen" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 2px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black"><img src="./imagenes/Francia.webp" class="img-fluid" style="height:20px;"></td>
<td class="gt_row gt_center gt_striped" headers="Pais" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">France</td>
<td class="gt_row gt_center gt_striped" headers="Mil.Cabezas" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">17.815,7</td>
</tr>
<tr class="odd">
<td class="gt_row gt_center" headers="Rank" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">3</td>
<td class="gt_row gt_center" headers="url_imagen" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 2px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black"><img src="./imagenes/Alemania.webp" class="img-fluid" style="height:20px;"></td>
<td class="gt_row gt_center" headers="Pais" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">Germany</td>
<td class="gt_row gt_center" headers="Mil.Cabezas" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">11.301,9</td>
</tr>
<tr class="even">
<td class="gt_row gt_center gt_striped" headers="Rank" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">4</td>
<td class="gt_row gt_center gt_striped" headers="url_imagen" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 2px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black"><img src="./imagenes/España.webp" class="img-fluid" style="height:20px;"></td>
<td class="gt_row gt_center gt_striped" headers="Pais" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">Spain</td>
<td class="gt_row gt_center gt_striped" headers="Mil.Cabezas" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">6.636,4</td>
</tr>
<tr class="odd">
<td class="gt_row gt_center" headers="Rank" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 2px; border-bottom-style: solid; border-bottom-color: black">5</td>
<td class="gt_row gt_center" headers="url_imagen" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 2px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 2px; border-bottom-style: solid; border-bottom-color: black"><img src="./imagenes/Irlanda.png" class="img-fluid" style="height:20px;"></td>
<td class="gt_row gt_center" headers="Pais" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 2px; border-bottom-style: solid; border-bottom-color: black">Ireland</td>
<td class="gt_row gt_center" headers="Mil.Cabezas" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 2px; border-bottom-style: solid; border-bottom-color: black">6.529,4</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><a href="my_trabajo_BigData_files/figure-html/unnamed-chunk-10-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-7"><img src="my_trabajo_BigData_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:95.0%"></a></p>
</figure>
</div>
</div>
</div>
</section><section id="concentración-de-ovinos-por-país" class="level2"><h2 class="anchored" data-anchor-id="concentración-de-ovinos-por-país">4.4. Concentración de ovinos por país</h2>
<p>La población de ovinos en Europa se concentra principalmente en Turquía, seguida de España y Rumanía. Esta distribución se explica por la extensión territorial, las condiciones climáticas favorables y la importancia histórica de la ganadería ovina en estos países.</p>
<p>En el caso de Turquía, el elevado número de ovinos está vinculado a la presencia de amplias zonas rurales de carácter seco o semiárido, donde este tipo de ganado se adapta mejor que otras especies. España destaca por su larga tradición pastoril y por la existencia de sistemas de ganadería extensiva, especialmente en regiones como Extremadura, Castilla y León y Andalucía. Por su parte, Rumanía mantiene una importante cabaña ovina asociada a su medio rural y a modelos productivos tradicionales, en los que el ovino desempeña un papel clave tanto económico como cultural.</p>
<div class="cell" data-layout-align="center">
<details class="code-fold"><summary>Código</summary><div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb11"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1"></a>Datos_mapaUE7 <span class="ot">&lt;-</span> Nº_Ovinos<span class="sc">|&gt;</span> <span class="fu">filter</span>(Year<span class="sc">==</span><span class="st">"2020"</span>, animals<span class="sc">==</span><span class="st">"A4100"</span>,  geo<span class="sc">!=</span><span class="st">"EU27_2020"</span>)<span class="sc">|&gt;</span> <span class="fu">select</span>(geo, values)</span>
<span id="cb11-2"><a href="#cb11-2"></a>mapaUE7 <span class="ot">&lt;-</span> mapa_ue<span class="sc">|&gt;</span> <span class="fu">inner_join</span>(Datos_mapaUE7, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"id"</span><span class="ot">=</span><span class="st">"geo"</span>))</span>
<span id="cb11-3"><a href="#cb11-3"></a></span>
<span id="cb11-4"><a href="#cb11-4"></a><span class="fu">ggplot</span>(mapaUE7) <span class="sc">+</span> <span class="fu">geom_sf</span>(<span class="fu">aes</span>(<span class="at">fill =</span> values), <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">linewidth =</span> <span class="fl">0.1</span>) <span class="sc">+</span> <span class="fu">coord_sf</span>(<span class="at">crs =</span> <span class="dv">3035</span>, <span class="at">xlim =</span> <span class="fu">c</span>(<span class="dv">2500000</span>, <span class="dv">6500000</span>), <span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">1500000</span>, <span class="dv">5200000</span>)) <span class="sc">+</span> <span class="fu">scale_fill_continuous</span>(<span class="at">low=</span><span class="st">"ivory"</span>,<span class="at">high=</span><span class="st">"chartreuse"</span>,<span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">label_comma</span>(<span class="at">big.mark =</span> <span class="st">"."</span>), <span class="at">guide =</span> <span class="fu">guide_colorbar</span>(<span class="at">frame.colour =</span> <span class="st">"black"</span>, <span class="at">ticks.colour =</span> <span class="st">"gray57"</span>)) <span class="sc">+</span> <span class="fu">theme_void</span>() <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Número de ovinos por país (2020)"</span>, <span class="at">fill=</span><span class="st">"Miles de cabezas"</span>) <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">size =</span> <span class="dv">11</span>))</span>
<span id="cb11-5"><a href="#cb11-5"></a></span>
<span id="cb11-6"><a href="#cb11-6"></a>Datos_mapaUE7<span class="sc">|&gt;</span> <span class="fu">slice_max</span>(values, <span class="at">n=</span><span class="dv">5</span>)<span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">Pais =</span> <span class="fu">countrycode</span>(geo, <span class="at">origin =</span> <span class="st">"eurostat"</span>, <span class="at">destination =</span> <span class="st">"country.name"</span>))<span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">Rank =</span> <span class="fu">row_number</span>())<span class="sc">|&gt;</span> <span class="fu">rename</span>(<span class="st">"Mil.Cabezas"</span><span class="ot">=</span><span class="st">"values"</span>)<span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">Arc.Banderas =</span> <span class="fu">case_when</span>(</span>
<span id="cb11-7"><a href="#cb11-7"></a>    geo <span class="sc">==</span> <span class="st">"DE"</span> <span class="sc">~</span> <span class="st">"Alemania.webp"</span>,</span>
<span id="cb11-8"><a href="#cb11-8"></a>    geo <span class="sc">==</span> <span class="st">"ES"</span> <span class="sc">~</span> <span class="st">"España.webp"</span>,</span>
<span id="cb11-9"><a href="#cb11-9"></a>    geo <span class="sc">==</span> <span class="st">"IT"</span> <span class="sc">~</span> <span class="st">"Italia.webp"</span>,</span>
<span id="cb11-10"><a href="#cb11-10"></a>    geo <span class="sc">==</span> <span class="st">"EL"</span> <span class="sc">~</span> <span class="st">"Grecia.png"</span>,</span>
<span id="cb11-11"><a href="#cb11-11"></a>    geo <span class="sc">==</span> <span class="st">"IE"</span> <span class="sc">~</span> <span class="st">"Irlanda.png"</span>,</span>
<span id="cb11-12"><a href="#cb11-12"></a>    geo <span class="sc">==</span> <span class="st">"FR"</span> <span class="sc">~</span> <span class="st">"Francia.webp"</span>,</span>
<span id="cb11-13"><a href="#cb11-13"></a>    geo <span class="sc">==</span> <span class="st">"TR"</span> <span class="sc">~</span> <span class="st">"Turquia.webp"</span>,</span>
<span id="cb11-14"><a href="#cb11-14"></a>    geo <span class="sc">==</span> <span class="st">"DK"</span> <span class="sc">~</span> <span class="st">"Dinamarca.webp"</span>,</span>
<span id="cb11-15"><a href="#cb11-15"></a>    geo <span class="sc">==</span> <span class="st">"PL"</span> <span class="sc">~</span> <span class="st">"Polonia.png"</span>,</span>
<span id="cb11-16"><a href="#cb11-16"></a>    geo <span class="sc">==</span> <span class="st">"RO"</span> <span class="sc">~</span> <span class="st">"Rumania.webp"</span>,</span>
<span id="cb11-17"><a href="#cb11-17"></a>    <span class="at">.default =</span>  <span class="st">""</span>))<span class="sc">|&gt;</span>  <span class="fu">mutate</span>(<span class="at">url_imagen =</span> <span class="fu">paste0</span>(<span class="st">"./imagenes/"</span>, Arc.Banderas)) <span class="sc">|&gt;</span></span>
<span id="cb11-18"><a href="#cb11-18"></a><span class="fu">gt</span>()<span class="sc">|&gt;</span> <span class="fu">cols_move_to_start</span>(<span class="at">columns=</span> <span class="fu">c</span>(Rank, url_imagen, Pais, Mil.Cabezas))<span class="sc">|&gt;</span></span>
<span id="cb11-19"><a href="#cb11-19"></a>  <span class="fu">cols_hide</span>(<span class="at">columns =</span> <span class="fu">c</span>(geo,Arc.Banderas))<span class="sc">|&gt;</span> <span class="fu">gt_img_rows</span>(<span class="at">columns =</span> url_imagen, <span class="at">height =</span> <span class="dv">20</span>)<span class="sc">|&gt;</span> <span class="fu">cols_label</span>(<span class="at">url_imagen =</span> <span class="st">""</span>)<span class="sc">|&gt;</span> <span class="fu">cols_align</span>(<span class="at">align =</span> <span class="st">"center"</span>, <span class="at">columns =</span> <span class="fu">c</span>(url_imagen, Rank, Pais, Mil.Cabezas))<span class="sc">|&gt;</span> <span class="fu">tab_header</span>(<span class="at">title =</span> <span class="st">"Paises europeos con mayor número de ovinos (2020)"</span>)<span class="sc">|&gt;</span> <span class="fu">gt_theme_excel</span>()<span class="sc">|&gt;</span></span>
<span id="cb11-20"><a href="#cb11-20"></a>  <span class="fu">fmt_number</span>(<span class="at">columns =</span> Mil.Cabezas,<span class="at">sep_mark =</span> <span class="st">"."</span>, <span class="at">dec_mark =</span> <span class="st">","</span>, <span class="at">decimals =</span> <span class="dv">1</span>)</span></code></pre></div><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></div>
</details><div class="cell-output-display">
<div id="baofcrvhiq" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#baofcrvhiq table {
  font-family: Calibri, system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#baofcrvhiq thead, #baofcrvhiq tbody, #baofcrvhiq tfoot, #baofcrvhiq tr, #baofcrvhiq td, #baofcrvhiq th {
  border-style: none;
}

#baofcrvhiq p {
  margin: 0;
  padding: 0;
}

#baofcrvhiq .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #000000;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #000000;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #000000;
  border-left-style: solid;
  border-left-width: 2px;
  border-left-color: #000000;
}

#baofcrvhiq .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#baofcrvhiq .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#baofcrvhiq .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#baofcrvhiq .gt_heading {
  background-color: #FFFFFF;
  text-align: left;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#baofcrvhiq .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #000000;
}

#baofcrvhiq .gt_col_headings {
  border-top-style: none;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #000000;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#baofcrvhiq .gt_col_heading {
  color: #FFFFFF;
  background-color: #000000;
  font-size: 85%;
  font-weight: bold;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#baofcrvhiq .gt_column_spanner_outer {
  color: #FFFFFF;
  background-color: #000000;
  font-size: 85%;
  font-weight: bold;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#baofcrvhiq .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#baofcrvhiq .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#baofcrvhiq .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #000000;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#baofcrvhiq .gt_spanner_row {
  border-bottom-style: hidden;
}

#baofcrvhiq .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #000000;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #000000;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #000000;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #000000;
  vertical-align: middle;
  text-align: left;
}

#baofcrvhiq .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #000000;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #000000;
  vertical-align: middle;
}

#baofcrvhiq .gt_from_md > :first-child {
  margin-top: 0;
}

#baofcrvhiq .gt_from_md > :last-child {
  margin-bottom: 0;
}

#baofcrvhiq .gt_row {
  padding-top: 1px;
  padding-bottom: 1px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #000000;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #000000;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #000000;
  vertical-align: middle;
  overflow-x: hidden;
}

#baofcrvhiq .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #000000;
  padding-left: 5px;
  padding-right: 5px;
}

#baofcrvhiq .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#baofcrvhiq .gt_row_group_first td {
  border-top-width: 2px;
}

#baofcrvhiq .gt_row_group_first th {
  border-top-width: 2px;
}

#baofcrvhiq .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#baofcrvhiq .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#baofcrvhiq .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#baofcrvhiq .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#baofcrvhiq .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#baofcrvhiq .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#baofcrvhiq .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#baofcrvhiq .gt_striped {
  background-color: #D3D3D3;
}

#baofcrvhiq .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#baofcrvhiq .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#baofcrvhiq .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#baofcrvhiq .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#baofcrvhiq .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#baofcrvhiq .gt_left {
  text-align: left;
}

#baofcrvhiq .gt_center {
  text-align: center;
}

#baofcrvhiq .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#baofcrvhiq .gt_font_normal {
  font-weight: normal;
}

#baofcrvhiq .gt_font_bold {
  font-weight: bold;
}

#baofcrvhiq .gt_font_italic {
  font-style: italic;
}

#baofcrvhiq .gt_super {
  font-size: 65%;
}

#baofcrvhiq .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#baofcrvhiq .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#baofcrvhiq .gt_indent_1 {
  text-indent: 5px;
}

#baofcrvhiq .gt_indent_2 {
  text-indent: 10px;
}

#baofcrvhiq .gt_indent_3 {
  text-indent: 15px;
}

#baofcrvhiq .gt_indent_4 {
  text-indent: 20px;
}

#baofcrvhiq .gt_indent_5 {
  text-indent: 25px;
}

#baofcrvhiq .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#baofcrvhiq div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>
<table class="gt_table caption-top table table-sm table-striped small" data-quarto-bootstrap="false">
<thead>
<tr class="gt_heading header">
<td colspan="4" class="gt_heading gt_title gt_font_normal gt_bottom_border">Paises europeos con mayor número de ovinos (2020)</td>
</tr>
<tr class="gt_col_headings even">
<th id="Rank" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" scope="col">Rank</th>
<th id="url_imagen" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" style="border-right-width: 2px; border-right-style: solid; border-right-color: black" scope="col"></th>
<th id="Pais" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" scope="col">Pais</th>
<th id="Mil.Cabezas" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" scope="col">Mil.Cabezas</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_center" headers="Rank" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">1</td>
<td class="gt_row gt_center" headers="url_imagen" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 2px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black"><img src="./imagenes/Turquia.webp" class="img-fluid" style="height:20px;"></td>
<td class="gt_row gt_center" headers="Pais" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">Turkey</td>
<td class="gt_row gt_center" headers="Mil.Cabezas" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">42.126,8</td>
</tr>
<tr class="even">
<td class="gt_row gt_center gt_striped" headers="Rank" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">2</td>
<td class="gt_row gt_center gt_striped" headers="url_imagen" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 2px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black"><img src="./imagenes/España.webp" class="img-fluid" style="height:20px;"></td>
<td class="gt_row gt_center gt_striped" headers="Pais" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">Spain</td>
<td class="gt_row gt_center gt_striped" headers="Mil.Cabezas" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">15.439,2</td>
</tr>
<tr class="odd">
<td class="gt_row gt_center" headers="Rank" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">3</td>
<td class="gt_row gt_center" headers="url_imagen" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 2px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black"><img src="./imagenes/Rumania.webp" class="img-fluid" style="height:20px;"></td>
<td class="gt_row gt_center" headers="Pais" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">Romania</td>
<td class="gt_row gt_center" headers="Mil.Cabezas" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">10.281,5</td>
</tr>
<tr class="even">
<td class="gt_row gt_center gt_striped" headers="Rank" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">4</td>
<td class="gt_row gt_center gt_striped" headers="url_imagen" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 2px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black"><img src="./imagenes/Grecia.png" class="img-fluid" style="height:20px;"></td>
<td class="gt_row gt_center gt_striped" headers="Pais" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">Greece</td>
<td class="gt_row gt_center gt_striped" headers="Mil.Cabezas" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">7.721,8</td>
</tr>
<tr class="odd">
<td class="gt_row gt_center" headers="Rank" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 2px; border-bottom-style: solid; border-bottom-color: black">5</td>
<td class="gt_row gt_center" headers="url_imagen" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 2px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 2px; border-bottom-style: solid; border-bottom-color: black"><img src="./imagenes/Italia.webp" class="img-fluid" style="height:20px;"></td>
<td class="gt_row gt_center" headers="Pais" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 2px; border-bottom-style: solid; border-bottom-color: black">Italy</td>
<td class="gt_row gt_center" headers="Mil.Cabezas" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 2px; border-bottom-style: solid; border-bottom-color: black">7.034,2</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><a href="my_trabajo_BigData_files/figure-html/unnamed-chunk-11-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-8"><img src="my_trabajo_BigData_files/figure-html/unnamed-chunk-11-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:95.0%"></a></p>
</figure>
</div>
</div>
</div>
</section><section id="concentración-de-porcino-por-país" class="level2"><h2 class="anchored" data-anchor-id="concentración-de-porcino-por-país">4.5. Concentración de porcino por país</h2>
<p>La población de porcinos en Europa se concentra principalmente en España, seguida de Alemania y Francia. Esta distribución responde a la especialización productiva de estos países, así como al desarrollo de modelos de ganadería intensiva altamente tecnificados.</p>
<p>España destaca como principal productor porcino europeo gracias a la fuerte integración del sector, la existencia de una potente industria cárnica, unos costes de producción competitivos y una clara orientación exportadora, especialmente hacia otros países de la Unión Europea y mercados internacionales. Alemania, por su parte, ha mantenido históricamente un importante censo porcino apoyado en una industria transformadora consolidada y en una elevada demanda interna. Francia, aunque con un peso menor, continúa siendo un actor relevante gracias a su estructura productiva y a la especialización regional del sector porcino.</p>
<div class="cell" data-layout-align="center">
<details class="code-fold"><summary>Código</summary><div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a>Datos_mapaUE8 <span class="ot">&lt;-</span> Nº_Porcinos<span class="sc">|&gt;</span> <span class="fu">filter</span>(Year<span class="sc">==</span><span class="st">"2020"</span>, animals<span class="sc">==</span><span class="st">"A3100"</span>,  geo<span class="sc">!=</span><span class="st">"EU27_2020"</span>)<span class="sc">|&gt;</span> <span class="fu">select</span>(geo, values)</span>
<span id="cb12-2"><a href="#cb12-2"></a>mapaUE8 <span class="ot">&lt;-</span> mapa_ue<span class="sc">|&gt;</span> <span class="fu">inner_join</span>(Datos_mapaUE8, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"id"</span><span class="ot">=</span><span class="st">"geo"</span>))</span>
<span id="cb12-3"><a href="#cb12-3"></a></span>
<span id="cb12-4"><a href="#cb12-4"></a><span class="fu">ggplot</span>(mapaUE8) <span class="sc">+</span> <span class="fu">geom_sf</span>(<span class="fu">aes</span>(<span class="at">fill =</span> values), <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">linewidth =</span> <span class="fl">0.1</span>) <span class="sc">+</span> <span class="fu">coord_sf</span>(<span class="at">crs =</span> <span class="dv">3035</span>, <span class="at">xlim =</span> <span class="fu">c</span>(<span class="dv">2500000</span>, <span class="dv">6500000</span>), <span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">1500000</span>, <span class="dv">5200000</span>)) <span class="sc">+</span> <span class="fu">scale_fill_continuous</span>(<span class="at">low=</span><span class="st">"ivory"</span>,<span class="at">high=</span><span class="st">"red4"</span>,<span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">label_comma</span>(<span class="at">big.mark =</span> <span class="st">"."</span>), <span class="at">guide =</span> <span class="fu">guide_colorbar</span>(<span class="at">frame.colour =</span> <span class="st">"black"</span>, <span class="at">ticks.colour =</span> <span class="st">"gray89"</span>)) <span class="sc">+</span> <span class="fu">theme_void</span>() <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Número de porcinos por país (2020)"</span>, <span class="at">fill=</span><span class="st">"Miles de cabezas"</span>) <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">size =</span> <span class="dv">11</span>))</span>
<span id="cb12-5"><a href="#cb12-5"></a></span>
<span id="cb12-6"><a href="#cb12-6"></a>Datos_mapaUE8<span class="sc">|&gt;</span> <span class="fu">slice_max</span>(values, <span class="at">n=</span><span class="dv">5</span>)<span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">Pais =</span> <span class="fu">countrycode</span>(geo, <span class="at">origin =</span> <span class="st">"eurostat"</span>, <span class="at">destination =</span> <span class="st">"country.name"</span>))<span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">Rank =</span> <span class="fu">row_number</span>())<span class="sc">|&gt;</span> <span class="fu">rename</span>(<span class="st">"Mil.Cabezas"</span><span class="ot">=</span><span class="st">"values"</span>)<span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">Arc.Banderas =</span> <span class="fu">case_when</span>(</span>
<span id="cb12-7"><a href="#cb12-7"></a>    geo <span class="sc">==</span> <span class="st">"DE"</span> <span class="sc">~</span> <span class="st">"Alemania.webp"</span>,</span>
<span id="cb12-8"><a href="#cb12-8"></a>    geo <span class="sc">==</span> <span class="st">"ES"</span> <span class="sc">~</span> <span class="st">"España.webp"</span>,</span>
<span id="cb12-9"><a href="#cb12-9"></a>    geo <span class="sc">==</span> <span class="st">"IT"</span> <span class="sc">~</span> <span class="st">"Italia.webp"</span>,</span>
<span id="cb12-10"><a href="#cb12-10"></a>    geo <span class="sc">==</span> <span class="st">"EL"</span> <span class="sc">~</span> <span class="st">"Grecia.png"</span>,</span>
<span id="cb12-11"><a href="#cb12-11"></a>    geo <span class="sc">==</span> <span class="st">"IE"</span> <span class="sc">~</span> <span class="st">"Irlanda.png"</span>,</span>
<span id="cb12-12"><a href="#cb12-12"></a>    geo <span class="sc">==</span> <span class="st">"FR"</span> <span class="sc">~</span> <span class="st">"Francia.webp"</span>,</span>
<span id="cb12-13"><a href="#cb12-13"></a>    geo <span class="sc">==</span> <span class="st">"TR"</span> <span class="sc">~</span> <span class="st">"Turquia.webp"</span>,</span>
<span id="cb12-14"><a href="#cb12-14"></a>    geo <span class="sc">==</span> <span class="st">"DK"</span> <span class="sc">~</span> <span class="st">"Dinamarca.webp"</span>,</span>
<span id="cb12-15"><a href="#cb12-15"></a>    geo <span class="sc">==</span> <span class="st">"PL"</span> <span class="sc">~</span> <span class="st">"Polonia.png"</span>,</span>
<span id="cb12-16"><a href="#cb12-16"></a>    <span class="at">.default =</span>  <span class="st">""</span>))<span class="sc">|&gt;</span>  <span class="fu">mutate</span>(<span class="at">url_imagen =</span> <span class="fu">paste0</span>(<span class="st">"./imagenes/"</span>, Arc.Banderas)) <span class="sc">|&gt;</span></span>
<span id="cb12-17"><a href="#cb12-17"></a><span class="fu">gt</span>()<span class="sc">|&gt;</span> <span class="fu">cols_move_to_start</span>(<span class="at">columns=</span> <span class="fu">c</span>(Rank, url_imagen, Pais, Mil.Cabezas))<span class="sc">|&gt;</span></span>
<span id="cb12-18"><a href="#cb12-18"></a>  <span class="fu">cols_hide</span>(<span class="at">columns =</span> <span class="fu">c</span>(geo,Arc.Banderas))<span class="sc">|&gt;</span> <span class="fu">gt_img_rows</span>(<span class="at">columns =</span> url_imagen, <span class="at">height =</span> <span class="dv">20</span>)<span class="sc">|&gt;</span> <span class="fu">cols_label</span>(<span class="at">url_imagen =</span> <span class="st">""</span>)<span class="sc">|&gt;</span> <span class="fu">cols_align</span>(<span class="at">align =</span> <span class="st">"center"</span>, <span class="at">columns =</span> <span class="fu">c</span>(url_imagen, Rank, Pais, Mil.Cabezas))<span class="sc">|&gt;</span> <span class="fu">tab_header</span>(<span class="at">title =</span> <span class="st">"Paises europeos con mayor número de porcinos (2020)"</span>)<span class="sc">|&gt;</span> <span class="fu">gt_theme_excel</span>()<span class="sc">|&gt;</span></span>
<span id="cb12-19"><a href="#cb12-19"></a>  <span class="fu">fmt_number</span>(<span class="at">columns =</span> Mil.Cabezas,<span class="at">sep_mark =</span> <span class="st">"."</span>, <span class="at">dec_mark =</span> <span class="st">","</span>, <span class="at">decimals =</span> <span class="dv">1</span>)</span></code></pre></div><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></div>
</details><div class="cell-output-display">
<div id="isrllbeldv" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#isrllbeldv table {
  font-family: Calibri, system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#isrllbeldv thead, #isrllbeldv tbody, #isrllbeldv tfoot, #isrllbeldv tr, #isrllbeldv td, #isrllbeldv th {
  border-style: none;
}

#isrllbeldv p {
  margin: 0;
  padding: 0;
}

#isrllbeldv .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #000000;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #000000;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #000000;
  border-left-style: solid;
  border-left-width: 2px;
  border-left-color: #000000;
}

#isrllbeldv .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#isrllbeldv .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#isrllbeldv .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#isrllbeldv .gt_heading {
  background-color: #FFFFFF;
  text-align: left;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#isrllbeldv .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #000000;
}

#isrllbeldv .gt_col_headings {
  border-top-style: none;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #000000;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#isrllbeldv .gt_col_heading {
  color: #FFFFFF;
  background-color: #000000;
  font-size: 85%;
  font-weight: bold;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#isrllbeldv .gt_column_spanner_outer {
  color: #FFFFFF;
  background-color: #000000;
  font-size: 85%;
  font-weight: bold;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#isrllbeldv .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#isrllbeldv .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#isrllbeldv .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #000000;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#isrllbeldv .gt_spanner_row {
  border-bottom-style: hidden;
}

#isrllbeldv .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #000000;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #000000;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #000000;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #000000;
  vertical-align: middle;
  text-align: left;
}

#isrllbeldv .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #000000;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #000000;
  vertical-align: middle;
}

#isrllbeldv .gt_from_md > :first-child {
  margin-top: 0;
}

#isrllbeldv .gt_from_md > :last-child {
  margin-bottom: 0;
}

#isrllbeldv .gt_row {
  padding-top: 1px;
  padding-bottom: 1px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #000000;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #000000;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #000000;
  vertical-align: middle;
  overflow-x: hidden;
}

#isrllbeldv .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #000000;
  padding-left: 5px;
  padding-right: 5px;
}

#isrllbeldv .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#isrllbeldv .gt_row_group_first td {
  border-top-width: 2px;
}

#isrllbeldv .gt_row_group_first th {
  border-top-width: 2px;
}

#isrllbeldv .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#isrllbeldv .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#isrllbeldv .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#isrllbeldv .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#isrllbeldv .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#isrllbeldv .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#isrllbeldv .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#isrllbeldv .gt_striped {
  background-color: #D3D3D3;
}

#isrllbeldv .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#isrllbeldv .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#isrllbeldv .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#isrllbeldv .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#isrllbeldv .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#isrllbeldv .gt_left {
  text-align: left;
}

#isrllbeldv .gt_center {
  text-align: center;
}

#isrllbeldv .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#isrllbeldv .gt_font_normal {
  font-weight: normal;
}

#isrllbeldv .gt_font_bold {
  font-weight: bold;
}

#isrllbeldv .gt_font_italic {
  font-style: italic;
}

#isrllbeldv .gt_super {
  font-size: 65%;
}

#isrllbeldv .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#isrllbeldv .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#isrllbeldv .gt_indent_1 {
  text-indent: 5px;
}

#isrllbeldv .gt_indent_2 {
  text-indent: 10px;
}

#isrllbeldv .gt_indent_3 {
  text-indent: 15px;
}

#isrllbeldv .gt_indent_4 {
  text-indent: 20px;
}

#isrllbeldv .gt_indent_5 {
  text-indent: 25px;
}

#isrllbeldv .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#isrllbeldv div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>
<table class="gt_table caption-top table table-sm table-striped small" data-quarto-bootstrap="false">
<thead>
<tr class="gt_heading header">
<td colspan="4" class="gt_heading gt_title gt_font_normal gt_bottom_border">Paises europeos con mayor número de porcinos (2020)</td>
</tr>
<tr class="gt_col_headings even">
<th id="Rank" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" scope="col">Rank</th>
<th id="url_imagen" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" style="border-right-width: 2px; border-right-style: solid; border-right-color: black" scope="col"></th>
<th id="Pais" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" scope="col">Pais</th>
<th id="Mil.Cabezas" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" scope="col">Mil.Cabezas</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_center" headers="Rank" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">1</td>
<td class="gt_row gt_center" headers="url_imagen" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 2px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black"><img src="./imagenes/España.webp" class="img-fluid" style="height:20px;"></td>
<td class="gt_row gt_center" headers="Pais" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">Spain</td>
<td class="gt_row gt_center" headers="Mil.Cabezas" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">32.796,1</td>
</tr>
<tr class="even">
<td class="gt_row gt_center gt_striped" headers="Rank" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">2</td>
<td class="gt_row gt_center gt_striped" headers="url_imagen" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 2px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black"><img src="./imagenes/Alemania.webp" class="img-fluid" style="height:20px;"></td>
<td class="gt_row gt_center gt_striped" headers="Pais" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">Germany</td>
<td class="gt_row gt_center gt_striped" headers="Mil.Cabezas" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">26.069,9</td>
</tr>
<tr class="odd">
<td class="gt_row gt_center" headers="Rank" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">3</td>
<td class="gt_row gt_center" headers="url_imagen" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 2px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black"><img src="./imagenes/Francia.webp" class="img-fluid" style="height:20px;"></td>
<td class="gt_row gt_center" headers="Pais" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">France</td>
<td class="gt_row gt_center" headers="Mil.Cabezas" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">13.393,0</td>
</tr>
<tr class="even">
<td class="gt_row gt_center gt_striped" headers="Rank" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">4</td>
<td class="gt_row gt_center gt_striped" headers="url_imagen" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 2px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black"><img src="./imagenes/Dinamarca.webp" class="img-fluid" style="height:20px;"></td>
<td class="gt_row gt_center gt_striped" headers="Pais" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">Denmark</td>
<td class="gt_row gt_center gt_striped" headers="Mil.Cabezas" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">13.391,0</td>
</tr>
<tr class="odd">
<td class="gt_row gt_center" headers="Rank" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 2px; border-bottom-style: solid; border-bottom-color: black">5</td>
<td class="gt_row gt_center" headers="url_imagen" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 2px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 2px; border-bottom-style: solid; border-bottom-color: black"><img src="./imagenes/Polonia.png" class="img-fluid" style="height:20px;"></td>
<td class="gt_row gt_center" headers="Pais" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 2px; border-bottom-style: solid; border-bottom-color: black">Poland</td>
<td class="gt_row gt_center" headers="Mil.Cabezas" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 2px; border-bottom-style: solid; border-bottom-color: black">11.727,4</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><a href="my_trabajo_BigData_files/figure-html/unnamed-chunk-12-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-9"><img src="my_trabajo_BigData_files/figure-html/unnamed-chunk-12-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:95.0%"></a></p>
</figure>
</div>
</div>
</div>
</section></section><section id="la-población-de-animales-de-granja-en-españa" class="level1"><h1>5. La población de animales de granja en España</h1>
<p>España es el segundo país de Europa con mayor poblacion de aninmales de granja esto demuestra la importacia del sector ganadero en el pais ibero que ocupa el 8,3% del PIB español.</p>
<div class="cell" data-layout-align="center">
<details class="code-fold"><summary>Código</summary><div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb13"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1"></a>TablaUE <span class="ot">&lt;-</span> Nº_TotalEU<span class="sc">|&gt;</span> <span class="fu">filter</span>(A<span class="sc">==</span><span class="st">"Bovino"</span>, Tipo<span class="sc">==</span><span class="st">"Pais"</span>, Year<span class="sc">==</span><span class="st">"2020"</span>)<span class="sc">|&gt;</span></span>
<span id="cb13-2"><a href="#cb13-2"></a>  <span class="fu">mutate</span>(<span class="at">Pais =</span> <span class="fu">countrycode</span>(geo, <span class="at">origin =</span> <span class="st">"eurostat"</span>, <span class="at">destination =</span> <span class="st">"country.name"</span>))<span class="sc">|&gt;</span> <span class="fu">slice_max</span>(TotalA, <span class="at">n=</span><span class="dv">5</span>)<span class="sc">|&gt;</span><span class="fu">mutate</span>(<span class="at">Rank =</span> <span class="fu">row_number</span>())<span class="sc">|&gt;</span> <span class="fu">rename</span>(<span class="st">"Mil.Cabezas"</span><span class="ot">=</span><span class="st">"TotalA"</span>)<span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">Arc.Banderas =</span> <span class="fu">case_when</span>(</span>
<span id="cb13-3"><a href="#cb13-3"></a>    geo <span class="sc">==</span> <span class="st">"DE"</span> <span class="sc">~</span> <span class="st">"Alemania.webp"</span>,</span>
<span id="cb13-4"><a href="#cb13-4"></a>    geo <span class="sc">==</span> <span class="st">"ES"</span> <span class="sc">~</span> <span class="st">"España.webp"</span>,</span>
<span id="cb13-5"><a href="#cb13-5"></a>    geo <span class="sc">==</span> <span class="st">"IT"</span> <span class="sc">~</span> <span class="st">"Italia.webp"</span>,</span>
<span id="cb13-6"><a href="#cb13-6"></a>    geo <span class="sc">==</span> <span class="st">"EL"</span> <span class="sc">~</span> <span class="st">"Grecia.png"</span>,</span>
<span id="cb13-7"><a href="#cb13-7"></a>    geo <span class="sc">==</span> <span class="st">"IE"</span> <span class="sc">~</span> <span class="st">"Irlanda.png"</span>,</span>
<span id="cb13-8"><a href="#cb13-8"></a>    geo <span class="sc">==</span> <span class="st">"FR"</span> <span class="sc">~</span> <span class="st">"Francia.webp"</span>,</span>
<span id="cb13-9"><a href="#cb13-9"></a>    geo <span class="sc">==</span> <span class="st">"TR"</span> <span class="sc">~</span> <span class="st">"Turquia.webp"</span>,</span>
<span id="cb13-10"><a href="#cb13-10"></a>    geo <span class="sc">==</span> <span class="st">"DK"</span> <span class="sc">~</span> <span class="st">"Dinamarca.webp"</span>,</span>
<span id="cb13-11"><a href="#cb13-11"></a>    geo <span class="sc">==</span> <span class="st">"PL"</span> <span class="sc">~</span> <span class="st">"Polonia.png"</span>,</span>
<span id="cb13-12"><a href="#cb13-12"></a>    <span class="at">.default =</span>  <span class="st">""</span>))<span class="sc">|&gt;</span>  <span class="fu">mutate</span>(<span class="at">url_imagen =</span> <span class="fu">paste0</span>(<span class="st">"./imagenes/"</span>, Arc.Banderas))<span class="sc">|&gt;</span> <span class="fu">select</span>(Rank, url_imagen, Pais, Mil.Cabezas, geo, Arc.Banderas)<span class="sc">|&gt;</span> </span>
<span id="cb13-13"><a href="#cb13-13"></a>  <span class="fu">gt</span>()<span class="sc">|&gt;</span> <span class="fu">cols_move_to_start</span>(<span class="at">columns=</span> <span class="fu">c</span>(Rank, url_imagen, Pais, Mil.Cabezas))<span class="sc">|&gt;</span></span>
<span id="cb13-14"><a href="#cb13-14"></a>  <span class="fu">cols_hide</span>(<span class="at">columns =</span> <span class="fu">c</span>(geo,Arc.Banderas))<span class="sc">|&gt;</span> <span class="fu">gt_img_rows</span>(<span class="at">columns =</span> url_imagen, <span class="at">height =</span> <span class="dv">20</span>)<span class="sc">|&gt;</span> <span class="fu">cols_label</span>(<span class="at">url_imagen =</span> <span class="st">""</span>)<span class="sc">|&gt;</span> <span class="fu">cols_align</span>(<span class="at">align =</span> <span class="st">"center"</span>, <span class="at">columns =</span> <span class="fu">c</span>(url_imagen, Rank, Pais, Mil.Cabezas))<span class="sc">|&gt;</span> <span class="fu">tab_header</span>(<span class="at">title =</span> <span class="st">"Paises europeos con mayor número de animales de granja (2020)"</span>)<span class="sc">|&gt;</span> <span class="fu">gt_theme_excel</span>()<span class="sc">|&gt;</span></span>
<span id="cb13-15"><a href="#cb13-15"></a>  <span class="fu">fmt_number</span>(<span class="at">columns =</span> Mil.Cabezas,<span class="at">sep_mark =</span> <span class="st">"."</span>, <span class="at">dec_mark =</span> <span class="st">","</span>, <span class="at">decimals =</span> <span class="dv">1</span>)</span>
<span id="cb13-16"><a href="#cb13-16"></a></span>
<span id="cb13-17"><a href="#cb13-17"></a>TablaUE</span></code></pre></div><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></div>
</details><div class="cell-output-display">
<div id="pernoatbvz" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#pernoatbvz table {
  font-family: Calibri, system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#pernoatbvz thead, #pernoatbvz tbody, #pernoatbvz tfoot, #pernoatbvz tr, #pernoatbvz td, #pernoatbvz th {
  border-style: none;
}

#pernoatbvz p {
  margin: 0;
  padding: 0;
}

#pernoatbvz .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #000000;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #000000;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #000000;
  border-left-style: solid;
  border-left-width: 2px;
  border-left-color: #000000;
}

#pernoatbvz .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#pernoatbvz .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#pernoatbvz .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#pernoatbvz .gt_heading {
  background-color: #FFFFFF;
  text-align: left;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#pernoatbvz .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #000000;
}

#pernoatbvz .gt_col_headings {
  border-top-style: none;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #000000;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#pernoatbvz .gt_col_heading {
  color: #FFFFFF;
  background-color: #000000;
  font-size: 85%;
  font-weight: bold;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#pernoatbvz .gt_column_spanner_outer {
  color: #FFFFFF;
  background-color: #000000;
  font-size: 85%;
  font-weight: bold;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#pernoatbvz .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#pernoatbvz .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#pernoatbvz .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #000000;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#pernoatbvz .gt_spanner_row {
  border-bottom-style: hidden;
}

#pernoatbvz .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #000000;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #000000;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #000000;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #000000;
  vertical-align: middle;
  text-align: left;
}

#pernoatbvz .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #000000;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #000000;
  vertical-align: middle;
}

#pernoatbvz .gt_from_md > :first-child {
  margin-top: 0;
}

#pernoatbvz .gt_from_md > :last-child {
  margin-bottom: 0;
}

#pernoatbvz .gt_row {
  padding-top: 1px;
  padding-bottom: 1px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #000000;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #000000;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #000000;
  vertical-align: middle;
  overflow-x: hidden;
}

#pernoatbvz .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #000000;
  padding-left: 5px;
  padding-right: 5px;
}

#pernoatbvz .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#pernoatbvz .gt_row_group_first td {
  border-top-width: 2px;
}

#pernoatbvz .gt_row_group_first th {
  border-top-width: 2px;
}

#pernoatbvz .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#pernoatbvz .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#pernoatbvz .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#pernoatbvz .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#pernoatbvz .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#pernoatbvz .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#pernoatbvz .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#pernoatbvz .gt_striped {
  background-color: #D3D3D3;
}

#pernoatbvz .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#pernoatbvz .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#pernoatbvz .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#pernoatbvz .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#pernoatbvz .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#pernoatbvz .gt_left {
  text-align: left;
}

#pernoatbvz .gt_center {
  text-align: center;
}

#pernoatbvz .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#pernoatbvz .gt_font_normal {
  font-weight: normal;
}

#pernoatbvz .gt_font_bold {
  font-weight: bold;
}

#pernoatbvz .gt_font_italic {
  font-style: italic;
}

#pernoatbvz .gt_super {
  font-size: 65%;
}

#pernoatbvz .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#pernoatbvz .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#pernoatbvz .gt_indent_1 {
  text-indent: 5px;
}

#pernoatbvz .gt_indent_2 {
  text-indent: 10px;
}

#pernoatbvz .gt_indent_3 {
  text-indent: 15px;
}

#pernoatbvz .gt_indent_4 {
  text-indent: 20px;
}

#pernoatbvz .gt_indent_5 {
  text-indent: 25px;
}

#pernoatbvz .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#pernoatbvz div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>
<table class="gt_table caption-top table table-sm table-striped small" data-quarto-bootstrap="false">
<thead>
<tr class="gt_heading header">
<td colspan="4" class="gt_heading gt_title gt_font_normal gt_bottom_border">Paises europeos con mayor número de animales de granja (2020)</td>
</tr>
<tr class="gt_col_headings even">
<th id="Rank" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" style="border-left-width: 2px; border-left-style: solid; border-left-color: black" scope="col">Rank</th>
<th id="url_imagen" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" scope="col"></th>
<th id="Pais" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" scope="col">Pais</th>
<th id="Mil.Cabezas" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" scope="col">Mil.Cabezas</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_center" headers="Rank" style="border-left-width: 2px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">1</td>
<td class="gt_row gt_center" headers="url_imagen" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black"><img src="./imagenes/Francia.webp" class="img-fluid" style="height:20px;"></td>
<td class="gt_row gt_center" headers="Pais" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">France</td>
<td class="gt_row gt_center" headers="Mil.Cabezas" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">336.548,0</td>
</tr>
<tr class="even">
<td class="gt_row gt_center gt_striped" headers="Rank" style="border-left-width: 2px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">2</td>
<td class="gt_row gt_center gt_striped" headers="url_imagen" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black"><img src="./imagenes/España.webp" class="img-fluid" style="height:20px;"></td>
<td class="gt_row gt_center gt_striped" headers="Pais" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">Spain</td>
<td class="gt_row gt_center gt_striped" headers="Mil.Cabezas" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">266.448,1</td>
</tr>
<tr class="odd">
<td class="gt_row gt_center" headers="Rank" style="border-left-width: 2px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">3</td>
<td class="gt_row gt_center" headers="url_imagen" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black"><img src="./imagenes/Polonia.png" class="img-fluid" style="height:20px;"></td>
<td class="gt_row gt_center" headers="Pais" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">Poland</td>
<td class="gt_row gt_center" headers="Mil.Cabezas" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">243.751,0</td>
</tr>
<tr class="even">
<td class="gt_row gt_center gt_striped" headers="Rank" style="border-left-width: 2px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">4</td>
<td class="gt_row gt_center gt_striped" headers="url_imagen" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black"><img src="./imagenes/Alemania.webp" class="img-fluid" style="height:20px;"></td>
<td class="gt_row gt_center gt_striped" headers="Pais" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">Germany</td>
<td class="gt_row gt_center gt_striped" headers="Mil.Cabezas" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">212.003,6</td>
</tr>
<tr class="odd">
<td class="gt_row gt_center" headers="Rank" style="border-left-width: 2px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 2px; border-bottom-style: solid; border-bottom-color: black">5</td>
<td class="gt_row gt_center" headers="url_imagen" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 2px; border-bottom-style: solid; border-bottom-color: black"><img src="./imagenes/Italia.webp" class="img-fluid" style="height:20px;"></td>
<td class="gt_row gt_center" headers="Pais" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 2px; border-bottom-style: solid; border-bottom-color: black">Italy</td>
<td class="gt_row gt_center" headers="Mil.Cabezas" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 2px; border-bottom-style: solid; border-bottom-color: black">195.360,1</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<section id="distribución-de-los-animales-de-granja-en-el-territorio-nacional" class="level2"><h2 class="anchored" data-anchor-id="distribución-de-los-animales-de-granja-en-el-territorio-nacional">5.1. Distribución de los animales de granja en el territorio nacional</h2>
<p>La población de animales de granja en España se concentra principalmente en Cataluña, que es la comunidad autónoma con mayor número de animales, con aproximadamente un 20 % del total, seguida de Castilla-La Mancha y Castilla y León, ambas con alrededor de un 12 %. Esta distribución se explica por la importante industria cárnica presente en Cataluña y por los extensos campos de las dos Castillas, que han favorecido el desarrollo de la ganadería extensiva y el pastoreo.</p>
<div class="cell" data-layout-align="center">
<details class="code-fold"><summary>Código</summary><div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb14"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1"></a>España.CCAA <span class="ot">&lt;-</span> Nº_TotalES<span class="sc">|&gt;</span> <span class="fu">filter</span>(<span class="fu">is.na</span>(Provincias))<span class="sc">|&gt;</span> <span class="fu">group_by</span>(Autonomias)<span class="sc">|&gt;</span></span>
<span id="cb14-2"><a href="#cb14-2"></a>  <span class="fu">mutate</span>(<span class="at">TotalA=</span><span class="fu">sum</span>(Total))<span class="sc">|&gt;</span><span class="fu">ungroup</span>()</span>
<span id="cb14-3"><a href="#cb14-3"></a></span>
<span id="cb14-4"><a href="#cb14-4"></a>RoscaES1 <span class="ot">&lt;-</span> España.CCAA<span class="sc">|&gt;</span> <span class="fu">filter</span>(Autonomias<span class="sc">!=</span><span class="st">"Total_Nacional"</span>, Animal<span class="sc">==</span><span class="st">"Ovinos"</span>)<span class="sc">|&gt;</span> <span class="fu">arrange</span>((TotalA))</span>
<span id="cb14-5"><a href="#cb14-5"></a></span>
<span id="cb14-6"><a href="#cb14-6"></a><span class="fu">hchart</span>(RoscaES1, <span class="st">"pie"</span>, <span class="fu">hcaes</span>(<span class="at">x =</span> Autonomias, <span class="at">y =</span> TotalA))<span class="sc">|&gt;</span></span>
<span id="cb14-7"><a href="#cb14-7"></a>  <span class="fu">hc_plotOptions</span>(<span class="at">pie =</span> <span class="fu">list</span>(<span class="at">dataLabels =</span> <span class="fu">list</span>( <span class="at">enabled =</span> <span class="cn">TRUE</span>, <span class="at">format =</span> <span class="st">"{point.name}: {point.percentage:.0f}%"</span>)))<span class="sc">|&gt;</span><span class="fu">hc_title</span>(<span class="at">text =</span> <span class="st">"Distribución porcentual de los animales de granja en España por CC.AA. (2020)"</span>)<span class="sc">|&gt;</span> <span class="fu">hc_chart</span>(<span class="at">backgroundColor =</span> <span class="st">"#f0f0f0"</span>)</span></code></pre></div><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></div>
</details><div class="cell-output-display">
<div class="highchart html-widget html-fill-item" id="htmlwidget-2c4214c2d156ba915e7b" style="width:95%;height:600px;"></div>
<script type="application/json" data-for="htmlwidget-2c4214c2d156ba915e7b">{"x":{"hc_opts":{"chart":{"reflow":true,"backgroundColor":"#f0f0f0"},"title":{"text":"Distribución porcentual de los animales de granja en España por CC.AA. (2020)"},"yAxis":{"title":{"text":"TotalA"},"type":"linear"},"credits":{"enabled":false},"exporting":{"enabled":false},"boost":{"enabled":false},"plotOptions":{"series":{"label":{"enabled":false},"turboThreshold":0,"showInLegend":false},"treemap":{"layoutAlgorithm":"squarified"},"scatter":{"marker":{"symbol":"circle"}},"pie":{"dataLabels":{"enabled":true,"format":"{point.name}: {point.percentage:.0f}%"}}},"series":[{"group":"group","data":[{"Autonomias":"Cantabria","Provincias":null,"Animal":"Ovinos","Total":34273,"TotalA":386439,"y":386439,"name":"Cantabria"},{"Autonomias":"Asturias, Principado de","Provincias":null,"Animal":"Ovinos","Total":40084,"TotalA":614848,"y":614848,"name":"Asturias, Principado de"},{"Autonomias":"Balears, Illes","Provincias":null,"Animal":"Ovinos","Total":285736,"TotalA":686580,"y":686580,"name":"Balears, Illes"},{"Autonomias":"Madrid, Comunidad de","Provincias":null,"Animal":"Ovinos","Total":82652,"TotalA":1691193,"y":1691193,"name":"Madrid, Comunidad de"},{"Autonomias":"País Vasco","Provincias":null,"Animal":"Ovinos","Total":222642,"TotalA":1884847,"y":1884847,"name":"País Vasco"},{"Autonomias":"Canarias","Provincias":null,"Animal":"Ovinos","Total":40316,"TotalA":2700073,"y":2700073,"name":"Canarias"},{"Autonomias":"Rioja, La","Provincias":null,"Animal":"Ovinos","Total":103590,"TotalA":3554463,"y":3554463,"name":"Rioja, La"},{"Autonomias":"Navarra, Comunidad Foral de","Provincias":null,"Animal":"Ovinos","Total":466650,"TotalA":8362992,"y":8362992,"name":"Navarra, Comunidad Foral de"},{"Autonomias":"Murcia, Región de","Provincias":null,"Animal":"Ovinos","Total":612592,"TotalA":10375080,"y":10375080,"name":"Murcia, Región de"},{"Autonomias":"Extremadura","Provincias":null,"Animal":"Ovinos","Total":3834066,"TotalA":15000295,"y":15000295,"name":"Extremadura"},{"Autonomias":"Comunitat Valenciana","Provincias":null,"Animal":"Ovinos","Total":275034,"TotalA":21078785,"y":21078785,"name":"Comunitat Valenciana"},{"Autonomias":"Andalucía","Provincias":null,"Animal":"Ovinos","Total":2599418,"TotalA":25447115,"y":25447115,"name":"Andalucía"},{"Autonomias":"Galicia","Provincias":null,"Animal":"Ovinos","Total":160361,"TotalA":27388818,"y":27388818,"name":"Galicia"},{"Autonomias":"Aragón","Provincias":null,"Animal":"Ovinos","Total":1654786,"TotalA":29428301,"y":29428301,"name":"Aragón"},{"Autonomias":"Castilla y León","Provincias":null,"Animal":"Ovinos","Total":2664103,"TotalA":31430396,"y":31430396,"name":"Castilla y León"},{"Autonomias":"Castilla - La Mancha","Provincias":null,"Animal":"Ovinos","Total":2444336,"TotalA":32509877,"y":32509877,"name":"Castilla - La Mancha"},{"Autonomias":"Cataluña","Provincias":null,"Animal":"Ovinos","Total":488771,"TotalA":51901676,"y":51901676,"name":"Cataluña"},{"Autonomias":"Ceuta","Provincias":null,"Animal":"Ovinos","Total":null,"TotalA":null,"y":null,"name":"Ceuta"},{"Autonomias":"Melilla","Provincias":null,"Animal":"Ovinos","Total":null,"TotalA":null,"y":null,"name":"Melilla"}],"type":"pie"}],"xAxis":{"type":"category","title":{"text":"Autonomias"},"categories":null}},"theme":{"chart":{"backgroundColor":"transparent"},"colors":["#7cb5ec","#434348","#90ed7d","#f7a35c","#8085e9","#f15c80","#e4d354","#2b908f","#f45b5b","#91e8e1"]},"conf_opts":{"global":{"Date":null,"VMLRadialGradientURL":"http =//code.highcharts.com/list(version)/gfx/vml-radial-gradient.png","canvasToolsURL":"http =//code.highcharts.com/list(version)/modules/canvas-tools.js","getTimezoneOffset":null,"timezoneOffset":0,"useUTC":true},"lang":{"contextButtonTitle":"Chart context menu","decimalPoint":".","downloadCSV":"Download CSV","downloadJPEG":"Download JPEG image","downloadPDF":"Download PDF document","downloadPNG":"Download PNG image","downloadSVG":"Download SVG vector image","downloadXLS":"Download XLS","drillUpText":"◁ Back to {series.name}","exitFullscreen":"Exit from full screen","exportData":{"annotationHeader":"Annotations","categoryDatetimeHeader":"DateTime","categoryHeader":"Category"},"hideData":"Hide data table","invalidDate":null,"loading":"Loading...","months":["January","February","March","April","May","June","July","August","September","October","November","December"],"noData":"No data to display","numericSymbolMagnitude":1000,"numericSymbols":["k","M","G","T","P","E"],"printChart":"Print chart","resetZoom":"Reset zoom","resetZoomTitle":"Reset zoom level 1:1","shortMonths":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"shortWeekdays":["Sat","Sun","Mon","Tue","Wed","Thu","Fri"],"thousandsSep":" ","viewData":"View data table","viewFullscreen":"View in full screen","weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},"type":"chart","fonts":[],"debug":false},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div class="cell" data-layout-align="center">
<details class="code-fold"><summary>Código</summary><div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb15"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1"></a>mapa_ccaa <span class="ot">&lt;-</span> <span class="fu">esp_get_ccaa</span>()</span>
<span id="cb15-2"><a href="#cb15-2"></a>mapaES <span class="ot">&lt;-</span> mapa_ccaa<span class="sc">|&gt;</span> <span class="fu">left_join</span>(RoscaES1, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"ine.ccaa.name"</span><span class="ot">=</span> <span class="st">"Autonomias"</span>))</span>
<span id="cb15-3"><a href="#cb15-3"></a><span class="fu">ggplot</span>(mapaES) <span class="sc">+</span> <span class="fu">geom_sf</span>(<span class="fu">aes</span>(<span class="at">fill =</span> TotalA), <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">size =</span> <span class="fl">0.2</span>) <span class="sc">+</span> <span class="fu">scale_fill_continuous</span>(<span class="at">low=</span><span class="st">"ivory"</span>, <span class="at">high=</span><span class="st">"darkgreen"</span>,<span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">label_comma</span>(<span class="at">big.mark =</span> <span class="st">"."</span>), <span class="at">guide =</span> <span class="fu">guide_colorbar</span>(<span class="at">frame.colour =</span> <span class="st">"black"</span>, <span class="at">ticks.colour =</span> <span class="st">"gray57"</span>)) <span class="sc">+</span> <span class="fu">theme_void</span>() <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Censo Ganadero por Comunidad Autónoma (2020)"</span>, <span class="at">fill=</span><span class="st">"Nº de cabezas"</span>) <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">size =</span> <span class="dv">11</span>))</span></code></pre></div><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></div>
</details><div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><a href="my_trabajo_BigData_files/figure-html/unnamed-chunk-15-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-10"><img src="my_trabajo_BigData_files/figure-html/unnamed-chunk-15-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:95.0%"></a></p>
</figure>
</div>
</div>
</div>
<section id="distribución-de-las-especies-de-animales-de-granja-en-el-territorio-nacional" class="level3"><h3 class="anchored" data-anchor-id="distribución-de-las-especies-de-animales-de-granja-en-el-territorio-nacional">5.1.1. Distribución de las especies de animales de granja en el territorio nacional</h3>
<p>La distribución de las especies de animales de granja en España es similar a la media de la Unión Europea, aunque presenta algunas diferencias relevantes. Destaca especialmente la mayor presencia de aves de corral, que representan aproximadamente un 80 % del total, frente al 51 % de la media europea.</p>
<p>Asimismo, en España la población de ovinos supera a la de bovinos, a diferencia de lo que ocurre en gran parte de Europa. Esta situación se explica, en parte, por las condiciones climáticas más secas del país, que resultan más adecuadas para la cría de ovinos que para la de bovinos, los cuales requieren una mayor disponibilidad de pastos.</p>
<div class="cell" data-layout-align="center">
<details class="code-fold"><summary>Código</summary><div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb16"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1"></a>RoscaES2 <span class="ot">&lt;-</span> Nº_TotalES<span class="sc">|&gt;</span> <span class="fu">filter</span>(Autonomias<span class="sc">==</span><span class="st">"Total_Nacional"</span>)</span>
<span id="cb16-2"><a href="#cb16-2"></a></span>
<span id="cb16-3"><a href="#cb16-3"></a><span class="fu">hchart</span>(RoscaES2, <span class="st">"pie"</span>, <span class="fu">hcaes</span>(<span class="at">x =</span> Animal, <span class="at">y =</span> Total))<span class="sc">|&gt;</span></span>
<span id="cb16-4"><a href="#cb16-4"></a>  <span class="fu">hc_plotOptions</span>(<span class="at">pie =</span> <span class="fu">list</span>(<span class="at">dataLabels =</span> <span class="fu">list</span>( <span class="at">enabled =</span> <span class="cn">TRUE</span>, <span class="at">format =</span> <span class="st">"{point.name}: {point.percentage:.0f}%"</span>)))<span class="sc">|&gt;</span><span class="fu">hc_title</span>(<span class="at">text =</span> <span class="st">"Distribución porcentual de los animales de granja en España por especie de animal (2020)"</span>)<span class="sc">|&gt;</span> <span class="fu">hc_chart</span>(<span class="at">backgroundColor =</span> <span class="st">"#f0f0f0"</span>)</span></code></pre></div><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></div>
</details><div class="cell-output-display">
<div class="highchart html-widget html-fill-item" id="htmlwidget-00423a1ef9df6120cec5" style="width:95%;height:600px;"></div>
<script type="application/json" data-for="htmlwidget-00423a1ef9df6120cec5">{"x":{"hc_opts":{"chart":{"reflow":true,"backgroundColor":"#f0f0f0"},"title":{"text":"Distribución porcentual de los animales de granja en España por especie de animal (2020)"},"yAxis":{"title":{"text":"Total"},"type":"linear"},"credits":{"enabled":false},"exporting":{"enabled":false},"boost":{"enabled":false},"plotOptions":{"series":{"label":{"enabled":false},"turboThreshold":0,"showInLegend":false},"treemap":{"layoutAlgorithm":"squarified"},"scatter":{"marker":{"symbol":"circle"}},"pie":{"dataLabels":{"enabled":true,"format":"{point.name}: {point.percentage:.0f}%"}}},"series":[{"group":"group","data":[{"Autonomias":"Total_Nacional","Provincias":null,"Animal":"Bovinos","Total":6760391,"y":6760391,"name":"Bovinos"},{"Autonomias":"Total_Nacional","Provincias":null,"Animal":"Ovinos","Total":16009410,"y":16009410,"name":"Ovinos"},{"Autonomias":"Total_Nacional","Provincias":null,"Animal":"Porcinos","Total":30091215,"y":30091215,"name":"Porcinos"},{"Autonomias":"Total_Nacional","Provincias":null,"Animal":"Aves de corral","Total":211580762,"y":211580762,"name":"Aves de corral"}],"type":"pie"}],"xAxis":{"type":"category","title":{"text":"Animal"},"categories":null}},"theme":{"chart":{"backgroundColor":"transparent"},"colors":["#7cb5ec","#434348","#90ed7d","#f7a35c","#8085e9","#f15c80","#e4d354","#2b908f","#f45b5b","#91e8e1"]},"conf_opts":{"global":{"Date":null,"VMLRadialGradientURL":"http =//code.highcharts.com/list(version)/gfx/vml-radial-gradient.png","canvasToolsURL":"http =//code.highcharts.com/list(version)/modules/canvas-tools.js","getTimezoneOffset":null,"timezoneOffset":0,"useUTC":true},"lang":{"contextButtonTitle":"Chart context menu","decimalPoint":".","downloadCSV":"Download CSV","downloadJPEG":"Download JPEG image","downloadPDF":"Download PDF document","downloadPNG":"Download PNG image","downloadSVG":"Download SVG vector image","downloadXLS":"Download XLS","drillUpText":"◁ Back to {series.name}","exitFullscreen":"Exit from full screen","exportData":{"annotationHeader":"Annotations","categoryDatetimeHeader":"DateTime","categoryHeader":"Category"},"hideData":"Hide data table","invalidDate":null,"loading":"Loading...","months":["January","February","March","April","May","June","July","August","September","October","November","December"],"noData":"No data to display","numericSymbolMagnitude":1000,"numericSymbols":["k","M","G","T","P","E"],"printChart":"Print chart","resetZoom":"Reset zoom","resetZoomTitle":"Reset zoom level 1:1","shortMonths":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"shortWeekdays":["Sat","Sun","Mon","Tue","Wed","Thu","Fri"],"thousandsSep":" ","viewData":"View data table","viewFullscreen":"View in full screen","weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},"type":"chart","fonts":[],"debug":false},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section><section id="animales-de-granja-más-común-en-cada-país-europeo-1" class="level3"><h3 class="anchored" data-anchor-id="animales-de-granja-más-común-en-cada-país-europeo-1">5.1.2. Animales de granja más común en cada país europeo</h3>
<p>El animal de granja más común en la mayoría de las comunidades autónomas de España son las aves de corral, ya que constituyen la especie que requiere menor espacio y menores costes de producción.</p>
<p>No obstante, existen dos excepciones, Asturias y Cantabria, donde el ganado bovino es el animal de granja más numeroso.</p>
<div class="cell" data-layout-align="center">
<details class="code-fold"><summary>Código</summary><div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb17"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1"></a>Datos_mapaES1 <span class="ot">&lt;-</span> Nº_TotalES<span class="sc">|&gt;</span> <span class="fu">filter</span>(<span class="fu">is.na</span>(Provincias), Autonomias<span class="sc">!=</span><span class="st">"Total_Nacional"</span>)<span class="sc">|&gt;</span> <span class="fu">group_by</span>(Autonomias)<span class="sc">|&gt;</span> <span class="fu">slice_max</span>(Total, <span class="at">n =</span> <span class="dv">1</span>)</span>
<span id="cb17-2"><a href="#cb17-2"></a>mapaES1 <span class="ot">&lt;-</span> mapa_ccaa<span class="sc">|&gt;</span> <span class="fu">left_join</span>(Datos_mapaES1, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"ine.ccaa.name"</span><span class="ot">=</span> <span class="st">"Autonomias"</span>))</span>
<span id="cb17-3"><a href="#cb17-3"></a><span class="fu">ggplot</span>(mapaES1) <span class="sc">+</span> <span class="fu">geom_sf</span>(<span class="fu">aes</span>(<span class="at">fill =</span> Animal), <span class="at">color =</span> <span class="st">"white"</span>, <span class="at">linewidth =</span> <span class="fl">0.1</span>) <span class="sc">+</span> <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Ovinos"</span> <span class="ot">=</span> <span class="st">"chartreuse"</span>,<span class="st">"Bovinos"</span> <span class="ot">=</span><span class="st">"#30123b"</span>,<span class="st">"Porcinos"</span><span class="ot">=</span><span class="st">"red4"</span>, <span class="st">"Aves de corral"</span><span class="ot">=</span><span class="st">"skyblue4"</span>))<span class="sc">+</span> <span class="fu">theme_void</span>() <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Animal de granja más numeroso por comunidad autonóma (2020)"</span>, <span class="at">fill=</span><span class="st">"Especie Mayoritaria"</span>) <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">size =</span> <span class="dv">11</span>))</span></code></pre></div><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></div>
</details><div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><a href="my_trabajo_BigData_files/figure-html/unnamed-chunk-17-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-11"><img src="my_trabajo_BigData_files/figure-html/unnamed-chunk-17-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:95.0%"></a></p>
</figure>
</div>
</div>
</div>
</section><section id="concentración-de-aves-de-corral-por-comunidad-autonóma" class="level3"><h3 class="anchored" data-anchor-id="concentración-de-aves-de-corral-por-comunidad-autonóma">5.1.3. Concentración de aves de corral por Comunidad autonóma</h3>
<p>La población de aves de corral en España se concentra especialmente en Cataluña, seguida a mucha distancia por Castilla-La Mancha y Galicia. Esto se debe a que Cataluña cuenta con una de las industrias cárnicas más grandes y especializadas de Europa, que, aunque está principalmente enfocada en el sector porcino, también se ha diversificado a gran escala hacia la industria avícola, aunque en menor medida.</p>
<p>En cambio, Castilla-La Mancha y Galicia mantienen una presencia relevante de aves de corral, pero generalmente vinculada a modelos productivos de menor escala o de carácter más tradicional, lo que limita su volumen relativo en comparación con el registrado en Cataluña.</p>
<div class="cell" data-layout-align="center">
<details class="code-fold"><summary>Código</summary><div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb18"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1"></a>Datos_mapaES2 <span class="ot">&lt;-</span> Nº_AvedeCoralES<span class="sc">|&gt;</span> <span class="fu">filter</span>(<span class="fu">is.na</span>(Provincias), Autonomias<span class="sc">!=</span><span class="st">"Total_Nacional"</span>)</span>
<span id="cb18-2"><a href="#cb18-2"></a>mapaES2 <span class="ot">&lt;-</span> mapa_ccaa<span class="sc">|&gt;</span> <span class="fu">left_join</span>(Datos_mapaES2, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"ine.ccaa.name"</span><span class="ot">=</span> <span class="st">"Autonomias"</span>))</span>
<span id="cb18-3"><a href="#cb18-3"></a></span>
<span id="cb18-4"><a href="#cb18-4"></a><span class="fu">ggplot</span>(mapaES2) <span class="sc">+</span> <span class="fu">geom_sf</span>(<span class="fu">aes</span>(<span class="at">fill =</span> Total), <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">linewidth =</span> <span class="fl">0.1</span>) <span class="sc">+</span> <span class="fu">scale_fill_continuous</span>(<span class="at">low=</span><span class="st">"ivory"</span>,<span class="at">high=</span><span class="st">"skyblue4"</span>, <span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">label_comma</span>(<span class="at">big.mark =</span> <span class="st">"."</span>), <span class="at">guide =</span> <span class="fu">guide_colorbar</span>(<span class="at">frame.colour =</span> <span class="st">"black"</span>, <span class="at">ticks.colour =</span> <span class="st">"gray89"</span>)) <span class="sc">+</span> <span class="fu">theme_void</span>() <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Número de aves de corral por CC.AA. (2020)"</span>,<span class="at">fill=</span><span class="st">"Nº de cabezas"</span>) <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">size =</span> <span class="dv">11</span>))</span>
<span id="cb18-5"><a href="#cb18-5"></a></span>
<span id="cb18-6"><a href="#cb18-6"></a>Datos_mapaES2<span class="sc">|&gt;</span> <span class="fu">ungroup</span>()<span class="sc">|&gt;</span> <span class="fu">slice_max</span>(Total, <span class="at">n=</span><span class="dv">5</span>)<span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">Rank =</span> <span class="fu">row_number</span>())<span class="sc">|&gt;</span> <span class="fu">rename</span>(<span class="st">"NºCabezas"</span><span class="ot">=</span><span class="st">"Total"</span>)<span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">Arc.Banderas =</span> <span class="fu">case_when</span>(</span>
<span id="cb18-7"><a href="#cb18-7"></a>    Autonomias <span class="sc">==</span> <span class="st">"Galicia"</span> <span class="sc">~</span> <span class="st">"Galicia.png"</span>,</span>
<span id="cb18-8"><a href="#cb18-8"></a>    Autonomias <span class="sc">==</span> <span class="st">"Cataluña"</span> <span class="sc">~</span> <span class="st">"Catalunya.png"</span>,</span>
<span id="cb18-9"><a href="#cb18-9"></a>    Autonomias <span class="sc">==</span> <span class="st">"Castilla - La Mancha"</span> <span class="sc">~</span> <span class="st">"CastillaMancha.png"</span>,</span>
<span id="cb18-10"><a href="#cb18-10"></a>    Autonomias <span class="sc">==</span> <span class="st">"Aragón"</span> <span class="sc">~</span> <span class="st">"Aragon.png"</span>,</span>
<span id="cb18-11"><a href="#cb18-11"></a>    Autonomias <span class="sc">==</span> <span class="st">"Castilla y León"</span> <span class="sc">~</span> <span class="st">"CastillaLeon.png"</span>,</span>
<span id="cb18-12"><a href="#cb18-12"></a>    Autonomias <span class="sc">==</span> <span class="st">"Andalucía"</span> <span class="sc">~</span> <span class="st">"Andalucia.png"</span>,</span>
<span id="cb18-13"><a href="#cb18-13"></a>    Autonomias <span class="sc">==</span> <span class="st">"Extremadura"</span> <span class="sc">~</span> <span class="st">"Extremadura.png"</span>,</span>
<span id="cb18-14"><a href="#cb18-14"></a>    <span class="at">.default =</span>  <span class="st">""</span>))<span class="sc">|&gt;</span>  <span class="fu">mutate</span>(<span class="at">url_imagen =</span> <span class="fu">paste0</span>(<span class="st">"./imagenes/"</span>, Arc.Banderas)) <span class="sc">|&gt;</span> </span>
<span id="cb18-15"><a href="#cb18-15"></a>  <span class="fu">gt</span>()<span class="sc">|&gt;</span> <span class="fu">cols_move_to_start</span>(<span class="at">columns=</span> <span class="fu">c</span>(Rank, url_imagen, Autonomias, NºCabezas)) <span class="sc">|&gt;</span> <span class="fu">cols_hide</span>(<span class="at">columns =</span> <span class="fu">c</span>(Provincias,Arc.Banderas,Animal))<span class="sc">|&gt;</span> <span class="fu">gt_img_rows</span>(<span class="at">columns =</span> url_imagen, <span class="at">height =</span> <span class="dv">20</span>)<span class="sc">|&gt;</span> <span class="fu">cols_label</span>(<span class="at">url_imagen =</span> <span class="st">""</span>)<span class="sc">|&gt;</span> <span class="fu">cols_align</span>(<span class="at">align =</span> <span class="st">"center"</span>, <span class="at">columns =</span> <span class="fu">c</span>(url_imagen, Rank, Autonomias, NºCabezas))<span class="sc">|&gt;</span> <span class="fu">tab_header</span>(<span class="at">title =</span> <span class="st">"Comunidades autónomas con mayor número de aves de corral (2020)"</span>)<span class="sc">|&gt;</span> <span class="fu">gt_theme_excel</span>()<span class="sc">|&gt;</span> <span class="fu">fmt_number</span>(<span class="at">columns =</span> NºCabezas,<span class="at">sep_mark =</span> <span class="st">"."</span>, <span class="at">dec_mark =</span> <span class="st">","</span>, <span class="at">decimals =</span> <span class="dv">0</span>)</span></code></pre></div><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></div>
</details><div class="cell-output-display">
<div id="zsxwxajrtl" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#zsxwxajrtl table {
  font-family: Calibri, system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#zsxwxajrtl thead, #zsxwxajrtl tbody, #zsxwxajrtl tfoot, #zsxwxajrtl tr, #zsxwxajrtl td, #zsxwxajrtl th {
  border-style: none;
}

#zsxwxajrtl p {
  margin: 0;
  padding: 0;
}

#zsxwxajrtl .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #000000;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #000000;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #000000;
  border-left-style: solid;
  border-left-width: 2px;
  border-left-color: #000000;
}

#zsxwxajrtl .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#zsxwxajrtl .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#zsxwxajrtl .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#zsxwxajrtl .gt_heading {
  background-color: #FFFFFF;
  text-align: left;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#zsxwxajrtl .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #000000;
}

#zsxwxajrtl .gt_col_headings {
  border-top-style: none;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #000000;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#zsxwxajrtl .gt_col_heading {
  color: #FFFFFF;
  background-color: #000000;
  font-size: 85%;
  font-weight: bold;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#zsxwxajrtl .gt_column_spanner_outer {
  color: #FFFFFF;
  background-color: #000000;
  font-size: 85%;
  font-weight: bold;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#zsxwxajrtl .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#zsxwxajrtl .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#zsxwxajrtl .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #000000;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#zsxwxajrtl .gt_spanner_row {
  border-bottom-style: hidden;
}

#zsxwxajrtl .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #000000;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #000000;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #000000;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #000000;
  vertical-align: middle;
  text-align: left;
}

#zsxwxajrtl .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #000000;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #000000;
  vertical-align: middle;
}

#zsxwxajrtl .gt_from_md > :first-child {
  margin-top: 0;
}

#zsxwxajrtl .gt_from_md > :last-child {
  margin-bottom: 0;
}

#zsxwxajrtl .gt_row {
  padding-top: 1px;
  padding-bottom: 1px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #000000;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #000000;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #000000;
  vertical-align: middle;
  overflow-x: hidden;
}

#zsxwxajrtl .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #000000;
  padding-left: 5px;
  padding-right: 5px;
}

#zsxwxajrtl .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#zsxwxajrtl .gt_row_group_first td {
  border-top-width: 2px;
}

#zsxwxajrtl .gt_row_group_first th {
  border-top-width: 2px;
}

#zsxwxajrtl .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#zsxwxajrtl .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#zsxwxajrtl .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#zsxwxajrtl .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#zsxwxajrtl .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#zsxwxajrtl .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#zsxwxajrtl .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#zsxwxajrtl .gt_striped {
  background-color: #D3D3D3;
}

#zsxwxajrtl .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#zsxwxajrtl .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#zsxwxajrtl .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#zsxwxajrtl .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#zsxwxajrtl .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#zsxwxajrtl .gt_left {
  text-align: left;
}

#zsxwxajrtl .gt_center {
  text-align: center;
}

#zsxwxajrtl .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#zsxwxajrtl .gt_font_normal {
  font-weight: normal;
}

#zsxwxajrtl .gt_font_bold {
  font-weight: bold;
}

#zsxwxajrtl .gt_font_italic {
  font-style: italic;
}

#zsxwxajrtl .gt_super {
  font-size: 65%;
}

#zsxwxajrtl .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#zsxwxajrtl .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#zsxwxajrtl .gt_indent_1 {
  text-indent: 5px;
}

#zsxwxajrtl .gt_indent_2 {
  text-indent: 10px;
}

#zsxwxajrtl .gt_indent_3 {
  text-indent: 15px;
}

#zsxwxajrtl .gt_indent_4 {
  text-indent: 20px;
}

#zsxwxajrtl .gt_indent_5 {
  text-indent: 25px;
}

#zsxwxajrtl .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#zsxwxajrtl div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>
<table class="gt_table caption-top table table-sm table-striped small" data-quarto-bootstrap="false">
<thead>
<tr class="gt_heading header">
<td colspan="4" class="gt_heading gt_title gt_font_normal gt_bottom_border">Comunidades autónomas con mayor número de aves de corral (2020)</td>
</tr>
<tr class="gt_col_headings even">
<th id="Rank" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" scope="col">Rank</th>
<th id="url_imagen" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" style="border-right-width: 2px; border-right-style: solid; border-right-color: black" scope="col"></th>
<th id="Autonomias" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" style="border-left-width: 2px; border-left-style: solid; border-left-color: black" scope="col">Autonomias</th>
<th id="NºCabezas" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" scope="col">NºCabezas</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_center" headers="Rank" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">1</td>
<td class="gt_row gt_center" headers="url_imagen" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 2px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black"><img src="./imagenes/Catalunya.png" class="img-fluid" style="height:20px;"></td>
<td class="gt_row gt_center" headers="Autonomias" style="border-left-width: 2px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">Cataluña</td>
<td class="gt_row gt_center" headers="NºCabezas" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">42.544.012</td>
</tr>
<tr class="even">
<td class="gt_row gt_center gt_striped" headers="Rank" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">2</td>
<td class="gt_row gt_center gt_striped" headers="url_imagen" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 2px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black"><img src="./imagenes/CastillaMancha.png" class="img-fluid" style="height:20px;"></td>
<td class="gt_row gt_center gt_striped" headers="Autonomias" style="border-left-width: 2px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">Castilla - La Mancha</td>
<td class="gt_row gt_center gt_striped" headers="NºCabezas" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">26.791.741</td>
</tr>
<tr class="odd">
<td class="gt_row gt_center" headers="Rank" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">3</td>
<td class="gt_row gt_center" headers="url_imagen" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 2px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black"><img src="./imagenes/Galicia.png" class="img-fluid" style="height:20px;"></td>
<td class="gt_row gt_center" headers="Autonomias" style="border-left-width: 2px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">Galicia</td>
<td class="gt_row gt_center" headers="NºCabezas" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">24.825.124</td>
</tr>
<tr class="even">
<td class="gt_row gt_center gt_striped" headers="Rank" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">4</td>
<td class="gt_row gt_center gt_striped" headers="url_imagen" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 2px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black"><img src="./imagenes/Aragon.png" class="img-fluid" style="height:20px;"></td>
<td class="gt_row gt_center gt_striped" headers="Autonomias" style="border-left-width: 2px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">Aragón</td>
<td class="gt_row gt_center gt_striped" headers="NºCabezas" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">23.248.246</td>
</tr>
<tr class="odd">
<td class="gt_row gt_center" headers="Rank" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 2px; border-bottom-style: solid; border-bottom-color: black">5</td>
<td class="gt_row gt_center" headers="url_imagen" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 2px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 2px; border-bottom-style: solid; border-bottom-color: black"><img src="./imagenes/CastillaLeon.png" class="img-fluid" style="height:20px;"></td>
<td class="gt_row gt_center" headers="Autonomias" style="border-left-width: 2px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 2px; border-bottom-style: solid; border-bottom-color: black">Castilla y León</td>
<td class="gt_row gt_center" headers="NºCabezas" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 2px; border-bottom-style: solid; border-bottom-color: black">22.847.225</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><a href="my_trabajo_BigData_files/figure-html/unnamed-chunk-18-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-12"><img src="my_trabajo_BigData_files/figure-html/unnamed-chunk-18-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:95.0%"></a></p>
</figure>
</div>
</div>
</div>
</section><section id="concentración-de-bovinos-por-comunidad-autonóma" class="level3"><h3 class="anchored" data-anchor-id="concentración-de-bovinos-por-comunidad-autonóma">5.1.4. Concentración de bovinos por Comunidad autonóma</h3>
<p>La población de bovinos en España se concentra especialmente en Castilla y León, seguida, a considerable distancia, por Galicia y Extremadura. Esta distribución se explica por la amplia disponibilidad de superficies de pasto, la estructura agraria basada en explotaciones extensivas y la tradición ganadera de estas comunidades.</p>
<p>Castilla y León dispone de extensas áreas rurales y praderas naturales que favorecen la ganadería bovina de carne, mientras que Galicia destaca por su especialización en el bovino lechero, apoyada en un clima más húmedo y una mayor disponibilidad de forraje. Por su parte, Extremadura cuenta con el sistema de dehesas, un entorno idóneo para la cría extensiva de bovinos, que combina el aprovechamiento ganadero con el uso sostenible del territorio.</p>
<div class="cell" data-layout-align="center">
<details class="code-fold"><summary>Código</summary><div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb19"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1"></a>Datos_mapaES3 <span class="ot">&lt;-</span> Nº_BovinosES<span class="sc">|&gt;</span> <span class="fu">filter</span>(<span class="fu">is.na</span>(Provincias), Autonomias<span class="sc">!=</span><span class="st">"Total_Nacional"</span>)</span>
<span id="cb19-2"><a href="#cb19-2"></a>mapaES3 <span class="ot">&lt;-</span> mapa_ccaa<span class="sc">|&gt;</span> <span class="fu">left_join</span>(Datos_mapaES3, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"ine.ccaa.name"</span><span class="ot">=</span> <span class="st">"Autonomias"</span>))</span>
<span id="cb19-3"><a href="#cb19-3"></a></span>
<span id="cb19-4"><a href="#cb19-4"></a><span class="fu">ggplot</span>(mapaES3) <span class="sc">+</span> <span class="fu">geom_sf</span>(<span class="fu">aes</span>(<span class="at">fill =</span> Total), <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">linewidth =</span> <span class="fl">0.1</span>) <span class="sc">+</span> <span class="fu">scale_fill_continuous</span>(<span class="at">low=</span><span class="st">"ivory"</span>,<span class="at">high=</span><span class="st">"#30123b"</span>,<span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">label_comma</span>(<span class="at">big.mark =</span> <span class="st">"."</span>), <span class="at">guide =</span> <span class="fu">guide_colorbar</span>(<span class="at">frame.colour =</span> <span class="st">"black"</span>, <span class="at">ticks.colour =</span> <span class="st">"gray89"</span>)) <span class="sc">+</span> <span class="fu">theme_void</span>() <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Número de bovinos por país (2020)"</span>, <span class="at">fill=</span><span class="st">"Nº de cabezas"</span>) <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">size =</span> <span class="dv">11</span>))</span>
<span id="cb19-5"><a href="#cb19-5"></a></span>
<span id="cb19-6"><a href="#cb19-6"></a>Datos_mapaES3<span class="sc">|&gt;</span> <span class="fu">ungroup</span>()<span class="sc">|&gt;</span> <span class="fu">slice_max</span>(Total, <span class="at">n=</span><span class="dv">5</span>)<span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">Rank =</span> <span class="fu">row_number</span>())<span class="sc">|&gt;</span> <span class="fu">rename</span>(<span class="st">"NºCabezas"</span><span class="ot">=</span><span class="st">"Total"</span>)<span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">Arc.Banderas =</span> <span class="fu">case_when</span>(</span>
<span id="cb19-7"><a href="#cb19-7"></a>    Autonomias <span class="sc">==</span> <span class="st">"Galicia"</span> <span class="sc">~</span> <span class="st">"Galicia.png"</span>,</span>
<span id="cb19-8"><a href="#cb19-8"></a>    Autonomias <span class="sc">==</span> <span class="st">"Cataluña"</span> <span class="sc">~</span> <span class="st">"Catalunya.png"</span>,</span>
<span id="cb19-9"><a href="#cb19-9"></a>    Autonomias <span class="sc">==</span> <span class="st">"Castilla - La Mancha"</span> <span class="sc">~</span> <span class="st">"CastillaMancha.png"</span>,</span>
<span id="cb19-10"><a href="#cb19-10"></a>    Autonomias <span class="sc">==</span> <span class="st">"Aragón"</span> <span class="sc">~</span> <span class="st">"Aragon.png"</span>,</span>
<span id="cb19-11"><a href="#cb19-11"></a>    Autonomias <span class="sc">==</span> <span class="st">"Castilla y León"</span> <span class="sc">~</span> <span class="st">"CastillaLeon.png"</span>,</span>
<span id="cb19-12"><a href="#cb19-12"></a>    Autonomias <span class="sc">==</span> <span class="st">"Andalucía"</span> <span class="sc">~</span> <span class="st">"Andalucia.png"</span>,</span>
<span id="cb19-13"><a href="#cb19-13"></a>    Autonomias <span class="sc">==</span> <span class="st">"Extremadura"</span> <span class="sc">~</span> <span class="st">"Extremadura.png"</span>,</span>
<span id="cb19-14"><a href="#cb19-14"></a>    <span class="at">.default =</span>  <span class="st">""</span>))<span class="sc">|&gt;</span>  <span class="fu">mutate</span>(<span class="at">url_imagen =</span> <span class="fu">paste0</span>(<span class="st">"./imagenes/"</span>, Arc.Banderas)) <span class="sc">|&gt;</span> </span>
<span id="cb19-15"><a href="#cb19-15"></a>  <span class="fu">gt</span>()<span class="sc">|&gt;</span> <span class="fu">cols_move_to_start</span>(<span class="at">columns=</span> <span class="fu">c</span>(Rank, url_imagen, Autonomias, NºCabezas)) <span class="sc">|&gt;</span> <span class="fu">cols_hide</span>(<span class="at">columns =</span> <span class="fu">c</span>(Provincias,Arc.Banderas,Animal))<span class="sc">|&gt;</span> <span class="fu">gt_img_rows</span>(<span class="at">columns =</span> url_imagen, <span class="at">height =</span> <span class="dv">20</span>)<span class="sc">|&gt;</span> <span class="fu">cols_label</span>(<span class="at">url_imagen =</span> <span class="st">""</span>)<span class="sc">|&gt;</span> <span class="fu">cols_align</span>(<span class="at">align =</span> <span class="st">"center"</span>, <span class="at">columns =</span> <span class="fu">c</span>(url_imagen, Rank, Autonomias, NºCabezas))<span class="sc">|&gt;</span> <span class="fu">tab_header</span>(<span class="at">title =</span> <span class="st">"Comunidades autónomas con mayor número de bovinos (2020)"</span>)<span class="sc">|&gt;</span> <span class="fu">gt_theme_excel</span>()<span class="sc">|&gt;</span> <span class="fu">fmt_number</span>(<span class="at">columns =</span> NºCabezas,<span class="at">sep_mark =</span> <span class="st">"."</span>, <span class="at">dec_mark =</span> <span class="st">","</span>, <span class="at">decimals =</span> <span class="dv">0</span>)</span></code></pre></div><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></div>
</details><div class="cell-output-display">
<div id="yazabncyjr" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#yazabncyjr table {
  font-family: Calibri, system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#yazabncyjr thead, #yazabncyjr tbody, #yazabncyjr tfoot, #yazabncyjr tr, #yazabncyjr td, #yazabncyjr th {
  border-style: none;
}

#yazabncyjr p {
  margin: 0;
  padding: 0;
}

#yazabncyjr .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #000000;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #000000;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #000000;
  border-left-style: solid;
  border-left-width: 2px;
  border-left-color: #000000;
}

#yazabncyjr .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#yazabncyjr .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#yazabncyjr .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#yazabncyjr .gt_heading {
  background-color: #FFFFFF;
  text-align: left;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#yazabncyjr .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #000000;
}

#yazabncyjr .gt_col_headings {
  border-top-style: none;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #000000;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#yazabncyjr .gt_col_heading {
  color: #FFFFFF;
  background-color: #000000;
  font-size: 85%;
  font-weight: bold;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#yazabncyjr .gt_column_spanner_outer {
  color: #FFFFFF;
  background-color: #000000;
  font-size: 85%;
  font-weight: bold;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#yazabncyjr .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#yazabncyjr .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#yazabncyjr .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #000000;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#yazabncyjr .gt_spanner_row {
  border-bottom-style: hidden;
}

#yazabncyjr .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #000000;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #000000;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #000000;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #000000;
  vertical-align: middle;
  text-align: left;
}

#yazabncyjr .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #000000;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #000000;
  vertical-align: middle;
}

#yazabncyjr .gt_from_md > :first-child {
  margin-top: 0;
}

#yazabncyjr .gt_from_md > :last-child {
  margin-bottom: 0;
}

#yazabncyjr .gt_row {
  padding-top: 1px;
  padding-bottom: 1px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #000000;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #000000;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #000000;
  vertical-align: middle;
  overflow-x: hidden;
}

#yazabncyjr .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #000000;
  padding-left: 5px;
  padding-right: 5px;
}

#yazabncyjr .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#yazabncyjr .gt_row_group_first td {
  border-top-width: 2px;
}

#yazabncyjr .gt_row_group_first th {
  border-top-width: 2px;
}

#yazabncyjr .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#yazabncyjr .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#yazabncyjr .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#yazabncyjr .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#yazabncyjr .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#yazabncyjr .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#yazabncyjr .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#yazabncyjr .gt_striped {
  background-color: #D3D3D3;
}

#yazabncyjr .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#yazabncyjr .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#yazabncyjr .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#yazabncyjr .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#yazabncyjr .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#yazabncyjr .gt_left {
  text-align: left;
}

#yazabncyjr .gt_center {
  text-align: center;
}

#yazabncyjr .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#yazabncyjr .gt_font_normal {
  font-weight: normal;
}

#yazabncyjr .gt_font_bold {
  font-weight: bold;
}

#yazabncyjr .gt_font_italic {
  font-style: italic;
}

#yazabncyjr .gt_super {
  font-size: 65%;
}

#yazabncyjr .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#yazabncyjr .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#yazabncyjr .gt_indent_1 {
  text-indent: 5px;
}

#yazabncyjr .gt_indent_2 {
  text-indent: 10px;
}

#yazabncyjr .gt_indent_3 {
  text-indent: 15px;
}

#yazabncyjr .gt_indent_4 {
  text-indent: 20px;
}

#yazabncyjr .gt_indent_5 {
  text-indent: 25px;
}

#yazabncyjr .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#yazabncyjr div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>
<table class="gt_table caption-top table table-sm table-striped small" data-quarto-bootstrap="false">
<thead>
<tr class="gt_heading header">
<td colspan="4" class="gt_heading gt_title gt_font_normal gt_bottom_border">Comunidades autónomas con mayor número de bovinos (2020)</td>
</tr>
<tr class="gt_col_headings even">
<th id="Rank" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" scope="col">Rank</th>
<th id="url_imagen" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" style="border-right-width: 2px; border-right-style: solid; border-right-color: black" scope="col"></th>
<th id="Autonomias" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" style="border-left-width: 2px; border-left-style: solid; border-left-color: black" scope="col">Autonomias</th>
<th id="NºCabezas" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" scope="col">NºCabezas</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_center" headers="Rank" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">1</td>
<td class="gt_row gt_center" headers="url_imagen" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 2px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black"><img src="./imagenes/CastillaLeon.png" class="img-fluid" style="height:20px;"></td>
<td class="gt_row gt_center" headers="Autonomias" style="border-left-width: 2px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">Castilla y León</td>
<td class="gt_row gt_center" headers="NºCabezas" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">1.494.053</td>
</tr>
<tr class="even">
<td class="gt_row gt_center gt_striped" headers="Rank" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">2</td>
<td class="gt_row gt_center gt_striped" headers="url_imagen" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 2px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black"><img src="./imagenes/Galicia.png" class="img-fluid" style="height:20px;"></td>
<td class="gt_row gt_center gt_striped" headers="Autonomias" style="border-left-width: 2px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">Galicia</td>
<td class="gt_row gt_center gt_striped" headers="NºCabezas" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">994.515</td>
</tr>
<tr class="odd">
<td class="gt_row gt_center" headers="Rank" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">3</td>
<td class="gt_row gt_center" headers="url_imagen" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 2px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black"><img src="./imagenes/Extremadura.png" class="img-fluid" style="height:20px;"></td>
<td class="gt_row gt_center" headers="Autonomias" style="border-left-width: 2px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">Extremadura</td>
<td class="gt_row gt_center" headers="NºCabezas" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">889.072</td>
</tr>
<tr class="even">
<td class="gt_row gt_center gt_striped" headers="Rank" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">4</td>
<td class="gt_row gt_center gt_striped" headers="url_imagen" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 2px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black"><img src="./imagenes/Catalunya.png" class="img-fluid" style="height:20px;"></td>
<td class="gt_row gt_center gt_striped" headers="Autonomias" style="border-left-width: 2px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">Cataluña</td>
<td class="gt_row gt_center gt_striped" headers="NºCabezas" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">676.097</td>
</tr>
<tr class="odd">
<td class="gt_row gt_center" headers="Rank" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 2px; border-bottom-style: solid; border-bottom-color: black">5</td>
<td class="gt_row gt_center" headers="url_imagen" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 2px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 2px; border-bottom-style: solid; border-bottom-color: black"><img src="./imagenes/Andalucia.png" class="img-fluid" style="height:20px;"></td>
<td class="gt_row gt_center" headers="Autonomias" style="border-left-width: 2px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 2px; border-bottom-style: solid; border-bottom-color: black">Andalucía</td>
<td class="gt_row gt_center" headers="NºCabezas" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 2px; border-bottom-style: solid; border-bottom-color: black">547.544</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><a href="my_trabajo_BigData_files/figure-html/unnamed-chunk-19-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-13"><img src="my_trabajo_BigData_files/figure-html/unnamed-chunk-19-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:95.0%"></a></p>
</figure>
</div>
</div>
</div>
</section><section id="concentración-de-ovinos-por-comunidad-autonóma" class="level3"><h3 class="anchored" data-anchor-id="concentración-de-ovinos-por-comunidad-autonóma">5.1.5. Concentración de ovinos por Comunidad autonóma</h3>
<p>La población de ovinos en España se concentra especialmente en Extremadura, seguida de Castilla y León y Andalucía. Esta distribución se debe principalmente a la disponibilidad de amplias superficies de pastos naturales, a la tradición histórica de la ganadería ovina y a las condiciones climáticas secas, que resultan especialmente favorables para este tipo de ganado.</p>
<p>Extremadura destaca por la presencia de dehesas, un sistema agroganadero ideal para la cría extensiva de ovinos, mientras que Castilla y León y Andalucía cuentan con grandes extensiones de terreno rural y una larga tradición pastoril. Además, el ovino se adapta mejor que otros tipos de ganado a zonas con menor disponibilidad de agua y pastos más pobres, lo que explica su predominio en estas comunidades.</p>
<div class="cell" data-layout-align="center">
<details class="code-fold"><summary>Código</summary><div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb20"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1"></a>Datos_mapaES4 <span class="ot">&lt;-</span> Nº_OvinosES<span class="sc">|&gt;</span> <span class="fu">filter</span>(<span class="fu">is.na</span>(Provincias), Autonomias<span class="sc">!=</span><span class="st">"Total_Nacional"</span>)</span>
<span id="cb20-2"><a href="#cb20-2"></a>mapaES4 <span class="ot">&lt;-</span> mapa_ccaa<span class="sc">|&gt;</span> <span class="fu">left_join</span>(Datos_mapaES4, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"ine.ccaa.name"</span><span class="ot">=</span> <span class="st">"Autonomias"</span>))</span>
<span id="cb20-3"><a href="#cb20-3"></a></span>
<span id="cb20-4"><a href="#cb20-4"></a><span class="fu">ggplot</span>(mapaES4) <span class="sc">+</span> <span class="fu">geom_sf</span>(<span class="fu">aes</span>(<span class="at">fill =</span> Total), <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">linewidth =</span> <span class="fl">0.1</span>) <span class="sc">+</span> <span class="fu">scale_fill_continuous</span>(<span class="at">low=</span><span class="st">"ivory"</span>,<span class="at">high=</span><span class="st">"chartreuse"</span>,<span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">label_comma</span>(<span class="at">big.mark =</span> <span class="st">"."</span>), <span class="at">guide =</span> <span class="fu">guide_colorbar</span>(<span class="at">frame.colour =</span> <span class="st">"black"</span>, <span class="at">ticks.colour =</span> <span class="st">"gray57"</span>)) <span class="sc">+</span> <span class="fu">theme_void</span>() <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Número de ovinos por país (2020)"</span>, <span class="at">fill=</span><span class="st">"Nº de cabezas"</span>) <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">size =</span> <span class="dv">11</span>))</span>
<span id="cb20-5"><a href="#cb20-5"></a></span>
<span id="cb20-6"><a href="#cb20-6"></a>Datos_mapaES4<span class="sc">|&gt;</span> <span class="fu">ungroup</span>()<span class="sc">|&gt;</span> <span class="fu">slice_max</span>(Total, <span class="at">n=</span><span class="dv">5</span>)<span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">Rank =</span> <span class="fu">row_number</span>())<span class="sc">|&gt;</span> <span class="fu">rename</span>(<span class="st">"NºCabezas"</span><span class="ot">=</span><span class="st">"Total"</span>)<span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">Arc.Banderas =</span> <span class="fu">case_when</span>(</span>
<span id="cb20-7"><a href="#cb20-7"></a>    Autonomias <span class="sc">==</span> <span class="st">"Galicia"</span> <span class="sc">~</span> <span class="st">"Galicia.png"</span>,</span>
<span id="cb20-8"><a href="#cb20-8"></a>    Autonomias <span class="sc">==</span> <span class="st">"Cataluña"</span> <span class="sc">~</span> <span class="st">"Catalunya.png"</span>,</span>
<span id="cb20-9"><a href="#cb20-9"></a>    Autonomias <span class="sc">==</span> <span class="st">"Castilla - La Mancha"</span> <span class="sc">~</span> <span class="st">"CastillaMancha.png"</span>,</span>
<span id="cb20-10"><a href="#cb20-10"></a>    Autonomias <span class="sc">==</span> <span class="st">"Aragón"</span> <span class="sc">~</span> <span class="st">"Aragon.png"</span>,</span>
<span id="cb20-11"><a href="#cb20-11"></a>    Autonomias <span class="sc">==</span> <span class="st">"Castilla y León"</span> <span class="sc">~</span> <span class="st">"CastillaLeon.png"</span>,</span>
<span id="cb20-12"><a href="#cb20-12"></a>    Autonomias <span class="sc">==</span> <span class="st">"Andalucía"</span> <span class="sc">~</span> <span class="st">"Andalucia.png"</span>,</span>
<span id="cb20-13"><a href="#cb20-13"></a>    Autonomias <span class="sc">==</span> <span class="st">"Extremadura"</span> <span class="sc">~</span> <span class="st">"Extremadura.png"</span>,</span>
<span id="cb20-14"><a href="#cb20-14"></a>    <span class="at">.default =</span>  <span class="st">""</span>))<span class="sc">|&gt;</span>  <span class="fu">mutate</span>(<span class="at">url_imagen =</span> <span class="fu">paste0</span>(<span class="st">"./imagenes/"</span>, Arc.Banderas)) <span class="sc">|&gt;</span> </span>
<span id="cb20-15"><a href="#cb20-15"></a>  <span class="fu">gt</span>()<span class="sc">|&gt;</span> <span class="fu">cols_move_to_start</span>(<span class="at">columns=</span> <span class="fu">c</span>(Rank, url_imagen, Autonomias, NºCabezas)) <span class="sc">|&gt;</span> <span class="fu">cols_hide</span>(<span class="at">columns =</span> <span class="fu">c</span>(Provincias,Arc.Banderas,Animal))<span class="sc">|&gt;</span> <span class="fu">gt_img_rows</span>(<span class="at">columns =</span> url_imagen, <span class="at">height =</span> <span class="dv">20</span>)<span class="sc">|&gt;</span> <span class="fu">cols_label</span>(<span class="at">url_imagen =</span> <span class="st">""</span>)<span class="sc">|&gt;</span> <span class="fu">cols_align</span>(<span class="at">align =</span> <span class="st">"center"</span>, <span class="at">columns =</span> <span class="fu">c</span>(url_imagen, Rank, Autonomias, NºCabezas))<span class="sc">|&gt;</span> <span class="fu">tab_header</span>(<span class="at">title =</span> <span class="st">"Comunidades autónomas con mayor número de ovinos (2020)"</span>)<span class="sc">|&gt;</span> <span class="fu">gt_theme_excel</span>()<span class="sc">|&gt;</span> <span class="fu">fmt_number</span>(<span class="at">columns =</span> NºCabezas,<span class="at">sep_mark =</span> <span class="st">"."</span>, <span class="at">dec_mark =</span> <span class="st">","</span>, <span class="at">decimals =</span> <span class="dv">0</span>)</span></code></pre></div><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></div>
</details><div class="cell-output-display">
<div id="rnsrpylbqt" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#rnsrpylbqt table {
  font-family: Calibri, system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#rnsrpylbqt thead, #rnsrpylbqt tbody, #rnsrpylbqt tfoot, #rnsrpylbqt tr, #rnsrpylbqt td, #rnsrpylbqt th {
  border-style: none;
}

#rnsrpylbqt p {
  margin: 0;
  padding: 0;
}

#rnsrpylbqt .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #000000;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #000000;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #000000;
  border-left-style: solid;
  border-left-width: 2px;
  border-left-color: #000000;
}

#rnsrpylbqt .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#rnsrpylbqt .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#rnsrpylbqt .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#rnsrpylbqt .gt_heading {
  background-color: #FFFFFF;
  text-align: left;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#rnsrpylbqt .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #000000;
}

#rnsrpylbqt .gt_col_headings {
  border-top-style: none;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #000000;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#rnsrpylbqt .gt_col_heading {
  color: #FFFFFF;
  background-color: #000000;
  font-size: 85%;
  font-weight: bold;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#rnsrpylbqt .gt_column_spanner_outer {
  color: #FFFFFF;
  background-color: #000000;
  font-size: 85%;
  font-weight: bold;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#rnsrpylbqt .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#rnsrpylbqt .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#rnsrpylbqt .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #000000;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#rnsrpylbqt .gt_spanner_row {
  border-bottom-style: hidden;
}

#rnsrpylbqt .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #000000;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #000000;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #000000;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #000000;
  vertical-align: middle;
  text-align: left;
}

#rnsrpylbqt .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #000000;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #000000;
  vertical-align: middle;
}

#rnsrpylbqt .gt_from_md > :first-child {
  margin-top: 0;
}

#rnsrpylbqt .gt_from_md > :last-child {
  margin-bottom: 0;
}

#rnsrpylbqt .gt_row {
  padding-top: 1px;
  padding-bottom: 1px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #000000;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #000000;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #000000;
  vertical-align: middle;
  overflow-x: hidden;
}

#rnsrpylbqt .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #000000;
  padding-left: 5px;
  padding-right: 5px;
}

#rnsrpylbqt .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#rnsrpylbqt .gt_row_group_first td {
  border-top-width: 2px;
}

#rnsrpylbqt .gt_row_group_first th {
  border-top-width: 2px;
}

#rnsrpylbqt .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#rnsrpylbqt .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#rnsrpylbqt .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#rnsrpylbqt .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#rnsrpylbqt .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#rnsrpylbqt .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#rnsrpylbqt .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#rnsrpylbqt .gt_striped {
  background-color: #D3D3D3;
}

#rnsrpylbqt .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#rnsrpylbqt .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#rnsrpylbqt .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#rnsrpylbqt .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#rnsrpylbqt .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#rnsrpylbqt .gt_left {
  text-align: left;
}

#rnsrpylbqt .gt_center {
  text-align: center;
}

#rnsrpylbqt .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#rnsrpylbqt .gt_font_normal {
  font-weight: normal;
}

#rnsrpylbqt .gt_font_bold {
  font-weight: bold;
}

#rnsrpylbqt .gt_font_italic {
  font-style: italic;
}

#rnsrpylbqt .gt_super {
  font-size: 65%;
}

#rnsrpylbqt .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#rnsrpylbqt .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#rnsrpylbqt .gt_indent_1 {
  text-indent: 5px;
}

#rnsrpylbqt .gt_indent_2 {
  text-indent: 10px;
}

#rnsrpylbqt .gt_indent_3 {
  text-indent: 15px;
}

#rnsrpylbqt .gt_indent_4 {
  text-indent: 20px;
}

#rnsrpylbqt .gt_indent_5 {
  text-indent: 25px;
}

#rnsrpylbqt .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#rnsrpylbqt div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>
<table class="gt_table caption-top table table-sm table-striped small" data-quarto-bootstrap="false">
<thead>
<tr class="gt_heading header">
<td colspan="4" class="gt_heading gt_title gt_font_normal gt_bottom_border">Comunidades autónomas con mayor número de ovinos (2020)</td>
</tr>
<tr class="gt_col_headings even">
<th id="Rank" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" scope="col">Rank</th>
<th id="url_imagen" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" style="border-right-width: 2px; border-right-style: solid; border-right-color: black" scope="col"></th>
<th id="Autonomias" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" style="border-left-width: 2px; border-left-style: solid; border-left-color: black" scope="col">Autonomias</th>
<th id="NºCabezas" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" scope="col">NºCabezas</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_center" headers="Rank" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">1</td>
<td class="gt_row gt_center" headers="url_imagen" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 2px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black"><img src="./imagenes/Extremadura.png" class="img-fluid" style="height:20px;"></td>
<td class="gt_row gt_center" headers="Autonomias" style="border-left-width: 2px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">Extremadura</td>
<td class="gt_row gt_center" headers="NºCabezas" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">3.834.066</td>
</tr>
<tr class="even">
<td class="gt_row gt_center gt_striped" headers="Rank" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">2</td>
<td class="gt_row gt_center gt_striped" headers="url_imagen" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 2px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black"><img src="./imagenes/CastillaLeon.png" class="img-fluid" style="height:20px;"></td>
<td class="gt_row gt_center gt_striped" headers="Autonomias" style="border-left-width: 2px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">Castilla y León</td>
<td class="gt_row gt_center gt_striped" headers="NºCabezas" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">2.664.103</td>
</tr>
<tr class="odd">
<td class="gt_row gt_center" headers="Rank" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">3</td>
<td class="gt_row gt_center" headers="url_imagen" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 2px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black"><img src="./imagenes/Andalucia.png" class="img-fluid" style="height:20px;"></td>
<td class="gt_row gt_center" headers="Autonomias" style="border-left-width: 2px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">Andalucía</td>
<td class="gt_row gt_center" headers="NºCabezas" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">2.599.418</td>
</tr>
<tr class="even">
<td class="gt_row gt_center gt_striped" headers="Rank" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">4</td>
<td class="gt_row gt_center gt_striped" headers="url_imagen" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 2px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black"><img src="./imagenes/CastillaMancha.png" class="img-fluid" style="height:20px;"></td>
<td class="gt_row gt_center gt_striped" headers="Autonomias" style="border-left-width: 2px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">Castilla - La Mancha</td>
<td class="gt_row gt_center gt_striped" headers="NºCabezas" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">2.444.336</td>
</tr>
<tr class="odd">
<td class="gt_row gt_center" headers="Rank" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 2px; border-bottom-style: solid; border-bottom-color: black">5</td>
<td class="gt_row gt_center" headers="url_imagen" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 2px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 2px; border-bottom-style: solid; border-bottom-color: black"><img src="./imagenes/Aragon.png" class="img-fluid" style="height:20px;"></td>
<td class="gt_row gt_center" headers="Autonomias" style="border-left-width: 2px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 2px; border-bottom-style: solid; border-bottom-color: black">Aragón</td>
<td class="gt_row gt_center" headers="NºCabezas" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 2px; border-bottom-style: solid; border-bottom-color: black">1.654.786</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><a href="my_trabajo_BigData_files/figure-html/unnamed-chunk-20-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-14"><img src="my_trabajo_BigData_files/figure-html/unnamed-chunk-20-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:95.0%"></a></p>
</figure>
</div>
</div>
</div>
</section><section id="concentración-de-porcinos-por-comunidad-autonóma" class="level3"><h3 class="anchored" data-anchor-id="concentración-de-porcinos-por-comunidad-autonóma">5.1.6. Concentración de porcinos por Comunidad autonóma</h3>
<p>La población de porcinos en España se concentra principalmente en Cataluña, seguida, a notable distancia, por Castilla y León y Aragón. Esta distribución se explica por el alto grado de industrialización e integración del sector porcino catalán, así como por la presencia de una potente industria cárnica, especializada en la producción y transformación de carne porcina y considerada una de las más relevantes de Europa.</p>
<p>Por su parte, Castilla y León y Aragón han experimentado un crecimiento del sector porcino favorecido por la disponibilidad de suelo rural, unos costes de producción relativamente bajos y la expansión de explotaciones integradas, aunque su peso continúa siendo inferior al de Cataluña.</p>
<div class="cell" data-layout-align="center">
<details class="code-fold"><summary>Código</summary><div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb21"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1"></a>Datos_mapaES5 <span class="ot">&lt;-</span> Nº_PorcinosES<span class="sc">|&gt;</span> <span class="fu">filter</span>(<span class="fu">is.na</span>(Provincias), Autonomias<span class="sc">!=</span><span class="st">"Total_Nacional"</span>)</span>
<span id="cb21-2"><a href="#cb21-2"></a>mapaES5 <span class="ot">&lt;-</span> mapa_ccaa<span class="sc">|&gt;</span> <span class="fu">left_join</span>(Datos_mapaES5, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"ine.ccaa.name"</span><span class="ot">=</span> <span class="st">"Autonomias"</span>))</span>
<span id="cb21-3"><a href="#cb21-3"></a></span>
<span id="cb21-4"><a href="#cb21-4"></a><span class="fu">ggplot</span>(mapaES5) <span class="sc">+</span> <span class="fu">geom_sf</span>(<span class="fu">aes</span>(<span class="at">fill =</span> Total), <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">linewidth =</span> <span class="fl">0.1</span>) <span class="sc">+</span> <span class="fu">scale_fill_continuous</span>(<span class="at">low=</span><span class="st">"ivory"</span>,<span class="at">high=</span><span class="st">"red4"</span>,<span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">label_comma</span>(<span class="at">big.mark =</span> <span class="st">"."</span>), <span class="at">guide =</span> <span class="fu">guide_colorbar</span>(<span class="at">frame.colour =</span> <span class="st">"black"</span>, <span class="at">ticks.colour =</span> <span class="st">"gray57"</span>)) <span class="sc">+</span> <span class="fu">theme_void</span>() <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Número de porcinos por país (2020)"</span>, <span class="at">fill=</span><span class="st">"Nº de cabezas"</span>) <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">size =</span> <span class="dv">11</span>))</span>
<span id="cb21-5"><a href="#cb21-5"></a></span>
<span id="cb21-6"><a href="#cb21-6"></a>Datos_mapaES5<span class="sc">|&gt;</span> <span class="fu">ungroup</span>()<span class="sc">|&gt;</span> <span class="fu">slice_max</span>(Total, <span class="at">n=</span><span class="dv">5</span>)<span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">Rank =</span> <span class="fu">row_number</span>())<span class="sc">|&gt;</span> <span class="fu">rename</span>(<span class="st">"NºCabezas"</span><span class="ot">=</span><span class="st">"Total"</span>)<span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">Arc.Banderas =</span> <span class="fu">case_when</span>(</span>
<span id="cb21-7"><a href="#cb21-7"></a>    Autonomias <span class="sc">==</span> <span class="st">"Galicia"</span> <span class="sc">~</span> <span class="st">"Galicia.png"</span>,</span>
<span id="cb21-8"><a href="#cb21-8"></a>    Autonomias <span class="sc">==</span> <span class="st">"Cataluña"</span> <span class="sc">~</span> <span class="st">"Catalunya.png"</span>,</span>
<span id="cb21-9"><a href="#cb21-9"></a>    Autonomias <span class="sc">==</span> <span class="st">"Castilla - La Mancha"</span> <span class="sc">~</span> <span class="st">"CastillaMancha.png"</span>,</span>
<span id="cb21-10"><a href="#cb21-10"></a>    Autonomias <span class="sc">==</span> <span class="st">"Aragón"</span> <span class="sc">~</span> <span class="st">"Aragon.png"</span>,</span>
<span id="cb21-11"><a href="#cb21-11"></a>    Autonomias <span class="sc">==</span> <span class="st">"Castilla y León"</span> <span class="sc">~</span> <span class="st">"CastillaLeon.png"</span>,</span>
<span id="cb21-12"><a href="#cb21-12"></a>    Autonomias <span class="sc">==</span> <span class="st">"Andalucía"</span> <span class="sc">~</span> <span class="st">"Andalucia.png"</span>,</span>
<span id="cb21-13"><a href="#cb21-13"></a>    Autonomias <span class="sc">==</span> <span class="st">"Extremadura"</span> <span class="sc">~</span> <span class="st">"Extremadura.png"</span>,</span>
<span id="cb21-14"><a href="#cb21-14"></a>    <span class="at">.default =</span>  <span class="st">""</span>))<span class="sc">|&gt;</span>  <span class="fu">mutate</span>(<span class="at">url_imagen =</span> <span class="fu">paste0</span>(<span class="st">"./imagenes/"</span>, Arc.Banderas)) <span class="sc">|&gt;</span> </span>
<span id="cb21-15"><a href="#cb21-15"></a>  <span class="fu">gt</span>()<span class="sc">|&gt;</span> <span class="fu">cols_move_to_start</span>(<span class="at">columns=</span> <span class="fu">c</span>(Rank, url_imagen, Autonomias, NºCabezas)) <span class="sc">|&gt;</span> <span class="fu">cols_hide</span>(<span class="at">columns =</span> <span class="fu">c</span>(Provincias,Arc.Banderas,Animal))<span class="sc">|&gt;</span> <span class="fu">gt_img_rows</span>(<span class="at">columns =</span> url_imagen, <span class="at">height =</span> <span class="dv">20</span>)<span class="sc">|&gt;</span> <span class="fu">cols_label</span>(<span class="at">url_imagen =</span> <span class="st">""</span>)<span class="sc">|&gt;</span> <span class="fu">cols_align</span>(<span class="at">align =</span> <span class="st">"center"</span>, <span class="at">columns =</span> <span class="fu">c</span>(url_imagen, Rank, Autonomias, NºCabezas))<span class="sc">|&gt;</span> <span class="fu">tab_header</span>(<span class="at">title =</span> <span class="st">"Comunidades autónomas con mayor número de porcino (2020)"</span>)<span class="sc">|&gt;</span> <span class="fu">gt_theme_excel</span>()<span class="sc">|&gt;</span> <span class="fu">fmt_number</span>(<span class="at">columns =</span> NºCabezas,<span class="at">sep_mark =</span> <span class="st">"."</span>, <span class="at">dec_mark =</span> <span class="st">","</span>, <span class="at">decimals =</span> <span class="dv">0</span>)</span></code></pre></div><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></div>
</details><div class="cell-output-display">
<div id="dyegneqaes" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#dyegneqaes table {
  font-family: Calibri, system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#dyegneqaes thead, #dyegneqaes tbody, #dyegneqaes tfoot, #dyegneqaes tr, #dyegneqaes td, #dyegneqaes th {
  border-style: none;
}

#dyegneqaes p {
  margin: 0;
  padding: 0;
}

#dyegneqaes .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #000000;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #000000;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #000000;
  border-left-style: solid;
  border-left-width: 2px;
  border-left-color: #000000;
}

#dyegneqaes .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#dyegneqaes .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#dyegneqaes .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#dyegneqaes .gt_heading {
  background-color: #FFFFFF;
  text-align: left;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#dyegneqaes .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #000000;
}

#dyegneqaes .gt_col_headings {
  border-top-style: none;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #000000;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#dyegneqaes .gt_col_heading {
  color: #FFFFFF;
  background-color: #000000;
  font-size: 85%;
  font-weight: bold;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#dyegneqaes .gt_column_spanner_outer {
  color: #FFFFFF;
  background-color: #000000;
  font-size: 85%;
  font-weight: bold;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#dyegneqaes .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#dyegneqaes .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#dyegneqaes .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #000000;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#dyegneqaes .gt_spanner_row {
  border-bottom-style: hidden;
}

#dyegneqaes .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #000000;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #000000;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #000000;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #000000;
  vertical-align: middle;
  text-align: left;
}

#dyegneqaes .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #000000;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #000000;
  vertical-align: middle;
}

#dyegneqaes .gt_from_md > :first-child {
  margin-top: 0;
}

#dyegneqaes .gt_from_md > :last-child {
  margin-bottom: 0;
}

#dyegneqaes .gt_row {
  padding-top: 1px;
  padding-bottom: 1px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #000000;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #000000;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #000000;
  vertical-align: middle;
  overflow-x: hidden;
}

#dyegneqaes .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #000000;
  padding-left: 5px;
  padding-right: 5px;
}

#dyegneqaes .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#dyegneqaes .gt_row_group_first td {
  border-top-width: 2px;
}

#dyegneqaes .gt_row_group_first th {
  border-top-width: 2px;
}

#dyegneqaes .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#dyegneqaes .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#dyegneqaes .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#dyegneqaes .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#dyegneqaes .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#dyegneqaes .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#dyegneqaes .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#dyegneqaes .gt_striped {
  background-color: #D3D3D3;
}

#dyegneqaes .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#dyegneqaes .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#dyegneqaes .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#dyegneqaes .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#dyegneqaes .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#dyegneqaes .gt_left {
  text-align: left;
}

#dyegneqaes .gt_center {
  text-align: center;
}

#dyegneqaes .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#dyegneqaes .gt_font_normal {
  font-weight: normal;
}

#dyegneqaes .gt_font_bold {
  font-weight: bold;
}

#dyegneqaes .gt_font_italic {
  font-style: italic;
}

#dyegneqaes .gt_super {
  font-size: 65%;
}

#dyegneqaes .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#dyegneqaes .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#dyegneqaes .gt_indent_1 {
  text-indent: 5px;
}

#dyegneqaes .gt_indent_2 {
  text-indent: 10px;
}

#dyegneqaes .gt_indent_3 {
  text-indent: 15px;
}

#dyegneqaes .gt_indent_4 {
  text-indent: 20px;
}

#dyegneqaes .gt_indent_5 {
  text-indent: 25px;
}

#dyegneqaes .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#dyegneqaes div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>
<table class="gt_table caption-top table table-sm table-striped small" data-quarto-bootstrap="false">
<thead>
<tr class="gt_heading header">
<td colspan="4" class="gt_heading gt_title gt_font_normal gt_bottom_border">Comunidades autónomas con mayor número de porcino (2020)</td>
</tr>
<tr class="gt_col_headings even">
<th id="Rank" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" scope="col">Rank</th>
<th id="url_imagen" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" style="border-right-width: 2px; border-right-style: solid; border-right-color: black" scope="col"></th>
<th id="Autonomias" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" style="border-left-width: 2px; border-left-style: solid; border-left-color: black" scope="col">Autonomias</th>
<th id="NºCabezas" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" scope="col">NºCabezas</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_center" headers="Rank" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">1</td>
<td class="gt_row gt_center" headers="url_imagen" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 2px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black"><img src="./imagenes/Catalunya.png" class="img-fluid" style="height:20px;"></td>
<td class="gt_row gt_center" headers="Autonomias" style="border-left-width: 2px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">Cataluña</td>
<td class="gt_row gt_center" headers="NºCabezas" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">8.192.796</td>
</tr>
<tr class="even">
<td class="gt_row gt_center gt_striped" headers="Rank" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">2</td>
<td class="gt_row gt_center gt_striped" headers="url_imagen" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 2px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black"><img src="./imagenes/CastillaLeon.png" class="img-fluid" style="height:20px;"></td>
<td class="gt_row gt_center gt_striped" headers="Autonomias" style="border-left-width: 2px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">Castilla y León</td>
<td class="gt_row gt_center gt_striped" headers="NºCabezas" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">4.425.015</td>
</tr>
<tr class="odd">
<td class="gt_row gt_center" headers="Rank" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">3</td>
<td class="gt_row gt_center" headers="url_imagen" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 2px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black"><img src="./imagenes/Aragon.png" class="img-fluid" style="height:20px;"></td>
<td class="gt_row gt_center" headers="Autonomias" style="border-left-width: 2px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">Aragón</td>
<td class="gt_row gt_center" headers="NºCabezas" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">4.117.058</td>
</tr>
<tr class="even">
<td class="gt_row gt_center gt_striped" headers="Rank" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">4</td>
<td class="gt_row gt_center gt_striped" headers="url_imagen" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 2px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black"><img src="./imagenes/CastillaMancha.png" class="img-fluid" style="height:20px;"></td>
<td class="gt_row gt_center gt_striped" headers="Autonomias" style="border-left-width: 2px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">Castilla - La Mancha</td>
<td class="gt_row gt_center gt_striped" headers="NºCabezas" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black">2.784.806</td>
</tr>
<tr class="odd">
<td class="gt_row gt_center" headers="Rank" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 2px; border-bottom-style: solid; border-bottom-color: black">5</td>
<td class="gt_row gt_center" headers="url_imagen" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 2px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 2px; border-bottom-style: solid; border-bottom-color: black"><img src="./imagenes/Andalucia.png" class="img-fluid" style="height:20px;"></td>
<td class="gt_row gt_center" headers="Autonomias" style="border-left-width: 2px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 2px; border-bottom-style: solid; border-bottom-color: black">Andalucía</td>
<td class="gt_row gt_center" headers="NºCabezas" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 2px; border-bottom-style: solid; border-bottom-color: black">2.546.709</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><a href="my_trabajo_BigData_files/figure-html/unnamed-chunk-21-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-15"><img src="my_trabajo_BigData_files/figure-html/unnamed-chunk-21-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:95.0%"></a></p>
</figure>
</div>
</div>
</div>
</section></section></section><section id="conclusion" class="level1"><h1>6. Conclusion</h1>
<p>Podemos observar que los distintos países de Europa presentan poblaciones de animales de granja muy variadas, lo que refleja la influencia de múltiples factores. Estas diferencias se explican tanto por condiciones naturales, como el clima, la disponibilidad de pastos y el tipo de suelo, como por factores económicos y productivos, incluyendo el grado de industrialización del sector, la tradición ganadera y la orientación hacia mercados nacionales e internacionales. En conjunto, estos elementos determinan la distribución y el predominio de ciertas especies en cada país, mostrando cómo el entorno natural y económico condiciona la estructura y el desarrollo de la ganadería europea.</p>
</section><section id="bibliografia" class="level1"><h1>7. Bibliografia</h1>
<ul>
<li><p>Eurostat. (2026, January 7). <em>Home</em>. European Union. https://ec.europa.eu/eurostat</p></li>
<li><p>Instituto Nacional de Estadística. (2026, January 2). <em>INE – Instituto Nacional de Estadística</em>. https://ine.es</p></li>
<li><p>Wikipedia. (s.f.). <em>Wikipedia, la enciclopedia libre</em>. Fundación Wikimedia. https://www.wikipedia.org/</p></li>
</ul>


<!-- -->

</section>
</div>
</section><div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" id="quarto-reuse"><h2 class="anchored quarto-appendix-heading">Reutilizar</h2><div class="quarto-appendix-contents"><div><a rel="license" href="https://creativecommons.org/licenses/by/4.0/deed.es">CC BY 4.0</a></div></div></section></div></main><!-- /main --><script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copiada");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copiada");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
    const viewSource = window.document.getElementById('quarto-view-source') ||
                       window.document.getElementById('quarto-code-tools-source');
    if (viewSource) {
      const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
      viewSource.addEventListener("click", function(e) {
        if (sourceUrl) {
          // rstudio viewer pane
          if (/\bcapabilities=\b/.test(window.location)) {
            window.open(sourceUrl);
          } else {
            window.location.href = sourceUrl;
          }
        } else {
          const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
          modal.show();
        }
        return false;
      });
    }
    function toggleCodeHandler(show) {
      return function(e) {
        const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
        for (let i=0; i<detailsSrc.length; i++) {
          const details = detailsSrc[i].parentElement;
          if (show) {
            details.open = true;
          } else {
            details.removeAttribute("open");
          }
        }
        const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
        const fromCls = show ? "hidden" : "unhidden";
        const toCls = show ? "unhidden" : "hidden";
        for (let i=0; i<cellCodeDivs.length; i++) {
          const codeDiv = cellCodeDivs[i];
          if (codeDiv.classList.contains(fromCls)) {
            codeDiv.classList.remove(fromCls);
            codeDiv.classList.add(toCls);
          } 
        }
        return false;
      }
    }
    const hideAllCode = window.document.getElementById("quarto-hide-all-code");
    if (hideAllCode) {
      hideAllCode.addEventListener("click", toggleCodeHandler(false));
    }
    const showAllCode = window.document.getElementById("quarto-show-all-code");
    if (showAllCode) {
      showAllCode.addEventListener("click", toggleCodeHandler(true));
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
            // target, if specified
            link.setAttribute("target", "_blank");
            if (link.getAttribute("rel") === null) {
              link.setAttribute("rel", "noopener");
            }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Ejecutar el código</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb22" data-shortcodes="false"><pre class="sourceCode numberSource markdown number-lines code-with-copy"><code class="sourceCode markdown"><span id="cb22-1"><a href="#cb22-1"></a><span class="co">---</span></span>
<span id="cb22-2"><a href="#cb22-2"></a><span class="an">title:</span><span class="co"> "La población de animales de granja en Europa"</span></span>
<span id="cb22-3"><a href="#cb22-3"></a><span class="an">description:</span><span class="co"> |</span></span>
<span id="cb22-4"><a href="#cb22-4"></a><span class="co"> Un estudio simpre de la demografía ganadera europea</span></span>
<span id="cb22-5"><a href="#cb22-5"></a><span class="an">author:</span></span>
<span id="cb22-6"><a href="#cb22-6"></a><span class="co">  - name: Yutao Henry Jiang Zheng</span></span>
<span id="cb22-7"><a href="#cb22-7"></a><span class="co">    affiliation: Universitat de València</span></span>
<span id="cb22-8"><a href="#cb22-8"></a><span class="co">    affiliation-url: https://www.uv.es</span></span>
<span id="cb22-9"><a href="#cb22-9"></a><span class="an">date:</span><span class="co"> 2026-01-02                           #--</span></span>
<span id="cb22-10"><a href="#cb22-10"></a><span class="an">categories:</span><span class="co"> [trabajo BigData, Animales de granja, Demografía]   #--</span></span>
<span id="cb22-11"><a href="#cb22-11"></a><span class="an">image:</span><span class="co"> "Directions Boat"</span></span>
<span id="cb22-12"><a href="#cb22-12"></a><span class="an">title-block-banner:</span><span class="co"> "imagenes/Banner_Bovinos.png"</span></span>
<span id="cb22-13"><a href="#cb22-13"></a><span class="an">title-block-banner-color:</span><span class="co"> "skyblue3"</span></span>
<span id="cb22-14"><a href="#cb22-14"></a><span class="an">toc-depth:</span><span class="co"> 4</span></span>
<span id="cb22-15"><a href="#cb22-15"></a><span class="an">smooth-scroll:</span><span class="co"> true</span></span>
<span id="cb22-16"><a href="#cb22-16"></a><span class="an">format:</span><span class="co"> </span></span>
<span id="cb22-17"><a href="#cb22-17"></a><span class="co">  html:</span></span>
<span id="cb22-18"><a href="#cb22-18"></a><span class="co">    #embed-resources: true</span></span>
<span id="cb22-19"><a href="#cb22-19"></a><span class="co">    link-external-newwindow: true</span></span>
<span id="cb22-20"><a href="#cb22-20"></a><span class="co">    #css: assets/my_css_file.css   #- CUIDADO!!!!</span></span>
<span id="cb22-21"><a href="#cb22-21"></a><span class="an">code-tools:</span><span class="co"> true</span></span>
<span id="cb22-22"><a href="#cb22-22"></a><span class="an">code-link:</span><span class="co"> true</span></span>
<span id="cb22-23"><a href="#cb22-23"></a><span class="co">---</span></span>
<span id="cb22-24"><a href="#cb22-24"></a></span>
<span id="cb22-25"><a href="#cb22-25"></a><span class="fu"># 1. Introducción</span></span>
<span id="cb22-26"><a href="#cb22-26"></a></span>
<span id="cb22-27"><a href="#cb22-27"></a>En este trabajo se analiza la demografía de los animales de granja en Europa, un aspecto fundamental para comprender la estructura y la evolución del sector ganadero en el continente. La población ganadera desempeña un papel clave en la economía europea, en la seguridad alimentaria y en el desarrollo de las zonas rurales.</span>
<span id="cb22-28"><a href="#cb22-28"></a></span>
<span id="cb22-29"><a href="#cb22-29"></a>A través del estudio de las principales especies de animales de granja, entre las que se incluyen el ganado bovino, porcino, ovino y avícola, se pretende examinar su distribución geográfica, su evolución en los últimos años y las diferencias existentes entre los distintas regiones europeas.</span>
<span id="cb22-30"><a href="#cb22-30"></a></span>
<span id="cb22-31"><a href="#cb22-31"></a><span class="fu"># 2. Datos</span></span>
<span id="cb22-32"><a href="#cb22-32"></a></span>
<span id="cb22-33"><a href="#cb22-33"></a>Para realizar el trabajo utilizaremos los siguientes datos:</span>
<span id="cb22-34"><a href="#cb22-34"></a></span>
<span id="cb22-35"><a href="#cb22-35"></a>::: {.panel-tabset}</span>
<span id="cb22-36"><a href="#cb22-36"></a></span>
<span id="cb22-37"><a href="#cb22-37"></a><span class="fu">## Fuente de los datos</span></span>
<span id="cb22-38"><a href="#cb22-38"></a>Los datos utilizados en este estudio provienen principalmente de fuentes estadísticas oficiales, concretamente de <span class="co">[</span><span class="ot">Eurostat</span><span class="co">](https://ec.europa.eu/eurostat/en/?etrans=es)</span>{target="_blank"} y del Instituto Nacional de Estadística (<span class="co">[</span><span class="ot">INE</span><span class="co">](https://ine.es/)</span>{target="_blank"})</span>
<span id="cb22-39"><a href="#cb22-39"></a></span>
<span id="cb22-40"><a href="#cb22-40"></a></span>
<span id="cb22-41"><a href="#cb22-41"></a><span class="fu">## Datos usados</span></span>
<span id="cb22-42"><a href="#cb22-42"></a><span class="ss">- </span>Nº_Bovinos → Número de bovinos por miles de cabezas en Europa</span>
<span id="cb22-43"><a href="#cb22-43"></a><span class="ss">- </span>Nº_Porcinos → Número de porcinos por miles de cabezas en Europa</span>
<span id="cb22-44"><a href="#cb22-44"></a><span class="ss">- </span>Nº_Ovinos → Número de ovinos por miles de cabezas en Europa</span>
<span id="cb22-45"><a href="#cb22-45"></a><span class="ss">- </span>Nº_AvedeCoral → Número de aves de coral por número de cabezas en Europa</span>
<span id="cb22-46"><a href="#cb22-46"></a><span class="ss">- </span>Nº_TotalEU → Número total de animales de granja en Europa</span>
<span id="cb22-47"><a href="#cb22-47"></a><span class="ss">- </span>Nº_BovinosES → Número de bovinos por número de cabezas en España</span>
<span id="cb22-48"><a href="#cb22-48"></a><span class="ss">- </span>Nº_PorcinosES → Número de porcinos por número de cabezas en España</span>
<span id="cb22-49"><a href="#cb22-49"></a><span class="ss">- </span>Nº_OvinosES → Número de ovinos por número de cabezas en España</span>
<span id="cb22-50"><a href="#cb22-50"></a><span class="ss">- </span>Nº_AvedeCoralES → Número de aves de coral por número de cabezas en España</span>
<span id="cb22-51"><a href="#cb22-51"></a><span class="ss">- </span>Nº_TotalES → Número total de animales de granja en España</span>
<span id="cb22-52"><a href="#cb22-52"></a></span>
<span id="cb22-53"><a href="#cb22-53"></a><span class="fu">## Paquetes utilizados</span></span>
<span id="cb22-54"><a href="#cb22-54"></a></span>
<span id="cb22-57"><a href="#cb22-57"></a><span class="in">```{r}</span></span>
<span id="cb22-58"><a href="#cb22-58"></a><span class="co">#| results: hide </span></span>
<span id="cb22-59"><a href="#cb22-59"></a><span class="co">#| warning: false </span></span>
<span id="cb22-60"><a href="#cb22-60"></a><span class="co">#| message: false</span></span>
<span id="cb22-61"><a href="#cb22-61"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb22-62"><a href="#cb22-62"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb22-63"><a href="#cb22-63"></a><span class="fu">library</span>(ggthemes)</span>
<span id="cb22-64"><a href="#cb22-64"></a><span class="fu">library</span>(scales)</span>
<span id="cb22-65"><a href="#cb22-65"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb22-66"><a href="#cb22-66"></a><span class="fu">library</span>(eurostat)</span>
<span id="cb22-67"><a href="#cb22-67"></a><span class="fu">library</span>(scales)</span>
<span id="cb22-68"><a href="#cb22-68"></a><span class="fu">library</span>(ggthemes)</span>
<span id="cb22-69"><a href="#cb22-69"></a><span class="fu">library</span>(highcharter)</span>
<span id="cb22-70"><a href="#cb22-70"></a><span class="fu">library</span>(sf)</span>
<span id="cb22-71"><a href="#cb22-71"></a><span class="fu">library</span>(rnaturalearth)</span>
<span id="cb22-72"><a href="#cb22-72"></a><span class="fu">library</span>(patchwork)</span>
<span id="cb22-73"><a href="#cb22-73"></a><span class="fu">library</span>(countrycode)           </span>
<span id="cb22-74"><a href="#cb22-74"></a><span class="fu">library</span>(gt)</span>
<span id="cb22-75"><a href="#cb22-75"></a><span class="fu">library</span>(gtExtras)</span>
<span id="cb22-76"><a href="#cb22-76"></a><span class="fu">library</span>(mapSpain)</span>
<span id="cb22-77"><a href="#cb22-77"></a><span class="in">```</span></span>
<span id="cb22-78"><a href="#cb22-78"></a></span>
<span id="cb22-79"><a href="#cb22-79"></a></span>
<span id="cb22-80"><a href="#cb22-80"></a><span class="fu">## Codigo de los datos</span></span>
<span id="cb22-81"><a href="#cb22-81"></a></span>
<span id="cb22-84"><a href="#cb22-84"></a><span class="in">```{r}</span></span>
<span id="cb22-85"><a href="#cb22-85"></a><span class="co">#| results: hide </span></span>
<span id="cb22-86"><a href="#cb22-86"></a><span class="co">#| warning: false </span></span>
<span id="cb22-87"><a href="#cb22-87"></a><span class="co">#| message: false</span></span>
<span id="cb22-88"><a href="#cb22-88"></a><span class="co">#Número de bovinos por miles de cabezas en Europa</span></span>
<span id="cb22-89"><a href="#cb22-89"></a>Nº_bovinos <span class="ot">&lt;-</span> eurostat<span class="sc">::</span><span class="fu">get_eurostat</span>(<span class="st">"apro_mt_lscatl"</span>)<span class="sc">|&gt;</span>tidyr<span class="sc">::</span><span class="fu">separate_wider_delim</span>(<span class="at">col =</span> TIME_PERIOD, <span class="at">names =</span> <span class="fu">c</span>(<span class="st">"Year"</span>,<span class="st">"Date"</span>), <span class="at">delim =</span> <span class="st">"-"</span>,<span class="at">too_many =</span> <span class="st">"merge"</span>)<span class="sc">|&gt;</span><span class="fu">filter</span>(month<span class="sc">==</span><span class="st">"M12"</span>)</span>
<span id="cb22-90"><a href="#cb22-90"></a></span>
<span id="cb22-91"><a href="#cb22-91"></a><span class="co">#Número de porcinos por miles de cabezas en Europa</span></span>
<span id="cb22-92"><a href="#cb22-92"></a>Nº_Porcinos <span class="ot">&lt;-</span> eurostat<span class="sc">::</span><span class="fu">get_eurostat</span>(<span class="st">"apro_mt_lspig"</span>)<span class="sc">|&gt;</span>tidyr<span class="sc">::</span><span class="fu">separate_wider_delim</span>(<span class="at">col =</span> TIME_PERIOD, <span class="at">names =</span> <span class="fu">c</span>(<span class="st">"Year"</span>,<span class="st">"Date"</span>), <span class="at">delim =</span> <span class="st">"-"</span>,<span class="at">too_many =</span> <span class="st">"merge"</span>)<span class="sc">|&gt;</span><span class="fu">filter</span>(month<span class="sc">==</span><span class="st">"M12"</span>)</span>
<span id="cb22-93"><a href="#cb22-93"></a></span>
<span id="cb22-94"><a href="#cb22-94"></a><span class="co">#Número de ovinos por miles de cabezas en Europa</span></span>
<span id="cb22-95"><a href="#cb22-95"></a>Nº_Ovinos <span class="ot">&lt;-</span> eurostat<span class="sc">::</span><span class="fu">get_eurostat</span>(<span class="st">"apro_mt_lssheep"</span>)<span class="sc">|&gt;</span>tidyr<span class="sc">::</span><span class="fu">separate_wider_delim</span>(<span class="at">col =</span> TIME_PERIOD, <span class="at">names =</span> <span class="fu">c</span>(<span class="st">"Year"</span>,<span class="st">"Date"</span>), <span class="at">delim =</span> <span class="st">"-"</span>,<span class="at">too_many =</span> <span class="st">"merge"</span>)<span class="sc">|&gt;</span><span class="fu">filter</span>(month<span class="sc">==</span><span class="st">"M12"</span>)</span>
<span id="cb22-96"><a href="#cb22-96"></a></span>
<span id="cb22-97"><a href="#cb22-97"></a><span class="co">#Número de aves de coral por número de cabezas en Europa</span></span>
<span id="cb22-98"><a href="#cb22-98"></a>Nº_AvedeCoral <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"./Datos/ef_lsk_poultry_page_linear_2_0.csv"</span>)</span>
<span id="cb22-99"><a href="#cb22-99"></a>Nº_AvedeCoral <span class="ot">&lt;-</span> Nº_AvedeCoral<span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">Miles_Cabeza=</span> OBS_VALUE<span class="sc">/</span><span class="dv">1000</span>)<span class="sc">|&gt;</span> <span class="fu">rename</span>(<span class="st">"n_Cabeza"</span><span class="ot">=</span><span class="st">"OBS_VALUE"</span>)<span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">TIME_PERIOD =</span> <span class="fu">as.character</span>(TIME_PERIOD))<span class="sc">|&gt;</span> <span class="fu">select</span>(<span class="st">"geo"</span>, <span class="st">"TIME_PERIOD"</span>, <span class="st">"freq"</span>, <span class="st">"animals"</span>, <span class="st">"unit"</span>,<span class="st">"Miles_Cabeza"</span>,<span class="st">"n_Cabeza"</span>)</span>
<span id="cb22-100"><a href="#cb22-100"></a></span>
<span id="cb22-101"><a href="#cb22-101"></a><span class="co">#Número total de animales de granja en Europa</span></span>
<span id="cb22-102"><a href="#cb22-102"></a>Nº_TotalEU <span class="ot">&lt;-</span> <span class="fu">full_join</span>(Nº_bovinos, Nº_Porcinos, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"geo"</span>, <span class="st">"Year"</span>, <span class="st">"freq"</span>, <span class="st">"animals"</span>, <span class="st">"month"</span>, <span class="st">"unit"</span>, <span class="st">"values"</span>))</span>
<span id="cb22-103"><a href="#cb22-103"></a>Nº_TotalEU <span class="ot">&lt;-</span>Nº_TotalEU<span class="sc">|&gt;</span> <span class="fu">full_join</span>(Nº_Ovinos, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"geo"</span>, <span class="st">"Year"</span>, <span class="st">"freq"</span>, <span class="st">"animals"</span>, <span class="st">"month"</span>, <span class="st">"unit"</span>, <span class="st">"values"</span>))</span>
<span id="cb22-104"><a href="#cb22-104"></a>Nº_TotalEU <span class="ot">&lt;-</span>Nº_TotalEU<span class="sc">|&gt;</span> <span class="fu">full_join</span>(Nº_AvedeCoral, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"geo"</span>, <span class="st">"Year"</span><span class="ot">=</span><span class="st">"TIME_PERIOD"</span>, <span class="st">"freq"</span>, <span class="st">"animals"</span>, <span class="st">"unit"</span>, <span class="st">"values"</span><span class="ot">=</span><span class="st">"Miles_Cabeza"</span>))</span>
<span id="cb22-105"><a href="#cb22-105"></a>Nº_TotalEU <span class="ot">&lt;-</span> Nº_TotalEU<span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">A=</span><span class="fu">case_when</span>(animals<span class="sc">==</span><span class="st">"A2000"</span><span class="sc">~</span><span class="st">"Bovino"</span>, animals<span class="sc">==</span><span class="st">"A3100"</span><span class="sc">~</span><span class="st">"Porcino"</span>, animals<span class="sc">==</span><span class="st">"A4100"</span><span class="sc">~</span><span class="st">"Ovino"</span>, animals<span class="sc">==</span><span class="st">"A5000"</span><span class="sc">~</span><span class="st">"Aves de corral"</span>, <span class="at">.default =</span> <span class="st">""</span>))<span class="sc">|&gt;</span> <span class="fu">filter</span>(A<span class="sc">!=</span><span class="st">""</span>)<span class="sc">|&gt;</span> <span class="fu">group_by</span>(Year, geo)<span class="sc">|&gt;</span><span class="fu">mutate</span>(<span class="at">TotalA=</span><span class="fu">sum</span>(values))<span class="sc">|&gt;</span><span class="fu">ungroup</span>()</span>
<span id="cb22-106"><a href="#cb22-106"></a>Nº_TotalEU <span class="ot">&lt;-</span> Nº_TotalEU<span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">Tipo=</span><span class="fu">case_when</span>(geo<span class="sc">%in%</span><span class="fu">c</span>(<span class="st">"EU27_2020"</span>, <span class="st">"EU28"</span>,<span class="st">"EU27_2020"</span>,<span class="st">"EU27_2007"</span>,<span class="st">"EU25"</span>,<span class="st">"EU"</span>,<span class="st">"EU15"</span>)<span class="sc">~</span><span class="st">"UE"</span>, <span class="at">.default =</span> <span class="st">"Pais"</span>))<span class="sc">|&gt;</span> <span class="fu">group_by</span>(A,geo)<span class="sc">|&gt;</span><span class="fu">mutate</span>(<span class="at">N_animal=</span><span class="fu">sum</span>(values))<span class="sc">|&gt;</span><span class="fu">ungroup</span>()</span>
<span id="cb22-107"><a href="#cb22-107"></a></span>
<span id="cb22-108"><a href="#cb22-108"></a><span class="co">#Número de bovinos por número de cabezas en España</span></span>
<span id="cb22-109"><a href="#cb22-109"></a>Nº_BovinosES <span class="ot">&lt;-</span> rio<span class="sc">::</span><span class="fu">import</span>(<span class="st">"./Datos/Nº_TotalES.1.csv"</span>,<span class="at">encoding =</span> <span class="st">"Latin-1"</span>)</span>
<span id="cb22-110"><a href="#cb22-110"></a>Nº_BovinosES <span class="ot">&lt;-</span> Nº_BovinosES<span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">Total=</span> <span class="fu">as.numeric</span>(<span class="fu">gsub</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">."</span>, <span class="st">""</span>, Total)))</span>
<span id="cb22-111"><a href="#cb22-111"></a>Nº_BovinosES <span class="ot">&lt;-</span> Nº_BovinosES<span class="sc">|&gt;</span> tidyr<span class="sc">::</span><span class="fu">separate_wider_delim</span>(<span class="at">col =</span> <span class="st">`</span><span class="at">Especies animales</span><span class="st">`</span>, <span class="at">names =</span> <span class="fu">c</span>(<span class="st">"N"</span>,<span class="st">"Animal"</span>), <span class="at">delim =</span> <span class="st">" "</span>,<span class="at">too_many =</span> <span class="st">"merge"</span>)</span>
<span id="cb22-112"><a href="#cb22-112"></a>Nº_BovinosES <span class="ot">&lt;-</span> Nº_BovinosES<span class="sc">|&gt;</span> tidyr<span class="sc">::</span><span class="fu">separate_wider_delim</span>(<span class="at">col =</span> <span class="st">`</span><span class="at">Comunidades y Ciudades Autónomas</span><span class="st">`</span>, <span class="at">names =</span> <span class="fu">c</span>(<span class="st">"Nº"</span>,<span class="st">"Autonomias"</span>), <span class="at">delim =</span> <span class="st">" "</span>,<span class="at">too_many =</span> <span class="st">"merge"</span>,<span class="at">too_few =</span> <span class="st">"align_start"</span>)<span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">Autonomias=</span><span class="fu">case_when</span>(<span class="fu">is.na</span>(Autonomias)<span class="sc">~</span><span class="st">"Total_Nacional"</span>,<span class="cn">TRUE</span> <span class="sc">~</span> Autonomias))<span class="sc">|&gt;</span> tidyr<span class="sc">::</span><span class="fu">separate_wider_delim</span>(<span class="at">col =</span> Provincias, <span class="at">names =</span> <span class="fu">c</span>(<span class="st">"Nu"</span>,<span class="st">"Provincias"</span>), <span class="at">delim =</span> <span class="st">" "</span>,<span class="at">too_many =</span> <span class="st">"merge"</span>,<span class="at">too_few =</span> <span class="st">"align_start"</span>)</span>
<span id="cb22-113"><a href="#cb22-113"></a>Nº_BovinosES <span class="ot">&lt;-</span> Nº_BovinosES<span class="sc">|&gt;</span> <span class="fu">filter</span>(Animal<span class="sc">==</span><span class="st">"Bovinos"</span>)<span class="sc">|&gt;</span><span class="fu">select</span>(Autonomias, Provincias, Animal, Total)</span>
<span id="cb22-114"><a href="#cb22-114"></a></span>
<span id="cb22-115"><a href="#cb22-115"></a><span class="co">#Número de porcinos por número de cabezas en España</span></span>
<span id="cb22-116"><a href="#cb22-116"></a>Nº_PorcinosES <span class="ot">&lt;-</span> rio<span class="sc">::</span><span class="fu">import</span>(<span class="st">"./Datos/Nº_TotalES.1.csv"</span>,<span class="at">encoding =</span> <span class="st">"Latin-1"</span>)</span>
<span id="cb22-117"><a href="#cb22-117"></a>Nº_PorcinosES <span class="ot">&lt;-</span> Nº_PorcinosES<span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">Total=</span> <span class="fu">as.numeric</span>(<span class="fu">gsub</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">."</span>, <span class="st">""</span>, Total)))</span>
<span id="cb22-118"><a href="#cb22-118"></a>Nº_PorcinosES <span class="ot">&lt;-</span> Nº_PorcinosES<span class="sc">|&gt;</span> tidyr<span class="sc">::</span><span class="fu">separate_wider_delim</span>(<span class="at">col =</span> <span class="st">`</span><span class="at">Especies animales</span><span class="st">`</span>, <span class="at">names =</span> <span class="fu">c</span>(<span class="st">"N"</span>,<span class="st">"Animal"</span>), <span class="at">delim =</span> <span class="st">" "</span>,<span class="at">too_many =</span> <span class="st">"merge"</span>)</span>
<span id="cb22-119"><a href="#cb22-119"></a>Nº_PorcinosES <span class="ot">&lt;-</span> Nº_PorcinosES<span class="sc">|&gt;</span> tidyr<span class="sc">::</span><span class="fu">separate_wider_delim</span>(<span class="at">col =</span> <span class="st">`</span><span class="at">Comunidades y Ciudades Autónomas</span><span class="st">`</span>, <span class="at">names =</span> <span class="fu">c</span>(<span class="st">"Nº"</span>,<span class="st">"Autonomias"</span>), <span class="at">delim =</span> <span class="st">" "</span>,<span class="at">too_many =</span> <span class="st">"merge"</span>,<span class="at">too_few =</span> <span class="st">"align_start"</span>)<span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">Autonomias=</span><span class="fu">case_when</span>(<span class="fu">is.na</span>(Autonomias)<span class="sc">~</span><span class="st">"Total_Nacional"</span>,<span class="cn">TRUE</span> <span class="sc">~</span> Autonomias))<span class="sc">|&gt;</span> tidyr<span class="sc">::</span><span class="fu">separate_wider_delim</span>(<span class="at">col =</span> Provincias, <span class="at">names =</span> <span class="fu">c</span>(<span class="st">"Nu"</span>,<span class="st">"Provincias"</span>), <span class="at">delim =</span> <span class="st">" "</span>,<span class="at">too_many =</span> <span class="st">"merge"</span>,<span class="at">too_few =</span> <span class="st">"align_start"</span>)</span>
<span id="cb22-120"><a href="#cb22-120"></a>Nº_PorcinosES <span class="ot">&lt;-</span> Nº_PorcinosES<span class="sc">|&gt;</span> <span class="fu">filter</span>(Animal<span class="sc">==</span><span class="st">"Porcinos"</span>)<span class="sc">|&gt;</span><span class="fu">select</span>(Autonomias, Provincias, Animal, Total)</span>
<span id="cb22-121"><a href="#cb22-121"></a></span>
<span id="cb22-122"><a href="#cb22-122"></a><span class="co">#Número de ovinos por número de cabezas en España</span></span>
<span id="cb22-123"><a href="#cb22-123"></a>Nº_OvinosES <span class="ot">&lt;-</span> rio<span class="sc">::</span><span class="fu">import</span>(<span class="st">"./Datos/Nº_TotalES.1.csv"</span>,<span class="at">encoding =</span> <span class="st">"Latin-1"</span>)</span>
<span id="cb22-124"><a href="#cb22-124"></a>Nº_OvinosES <span class="ot">&lt;-</span> Nº_OvinosES<span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">Total=</span> <span class="fu">as.numeric</span>(<span class="fu">gsub</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">."</span>, <span class="st">""</span>, Total)))</span>
<span id="cb22-125"><a href="#cb22-125"></a>Nº_OvinosES <span class="ot">&lt;-</span> Nº_OvinosES<span class="sc">|&gt;</span> tidyr<span class="sc">::</span><span class="fu">separate_wider_delim</span>(<span class="at">col =</span> <span class="st">`</span><span class="at">Especies animales</span><span class="st">`</span>, <span class="at">names =</span> <span class="fu">c</span>(<span class="st">"N"</span>,<span class="st">"Animal"</span>), <span class="at">delim =</span> <span class="st">" "</span>,<span class="at">too_many =</span> <span class="st">"merge"</span>)</span>
<span id="cb22-126"><a href="#cb22-126"></a>Nº_OvinosES <span class="ot">&lt;-</span> Nº_OvinosES<span class="sc">|&gt;</span> tidyr<span class="sc">::</span><span class="fu">separate_wider_delim</span>(<span class="at">col =</span> <span class="st">`</span><span class="at">Comunidades y Ciudades Autónomas</span><span class="st">`</span>, <span class="at">names =</span> <span class="fu">c</span>(<span class="st">"Nº"</span>,<span class="st">"Autonomias"</span>), <span class="at">delim =</span> <span class="st">" "</span>,<span class="at">too_many =</span> <span class="st">"merge"</span>,<span class="at">too_few =</span> <span class="st">"align_start"</span>)<span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">Autonomias=</span><span class="fu">case_when</span>(<span class="fu">is.na</span>(Autonomias)<span class="sc">~</span><span class="st">"Total_Nacional"</span>,<span class="cn">TRUE</span> <span class="sc">~</span> Autonomias))<span class="sc">|&gt;</span> tidyr<span class="sc">::</span><span class="fu">separate_wider_delim</span>(<span class="at">col =</span> Provincias, <span class="at">names =</span> <span class="fu">c</span>(<span class="st">"Nu"</span>,<span class="st">"Provincias"</span>), <span class="at">delim =</span> <span class="st">" "</span>,<span class="at">too_many =</span> <span class="st">"merge"</span>,<span class="at">too_few =</span> <span class="st">"align_start"</span>)</span>
<span id="cb22-127"><a href="#cb22-127"></a>Nº_OvinosES <span class="ot">&lt;-</span> Nº_OvinosES<span class="sc">|&gt;</span> <span class="fu">filter</span>(Animal<span class="sc">==</span><span class="st">"Ovinos"</span>)<span class="sc">|&gt;</span><span class="fu">select</span>(Autonomias, Provincias, Animal, Total)</span>
<span id="cb22-128"><a href="#cb22-128"></a></span>
<span id="cb22-129"><a href="#cb22-129"></a><span class="co">#Número de aves de coral por número de cabezas en España</span></span>
<span id="cb22-130"><a href="#cb22-130"></a>Nº_AvedeCoralES <span class="ot">&lt;-</span> rio<span class="sc">::</span><span class="fu">import</span>(<span class="st">"./Datos/Nº_TotalES.1.csv"</span>,<span class="at">encoding =</span> <span class="st">"Latin-1"</span>)</span>
<span id="cb22-131"><a href="#cb22-131"></a>Nº_AvedeCoralES <span class="ot">&lt;-</span> Nº_AvedeCoralES<span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">Total=</span> <span class="fu">as.numeric</span>(<span class="fu">gsub</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">."</span>, <span class="st">""</span>, Total)))</span>
<span id="cb22-132"><a href="#cb22-132"></a>Nº_AvedeCoralES <span class="ot">&lt;-</span> Nº_AvedeCoralES<span class="sc">|&gt;</span> tidyr<span class="sc">::</span><span class="fu">separate_wider_delim</span>(<span class="at">col =</span> <span class="st">`</span><span class="at">Especies animales</span><span class="st">`</span>, <span class="at">names =</span> <span class="fu">c</span>(<span class="st">"N"</span>,<span class="st">"Animal"</span>), <span class="at">delim =</span> <span class="st">" "</span>,<span class="at">too_many =</span> <span class="st">"merge"</span>)</span>
<span id="cb22-133"><a href="#cb22-133"></a>Nº_AvedeCoralES <span class="ot">&lt;-</span> Nº_AvedeCoralES<span class="sc">|&gt;</span> tidyr<span class="sc">::</span><span class="fu">separate_wider_delim</span>(<span class="at">col =</span> <span class="st">`</span><span class="at">Comunidades y Ciudades Autónomas</span><span class="st">`</span>, <span class="at">names =</span> <span class="fu">c</span>(<span class="st">"Nº"</span>,<span class="st">"Autonomias"</span>), <span class="at">delim =</span> <span class="st">" "</span>,<span class="at">too_many =</span> <span class="st">"merge"</span>,<span class="at">too_few =</span> <span class="st">"align_start"</span>)<span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">Autonomias=</span><span class="fu">case_when</span>(<span class="fu">is.na</span>(Autonomias)<span class="sc">~</span><span class="st">"Total_Nacional"</span>,<span class="cn">TRUE</span> <span class="sc">~</span> Autonomias))<span class="sc">|&gt;</span> tidyr<span class="sc">::</span><span class="fu">separate_wider_delim</span>(<span class="at">col =</span> Provincias, <span class="at">names =</span> <span class="fu">c</span>(<span class="st">"Nu"</span>,<span class="st">"Provincias"</span>), <span class="at">delim =</span> <span class="st">" "</span>,<span class="at">too_many =</span> <span class="st">"merge"</span>,<span class="at">too_few =</span> <span class="st">"align_start"</span>)</span>
<span id="cb22-134"><a href="#cb22-134"></a>Nº_AvedeCoralES <span class="ot">&lt;-</span> Nº_AvedeCoralES<span class="sc">|&gt;</span> <span class="fu">filter</span>(Animal<span class="sc">==</span><span class="st">"Aves de corral"</span>)<span class="sc">|&gt;</span><span class="fu">select</span>(Autonomias, Provincias, Animal, Total)</span>
<span id="cb22-135"><a href="#cb22-135"></a></span>
<span id="cb22-136"><a href="#cb22-136"></a><span class="co">#Número total de animales de granja en España</span></span>
<span id="cb22-137"><a href="#cb22-137"></a>Nº_TotalES <span class="ot">&lt;-</span> rio<span class="sc">::</span><span class="fu">import</span>(<span class="st">"./Datos/Nº_TotalES.1.csv"</span>,<span class="at">encoding =</span> <span class="st">"Latin-1"</span>)</span>
<span id="cb22-138"><a href="#cb22-138"></a>Nº_TotalES <span class="ot">&lt;-</span> Nº_TotalES<span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">Total=</span> <span class="fu">as.numeric</span>(<span class="fu">gsub</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">."</span>, <span class="st">""</span>, Total)))</span>
<span id="cb22-139"><a href="#cb22-139"></a>Nº_TotalES <span class="ot">&lt;-</span> Nº_TotalES<span class="sc">|&gt;</span> tidyr<span class="sc">::</span><span class="fu">separate_wider_delim</span>(<span class="at">col =</span> <span class="st">`</span><span class="at">Especies animales</span><span class="st">`</span>, <span class="at">names =</span> <span class="fu">c</span>(<span class="st">"N"</span>,<span class="st">"Animal"</span>), <span class="at">delim =</span> <span class="st">" "</span>,<span class="at">too_many =</span> <span class="st">"merge"</span>)</span>
<span id="cb22-140"><a href="#cb22-140"></a>Nº_TotalES <span class="ot">&lt;-</span> Nº_TotalES<span class="sc">|&gt;</span> tidyr<span class="sc">::</span><span class="fu">separate_wider_delim</span>(<span class="at">col =</span> <span class="st">`</span><span class="at">Comunidades y Ciudades Autónomas</span><span class="st">`</span>, <span class="at">names =</span> <span class="fu">c</span>(<span class="st">"Nº"</span>,<span class="st">"Autonomias"</span>), <span class="at">delim =</span> <span class="st">" "</span>,<span class="at">too_many =</span> <span class="st">"merge"</span>,<span class="at">too_few =</span> <span class="st">"align_start"</span>)<span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">Autonomias=</span><span class="fu">case_when</span>(<span class="fu">is.na</span>(Autonomias)<span class="sc">~</span><span class="st">"Total_Nacional"</span>,<span class="cn">TRUE</span> <span class="sc">~</span> Autonomias))<span class="sc">|&gt;</span> tidyr<span class="sc">::</span><span class="fu">separate_wider_delim</span>(<span class="at">col =</span> Provincias, <span class="at">names =</span> <span class="fu">c</span>(<span class="st">"Nu"</span>,<span class="st">"Provincias"</span>), <span class="at">delim =</span> <span class="st">" "</span>,<span class="at">too_many =</span> <span class="st">"merge"</span>,<span class="at">too_few =</span> <span class="st">"align_start"</span>)</span>
<span id="cb22-141"><a href="#cb22-141"></a>Nº_TotalES <span class="ot">&lt;-</span> Nº_TotalES<span class="sc">|&gt;</span><span class="fu">select</span>(Autonomias, Provincias, Animal, Total)</span>
<span id="cb22-142"><a href="#cb22-142"></a><span class="in">```</span></span>
<span id="cb22-143"><a href="#cb22-143"></a></span>
<span id="cb22-144"><a href="#cb22-144"></a>:::</span>
<span id="cb22-145"><a href="#cb22-145"></a></span>
<span id="cb22-146"><a href="#cb22-146"></a>---</span>
<span id="cb22-147"><a href="#cb22-147"></a></span>
<span id="cb22-148"><a href="#cb22-148"></a><span class="fu"># 3. La poblacion de las granjas europeas</span></span>
<span id="cb22-149"><a href="#cb22-149"></a></span>
<span id="cb22-150"><a href="#cb22-150"></a>Europa históricamente fue una región que dependía en gran medida de la ganadería, ya que una parte importante de su territorio presentaba suelos poco fértiles para la agricultura. Esto derivó en que muchos de los pueblos que la habitaban se dedicaran principalmente a la cría de animales como medio de subsistencia.</span>
<span id="cb22-151"><a href="#cb22-151"></a></span>
<span id="cb22-152"><a href="#cb22-152"></a>En la actualidad, las mejoras en las técnicas de cultivo y la integración en el mercado internacional han provocado un cambio significativo en la forma de vida y en la estructura productiva europea, lo que ha dado lugar a una disminución del número de personas dedicadas a la actividad ganadera. Este proceso ha contribuido a una reducción de la población de animales de granja mamíferos, cuya cría requiere mayores costes y mano de obra, en contraste con el sector de las aves de corral, que ha experimentado un crecimiento.</span>
<span id="cb22-153"><a href="#cb22-153"></a></span>
<span id="cb22-154"><a href="#cb22-154"></a>En las gráficas se puede apreciar que la población de animales de granja en general muestra una tendencia negativa desde el año 2001, con la excepción de las aves de corral, cuya población ha aumentado, reflejando la transformación y el descenso progresivo del sector ganadero tradicional en los últimos años.</span>
<span id="cb22-155"><a href="#cb22-155"></a></span>
<span id="cb22-156"><a href="#cb22-156"></a>::::: columns</span>
<span id="cb22-157"><a href="#cb22-157"></a>::: {.column width="50%"}</span>
<span id="cb22-160"><a href="#cb22-160"></a><span class="in">```{r}</span></span>
<span id="cb22-161"><a href="#cb22-161"></a><span class="co">#| warning: false</span></span>
<span id="cb22-162"><a href="#cb22-162"></a><span class="co">#| code-fold: true</span></span>
<span id="cb22-163"><a href="#cb22-163"></a>Nº_TotalEU1 <span class="ot">&lt;-</span> Nº_TotalEU<span class="sc">|&gt;</span> <span class="fu">filter</span>(A<span class="sc">!=</span><span class="st">"Aves de corral"</span>, Year<span class="sc">&gt;=</span><span class="st">"2000"</span>, Year<span class="sc">&lt;=</span><span class="st">"2024"</span>)<span class="sc">|&gt;</span> <span class="fu">group_by</span>(Year,geo)<span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">TotalA1=</span><span class="fu">sum</span>(values))<span class="sc">|&gt;</span><span class="fu">ungroup</span>()</span>
<span id="cb22-164"><a href="#cb22-164"></a>Datos_P.UE <span class="ot">&lt;-</span> Nº_TotalEU1<span class="sc">|&gt;</span> <span class="fu">filter</span>(Tipo<span class="sc">==</span><span class="st">"Pais"</span>)<span class="sc">|&gt;</span> <span class="fu">select</span>(geo,Year,A,TotalA1)</span>
<span id="cb22-165"><a href="#cb22-165"></a>Datos_EU27_2020 <span class="ot">&lt;-</span> Nº_TotalEU1<span class="sc">|&gt;</span> <span class="fu">filter</span>(geo<span class="sc">==</span><span class="st">"EU27_2020"</span>)<span class="sc">|&gt;</span> <span class="fu">select</span>(geo,Year,A,TotalA1, values)</span>
<span id="cb22-166"><a href="#cb22-166"></a></span>
<span id="cb22-167"><a href="#cb22-167"></a></span>
<span id="cb22-168"><a href="#cb22-168"></a><span class="fu">ggplot</span>(Datos_P.UE,<span class="fu">aes</span>(<span class="at">x=</span> Year, <span class="at">y=</span> TotalA1, <span class="at">group=</span>geo)) <span class="sc">+</span><span class="fu">geom_line</span>(<span class="at">color=</span><span class="st">"gray"</span>)<span class="sc">+</span> <span class="fu">geom_line</span>(<span class="at">data=</span>Datos_EU27_2020, <span class="fu">aes</span>(<span class="at">x=</span>Year, <span class="at">y=</span>TotalA1, <span class="at">colour =</span> <span class="st">"EU27_2020"</span>))<span class="sc">+</span> <span class="fu">scale_colour_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"EU27_2020"</span> <span class="ot">=</span> <span class="st">"blue3"</span>),<span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Unión Europea"</span>)) <span class="sc">+</span> <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> <span class="fu">label_comma</span>(<span class="at">accuracy =</span> <span class="dv">1</span>))<span class="sc">+</span><span class="fu">theme_bw</span>()<span class="sc">+</span> <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">49</span>, <span class="at">vjust =</span> <span class="dv">1</span>, <span class="at">hjust =</span> <span class="dv">1</span>), <span class="at">plot.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">"lightyellow"</span>), <span class="at">plot.caption =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="dv">0</span>, <span class="at">face =</span> <span class="st">"italic"</span>, <span class="at">size =</span> <span class="dv">6</span>),<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>))<span class="sc">+</span><span class="fu">labs</span>(<span class="at">title=</span><span class="st">"Evolución de la población de animales de granja </span><span class="sc">\n</span><span class="st">en Europa (2000-2024)"</span>, <span class="at">x=</span><span class="st">"Años"</span>,<span class="at">y=</span><span class="st">"Miles de cabezas"</span>, <span class="at">colour=</span><span class="st">"Región"</span>, <span class="at">caption =</span> <span class="st">"*En esta gráfica solo se incluyen los mamíferos, ya que los datos correspondientes a las aves de corral </span><span class="sc">\n</span><span class="st">no eran consistentes a lo largo del tiempo."</span>, <span class="at">subtitle =</span> <span class="st">"Datos correspondientes exclusivamente a mamíferos"</span>)</span>
<span id="cb22-169"><a href="#cb22-169"></a></span>
<span id="cb22-170"><a href="#cb22-170"></a><span class="in">```</span></span>
<span id="cb22-171"><a href="#cb22-171"></a>:::</span>
<span id="cb22-172"><a href="#cb22-172"></a></span>
<span id="cb22-173"><a href="#cb22-173"></a>::: {.column width="50%"}</span>
<span id="cb22-176"><a href="#cb22-176"></a><span class="in">```{r}</span></span>
<span id="cb22-177"><a href="#cb22-177"></a><span class="co">#| warning: false</span></span>
<span id="cb22-178"><a href="#cb22-178"></a><span class="co">#| code-fold: true</span></span>
<span id="cb22-179"><a href="#cb22-179"></a>Nº_TotalEU<span class="sc">|&gt;</span> <span class="fu">filter</span>(geo<span class="sc">==</span><span class="st">"EU27_2020"</span>)<span class="sc">|&gt;</span> <span class="fu">select</span>(geo,Year,A, values)<span class="sc">|&gt;</span> <span class="fu">filter</span>(Year<span class="sc">&gt;=</span><span class="st">"2007"</span>,Year<span class="sc">&lt;=</span><span class="st">"2020"</span>)<span class="sc">|&gt;</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>Year, <span class="at">y=</span>values, <span class="at">fill=</span> <span class="fu">reorder</span>(A, <span class="sc">-</span>values), <span class="at">group=</span><span class="fu">reorder</span>(A, <span class="sc">-</span>values)))<span class="sc">+</span><span class="fu">geom_area</span>()<span class="sc">+</span> <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">49</span>, <span class="at">vjust =</span> <span class="dv">1</span>, <span class="at">hjust =</span> <span class="dv">1</span>))<span class="sc">+</span> <span class="fu">labs</span>(<span class="at">title=</span><span class="st">"Evolución de la población de animales de granja </span><span class="sc">\n</span><span class="st">en Europa (2007-2020)"</span>, <span class="at">fill=</span><span class="st">"Animales"</span>, <span class="at">x=</span><span class="st">"Años"</span>,<span class="at">y=</span><span class="st">"Miles de cabezas"</span>)<span class="sc">+</span> <span class="fu">theme_bw</span>()<span class="sc">+</span> <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">49</span>, <span class="at">vjust =</span> <span class="dv">1</span>, <span class="at">hjust =</span> <span class="dv">1</span>), <span class="at">plot.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">"lightyellow"</span>), <span class="at">plot.caption =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="dv">0</span>, <span class="at">face =</span> <span class="st">"italic"</span>, <span class="at">size =</span> <span class="dv">6</span>),<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>))</span>
<span id="cb22-180"><a href="#cb22-180"></a><span class="in">```</span></span>
<span id="cb22-181"><a href="#cb22-181"></a>:::</span>
<span id="cb22-182"><a href="#cb22-182"></a></span>
<span id="cb22-185"><a href="#cb22-185"></a><span class="in">```{r}</span></span>
<span id="cb22-186"><a href="#cb22-186"></a><span class="co">#| warning: false</span></span>
<span id="cb22-187"><a href="#cb22-187"></a><span class="co">#| code-fold: true</span></span>
<span id="cb22-188"><a href="#cb22-188"></a><span class="co">#| fig-width: 35</span></span>
<span id="cb22-189"><a href="#cb22-189"></a><span class="co">#| fig-height: 12</span></span>
<span id="cb22-190"><a href="#cb22-190"></a></span>
<span id="cb22-191"><a href="#cb22-191"></a>Datos_EU27_2020 <span class="ot">&lt;-</span> Datos_EU27_2020<span class="sc">|&gt;</span> <span class="fu">filter</span>(Year<span class="sc">&gt;=</span><span class="st">"2001"</span>)</span>
<span id="cb22-192"><a href="#cb22-192"></a><span class="fu">ggplot</span>(<span class="at">data=</span>Datos_EU27_2020, <span class="fu">aes</span>(<span class="at">x=</span>Year, <span class="at">y=</span>values, <span class="at">fill=</span> <span class="fu">reorder</span>(A, <span class="sc">-</span>values), <span class="at">group=</span><span class="fu">reorder</span>(A, <span class="sc">-</span>values))) <span class="sc">+</span><span class="fu">geom_area</span>()<span class="sc">+</span> <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> <span class="fu">label_comma</span>(<span class="at">accuracy =</span> <span class="dv">1</span>))<span class="sc">+</span><span class="fu">theme_bw</span>()<span class="sc">+</span> <span class="fu">theme</span>( <span class="at">plot.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">"lightyellow"</span>),<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">size=</span><span class="dv">30</span>))<span class="sc">+</span><span class="fu">labs</span>(<span class="at">title=</span><span class="st">"Evolución de la población de animales de granja desgrosado por tipo de animal </span><span class="sc">\n</span><span class="st">en Europa (2001-2024)"</span>, <span class="at">x=</span><span class="st">"Años"</span>,<span class="at">y=</span><span class="st">"Miles de cabezas"</span>, <span class="at">colour=</span><span class="st">"Tipo de animal"</span>, <span class="at">fill=</span><span class="st">"Tipo de animal"</span>)<span class="sc">+</span></span>
<span id="cb22-193"><a href="#cb22-193"></a></span>
<span id="cb22-194"><a href="#cb22-194"></a></span>
<span id="cb22-195"><a href="#cb22-195"></a><span class="fu">ggplot</span>(Datos_EU27_2020, <span class="fu">aes</span>(<span class="at">x=</span>Year, <span class="at">y=</span>values, <span class="at">fill=</span> <span class="fu">reorder</span>(A, <span class="sc">-</span>values), <span class="at">group=</span><span class="fu">reorder</span>(A, <span class="sc">-</span>values)))<span class="sc">+</span> <span class="fu">geom_col</span>(<span class="at">position =</span> <span class="st">"dodge"</span>,<span class="at">alpha =</span> <span class="fl">0.6</span>)<span class="sc">+</span><span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">colour =</span> <span class="fu">reorder</span>(A, <span class="sc">-</span>values), <span class="at">group=</span><span class="fu">reorder</span>(A, <span class="sc">-</span>values)), <span class="at">size=</span><span class="dv">1</span> )<span class="sc">+</span><span class="fu">geom_point</span>(<span class="at">color=</span><span class="st">"gray57"</span>, <span class="at">size =</span> <span class="dv">2</span>)<span class="sc">+</span> <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> <span class="fu">label_comma</span>(<span class="at">accuracy =</span> <span class="dv">1</span>))<span class="sc">+</span><span class="fu">theme_bw</span>()<span class="sc">+</span> <span class="fu">theme</span>(<span class="at">plot.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">"lightyellow"</span>),<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">size=</span><span class="dv">30</span>))<span class="sc">+</span><span class="fu">labs</span>(<span class="at">title=</span><span class="st">"Evolución de la población de animales de granja desgrosado por tipo de animal </span><span class="sc">\n</span><span class="st">en Europa (2001-2024)"</span>, <span class="at">x=</span><span class="st">"Años"</span>,<span class="at">y=</span><span class="st">"Miles de cabezas"</span>, <span class="at">colour=</span><span class="st">"Tendencia"</span>, <span class="at">fill=</span><span class="st">"Tipo de animal"</span>)</span>
<span id="cb22-196"><a href="#cb22-196"></a><span class="in">```</span></span>
<span id="cb22-197"><a href="#cb22-197"></a></span>
<span id="cb22-198"><a href="#cb22-198"></a></span>
<span id="cb22-199"><a href="#cb22-199"></a><span class="fu">## 3.1. Distribucion por país</span></span>
<span id="cb22-200"><a href="#cb22-200"></a></span>
<span id="cb22-203"><a href="#cb22-203"></a><span class="in">```{r}</span></span>
<span id="cb22-204"><a href="#cb22-204"></a><span class="co">#| warning: false</span></span>
<span id="cb22-205"><a href="#cb22-205"></a><span class="co">#| code-fold: true</span></span>
<span id="cb22-206"><a href="#cb22-206"></a><span class="co">#| fig-width: 10</span></span>
<span id="cb22-207"><a href="#cb22-207"></a><span class="co">#| fig-height: 5</span></span>
<span id="cb22-208"><a href="#cb22-208"></a>Datos_mapaUE <span class="ot">&lt;-</span> Nº_TotalEU<span class="sc">|&gt;</span> <span class="fu">filter</span>(Tipo<span class="sc">==</span><span class="st">"Pais"</span>, Year<span class="sc">==</span><span class="st">"2020"</span>)<span class="sc">|&gt;</span> <span class="fu">select</span>(geo,Year,A,TotalA)</span>
<span id="cb22-209"><a href="#cb22-209"></a>Datos_mapaUE1 <span class="ot">&lt;-</span> Datos_mapaUE<span class="sc">|&gt;</span> <span class="fu">filter</span>(A<span class="sc">==</span><span class="st">"Bovino"</span>)</span>
<span id="cb22-210"><a href="#cb22-210"></a>mapa_ue <span class="ot">&lt;-</span> <span class="fu">get_eurostat_geospatial</span>(<span class="at">resolution =</span> <span class="st">"20"</span>,<span class="at">nuts_level =</span> <span class="st">"0"</span>, <span class="at">year =</span> <span class="dv">2021</span>)</span>
<span id="cb22-211"><a href="#cb22-211"></a>mapaUE1<span class="ot">&lt;-</span> mapa_ue<span class="sc">|&gt;</span> <span class="fu">inner_join</span>(Datos_mapaUE1, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"id"</span> <span class="ot">=</span> <span class="st">"geo"</span>))</span>
<span id="cb22-212"><a href="#cb22-212"></a></span>
<span id="cb22-213"><a href="#cb22-213"></a>M1 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(mapaUE1) <span class="sc">+</span> <span class="fu">geom_sf</span>(<span class="fu">aes</span>(<span class="at">fill =</span> TotalA), <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">linewidth =</span> <span class="fl">0.1</span>) <span class="sc">+</span> <span class="fu">coord_sf</span>(<span class="at">crs =</span> <span class="dv">3035</span>, <span class="at">xlim =</span> <span class="fu">c</span>(<span class="dv">2500000</span>, <span class="dv">6500000</span>), <span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">1500000</span>, <span class="dv">5200000</span>)) <span class="sc">+</span> <span class="fu">scale_fill_continuous</span>(<span class="at">low=</span><span class="st">"ivory"</span>, <span class="at">high=</span><span class="st">"darkgreen"</span>,<span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">label_comma</span>(<span class="at">big.mark =</span> <span class="st">"."</span>), <span class="at">guide =</span> <span class="fu">guide_colorbar</span>(<span class="at">frame.colour =</span> <span class="st">"black"</span>, <span class="at">ticks.colour =</span> <span class="st">"gray57"</span>)) <span class="sc">+</span> <span class="fu">theme_void</span>() <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Censo ganadero por país (2020)"</span>, <span class="at">fill=</span><span class="st">"Miles de cabezas"</span>) <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">size =</span> <span class="dv">11</span>))  </span>
<span id="cb22-214"><a href="#cb22-214"></a></span>
<span id="cb22-215"><a href="#cb22-215"></a>Datos_mapaUE2 <span class="ot">&lt;-</span> Datos_P.UE<span class="sc">|&gt;</span> <span class="fu">filter</span>(Year<span class="sc">==</span><span class="st">"2020"</span>)</span>
<span id="cb22-216"><a href="#cb22-216"></a>mapaUE2<span class="ot">&lt;-</span> mapa_ue<span class="sc">|&gt;</span> <span class="fu">inner_join</span>(Datos_mapaUE2, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"id"</span> <span class="ot">=</span> <span class="st">"geo"</span>))</span>
<span id="cb22-217"><a href="#cb22-217"></a></span>
<span id="cb22-218"><a href="#cb22-218"></a>M2 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(mapaUE2) <span class="sc">+</span> <span class="fu">geom_sf</span>(<span class="fu">aes</span>(<span class="at">fill =</span> TotalA1), <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">linewidth =</span> <span class="fl">0.1</span>) <span class="sc">+</span> <span class="fu">coord_sf</span>(<span class="at">crs =</span> <span class="dv">3035</span>, <span class="at">xlim =</span> <span class="fu">c</span>(<span class="dv">2500000</span>, <span class="dv">6500000</span>), <span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">1500000</span>, <span class="dv">5200000</span>)) <span class="sc">+</span> <span class="fu">scale_fill_continuous</span>(<span class="at">low=</span><span class="st">"ivory"</span>, <span class="at">high=</span><span class="st">"darkgreen"</span>, <span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">label_comma</span>(<span class="at">big.mark =</span> <span class="st">"."</span>), <span class="at">guide=</span> <span class="fu">guide_colorbar</span>(<span class="at">frame.colour =</span> <span class="st">"black"</span>, <span class="at">ticks.colour =</span> <span class="st">"gray57"</span>)) <span class="sc">+</span> <span class="fu">theme_void</span>() <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Censo ganadero de animales mamíferos </span><span class="sc">\n</span><span class="st">por país (2020)"</span>, <span class="at">fill=</span><span class="st">"Miles de cabezas"</span>) <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">size =</span> <span class="dv">11</span>))</span>
<span id="cb22-219"><a href="#cb22-219"></a></span>
<span id="cb22-220"><a href="#cb22-220"></a>M1<span class="sc">+</span>M2</span>
<span id="cb22-221"><a href="#cb22-221"></a><span class="in">```</span></span>
<span id="cb22-222"><a href="#cb22-222"></a></span>
<span id="cb22-223"><a href="#cb22-223"></a>La población de animales de granja en Europa se concentra principalmente en Francia, seguida de España, Polonia y Alemania. No obstante, al considerar únicamente a los mamíferos, España destaca como el país con mayor número de animales de granja, debido a su liderazgo en la industria porcina y ovina y su gran relevancia en la bovina en el contienente europeo, lo que la sitúa entre los países con mayor peso ganadero dentro de la Unión Europea, como se puede apreciar en los mapas.</span>
<span id="cb22-224"><a href="#cb22-224"></a></span>
<span id="cb22-225"><a href="#cb22-225"></a><span class="fu"># 4. Distribución de las especies de animales</span></span>
<span id="cb22-226"><a href="#cb22-226"></a></span>
<span id="cb22-227"><a href="#cb22-227"></a>La especie de animal de granja con mayor número de población son las aves de corral con un 51%, seguidas por los porcinos con un 24%, los bovinos con un 13% y los ovinos con un 11%. Esta distribución se debe, en gran medida, al espacio necesario para su cría.</span>
<span id="cb22-228"><a href="#cb22-228"></a>Las aves de corral y los cerdos requieren menos espacio por individuo, lo que permite una producción más intensiva. En cambio, los bovinos y ovinos necesitan amplias zonas de pastoreo, lo que limita su número. Por este motivo, las aves de corral constituyen el grupo más numeroso, seguidas por el ganado porcino.</span>
<span id="cb22-229"><a href="#cb22-229"></a></span>
<span id="cb22-232"><a href="#cb22-232"></a><span class="in">```{r}</span></span>
<span id="cb22-233"><a href="#cb22-233"></a><span class="co">#| warning: false</span></span>
<span id="cb22-234"><a href="#cb22-234"></a><span class="co">#| code-fold: true</span></span>
<span id="cb22-235"><a href="#cb22-235"></a><span class="co">#| fig-width: 3 </span></span>
<span id="cb22-236"><a href="#cb22-236"></a><span class="co">#| fig-height: 2 </span></span>
<span id="cb22-237"><a href="#cb22-237"></a>Rosca <span class="ot">&lt;-</span> Nº_TotalEU<span class="sc">|&gt;</span><span class="fu">filter</span>(geo<span class="sc">==</span><span class="st">"EU27_2020"</span>, Year<span class="sc">==</span><span class="st">"2020"</span>)<span class="sc">|&gt;</span> <span class="fu">select</span>(A,Year, N_animal)<span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">Suma=</span><span class="fu">sum</span>(N_animal))<span class="sc">|&gt;</span><span class="fu">mutate</span>(<span class="at">Porcentaje=</span>N_animal<span class="sc">/</span>Suma<span class="sc">*</span><span class="dv">100</span>)</span>
<span id="cb22-238"><a href="#cb22-238"></a></span>
<span id="cb22-239"><a href="#cb22-239"></a><span class="fu">hchart</span>(Rosca, <span class="st">"pie"</span>, <span class="fu">hcaes</span>(<span class="at">x =</span> A, <span class="at">y =</span> N_animal))<span class="sc">|&gt;</span><span class="fu">hc_plotOptions</span>(<span class="at">pie =</span> <span class="fu">list</span>(<span class="at">dataLabels =</span> <span class="fu">list</span>( <span class="at">enabled =</span> <span class="cn">TRUE</span>, <span class="at">format =</span> <span class="st">"{point.name}: {point.percentage:.0f}%"</span>)))<span class="sc">|&gt;</span><span class="fu">hc_title</span>(<span class="at">text =</span> <span class="st">"Distribución porcentual de los animales de granja en la UE (2020)"</span>)<span class="sc">|&gt;</span> <span class="fu">hc_chart</span>(<span class="at">backgroundColor =</span> <span class="st">"#f0f0f0"</span>)</span>
<span id="cb22-240"><a href="#cb22-240"></a></span>
<span id="cb22-241"><a href="#cb22-241"></a><span class="in">```</span></span>
<span id="cb22-242"><a href="#cb22-242"></a></span>
<span id="cb22-243"><a href="#cb22-243"></a><span class="fu">## 4.1. Animales de granja más común en cada país europeo</span></span>
<span id="cb22-244"><a href="#cb22-244"></a></span>
<span id="cb22-245"><a href="#cb22-245"></a>El animal de granja más común en la mayoría de los países de Europa son las aves de corral, lo que corrobora lo señalado anteriormente. Si se excluyen las aves de corral, los cerdos se convierten en los animales de granja más frecuentes.</span>
<span id="cb22-248"><a href="#cb22-248"></a><span class="in">```{r}</span></span>
<span id="cb22-249"><a href="#cb22-249"></a><span class="co">#| warning: false</span></span>
<span id="cb22-250"><a href="#cb22-250"></a><span class="co">#| code-fold: true</span></span>
<span id="cb22-251"><a href="#cb22-251"></a><span class="co">#| fig-width: 10</span></span>
<span id="cb22-252"><a href="#cb22-252"></a><span class="co">#| fig-height: 5</span></span>
<span id="cb22-253"><a href="#cb22-253"></a>Datos_mapaUE3 <span class="ot">&lt;-</span> Nº_TotalEU<span class="sc">|&gt;</span> <span class="fu">filter</span>(Year<span class="sc">==</span><span class="st">"2020"</span>,Tipo<span class="sc">==</span><span class="st">"Pais"</span>)<span class="sc">|&gt;</span> <span class="fu">group_by</span>(geo)<span class="sc">|&gt;</span> <span class="fu">slice_max</span>(values, <span class="at">n =</span> <span class="dv">1</span>)</span>
<span id="cb22-254"><a href="#cb22-254"></a>mapaUE3 <span class="ot">&lt;-</span> mapa_ue<span class="sc">|&gt;</span> <span class="fu">inner_join</span>(Datos_mapaUE3, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"id"</span><span class="ot">=</span><span class="st">"geo"</span>))</span>
<span id="cb22-255"><a href="#cb22-255"></a></span>
<span id="cb22-256"><a href="#cb22-256"></a>M3 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(mapaUE3) <span class="sc">+</span> <span class="fu">geom_sf</span>(<span class="fu">aes</span>(<span class="at">fill =</span> A), <span class="at">color =</span> <span class="st">"white"</span>, <span class="at">linewidth =</span> <span class="fl">0.1</span>) <span class="sc">+</span> <span class="fu">coord_sf</span>(<span class="at">crs =</span> <span class="dv">3035</span>, <span class="at">xlim =</span> <span class="fu">c</span>(<span class="dv">2500000</span>, <span class="dv">6500000</span>), <span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">1500000</span>, <span class="dv">5200000</span>)) <span class="sc">+</span> <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Ovino"</span> <span class="ot">=</span> <span class="st">"chartreuse"</span>,<span class="st">"Bovino"</span> <span class="ot">=</span><span class="st">"#30123b"</span>,<span class="st">"Porcino"</span><span class="ot">=</span><span class="st">"red4"</span>, <span class="st">"Aves de corral"</span><span class="ot">=</span><span class="st">"skyblue4"</span>))<span class="sc">+</span> <span class="fu">theme_void</span>() <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Animal de granja más numeroso por país (2020)"</span>, <span class="at">fill=</span><span class="st">"Especie Mayoritaria"</span>) <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">size =</span> <span class="dv">11</span>))</span>
<span id="cb22-257"><a href="#cb22-257"></a></span>
<span id="cb22-258"><a href="#cb22-258"></a>Datos_mapaUE4 <span class="ot">&lt;-</span> Nº_TotalEU1<span class="sc">|&gt;</span> <span class="fu">filter</span>(Year<span class="sc">==</span><span class="st">"2020"</span>,Tipo<span class="sc">==</span><span class="st">"Pais"</span>)<span class="sc">|&gt;</span> <span class="fu">group_by</span>(geo)<span class="sc">|&gt;</span> <span class="fu">slice_max</span>(values, <span class="at">n =</span> <span class="dv">1</span>)</span>
<span id="cb22-259"><a href="#cb22-259"></a>mapaUE4 <span class="ot">&lt;-</span> mapa_ue<span class="sc">|&gt;</span> <span class="fu">inner_join</span>(Datos_mapaUE4, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"id"</span><span class="ot">=</span><span class="st">"geo"</span>))</span>
<span id="cb22-260"><a href="#cb22-260"></a></span>
<span id="cb22-261"><a href="#cb22-261"></a>M4 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(mapaUE4) <span class="sc">+</span> <span class="fu">geom_sf</span>(<span class="fu">aes</span>(<span class="at">fill =</span> A), <span class="at">color =</span> <span class="st">"white"</span>, <span class="at">linewidth =</span> <span class="fl">0.1</span>) <span class="sc">+</span> <span class="fu">coord_sf</span>(<span class="at">crs =</span> <span class="dv">3035</span>, <span class="at">xlim =</span> <span class="fu">c</span>(<span class="dv">2500000</span>, <span class="dv">6500000</span>), <span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">1500000</span>, <span class="dv">5200000</span>)) <span class="sc">+</span> <span class="fu">scale_fill_viridis_d</span>(<span class="at">option =</span> <span class="st">"turbo"</span>, <span class="at">name =</span> <span class="st">"Especie Mayoritaria"</span>) <span class="sc">+</span> <span class="fu">theme_void</span>() <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Animal mamifero de granja más numeroso por país (2020)"</span>) <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">size =</span> <span class="dv">11</span>))</span>
<span id="cb22-262"><a href="#cb22-262"></a></span>
<span id="cb22-263"><a href="#cb22-263"></a>M3<span class="sc">+</span>M4</span>
<span id="cb22-264"><a href="#cb22-264"></a><span class="in">```</span></span>
<span id="cb22-265"><a href="#cb22-265"></a></span>
<span id="cb22-266"><a href="#cb22-266"></a><span class="fu">## 4.2. Concentración de aves de corral por país</span></span>
<span id="cb22-267"><a href="#cb22-267"></a></span>
<span id="cb22-268"><a href="#cb22-268"></a>La población de aves de corral en Europa se concentra principalmente en Francia, que ocupa la primera posición en este sector, seguida de Polonia y España. Esta distribución responde a la importancia del sector avícola en estos países, así como a la existencia de modelos productivos altamente especializados y tecnificados.</span>
<span id="cb22-269"><a href="#cb22-269"></a></span>
<span id="cb22-270"><a href="#cb22-270"></a>En el caso de Francia, la avicultura cuenta con una larga tradición y una fuerte implantación territorial, apoyada en una amplia red de explotaciones y en una potente industria agroalimentaria. Polonia, por su parte, ha experimentado un notable crecimiento del sector avícola en las últimas décadas, impulsado por la modernización de sus explotaciones y su competitividad en los mercados europeos. España, aunque con un volumen menor, destaca por el desarrollo de sistemas de producción intensiva y por su integración dentro de una industria agroalimentaria diversificada.</span>
<span id="cb22-273"><a href="#cb22-273"></a><span class="in">```{r}</span></span>
<span id="cb22-274"><a href="#cb22-274"></a><span class="co">#| warning: false</span></span>
<span id="cb22-275"><a href="#cb22-275"></a><span class="co">#| code-fold: true</span></span>
<span id="cb22-276"><a href="#cb22-276"></a></span>
<span id="cb22-277"><a href="#cb22-277"></a>Datos_mapaUE5 <span class="ot">&lt;-</span> Nº_TotalEU<span class="sc">|&gt;</span> <span class="fu">filter</span>(Year<span class="sc">==</span><span class="st">"2020"</span>, Tipo<span class="sc">==</span><span class="st">"Pais"</span>, A<span class="sc">==</span><span class="st">"Aves de corral"</span>)<span class="sc">|&gt;</span> <span class="fu">select</span>(geo, values)</span>
<span id="cb22-278"><a href="#cb22-278"></a>mapaUE5 <span class="ot">&lt;-</span> mapa_ue<span class="sc">|&gt;</span> <span class="fu">inner_join</span>(Datos_mapaUE5, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"id"</span><span class="ot">=</span><span class="st">"geo"</span>))</span>
<span id="cb22-279"><a href="#cb22-279"></a></span>
<span id="cb22-280"><a href="#cb22-280"></a><span class="fu">ggplot</span>(mapaUE5) <span class="sc">+</span> <span class="fu">geom_sf</span>(<span class="fu">aes</span>(<span class="at">fill =</span> values), <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">linewidth =</span> <span class="fl">0.1</span>) <span class="sc">+</span> <span class="fu">coord_sf</span>(<span class="at">crs =</span> <span class="dv">3035</span>, <span class="at">xlim =</span> <span class="fu">c</span>(<span class="dv">2500000</span>, <span class="dv">6500000</span>), <span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">1500000</span>, <span class="dv">5200000</span>)) <span class="sc">+</span> <span class="fu">scale_fill_continuous</span>(<span class="at">low=</span><span class="st">"ivory"</span>,<span class="at">high=</span><span class="st">"skyblue4"</span>,<span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">label_comma</span>(<span class="at">big.mark =</span> <span class="st">"."</span>), <span class="at">guide =</span> <span class="fu">guide_colorbar</span>(<span class="at">frame.colour =</span> <span class="st">"black"</span>, <span class="at">ticks.colour =</span> <span class="st">"gray89"</span>)) <span class="sc">+</span> <span class="fu">theme_void</span>() <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Número de aves de corral por país (2020)"</span>,<span class="at">fill=</span><span class="st">"Miles de cabezas"</span>) <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">size =</span> <span class="dv">11</span>))</span>
<span id="cb22-281"><a href="#cb22-281"></a></span>
<span id="cb22-282"><a href="#cb22-282"></a>Datos_mapaUE5<span class="sc">|&gt;</span> <span class="fu">slice_max</span>(values, <span class="at">n=</span><span class="dv">5</span>)<span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">Pais =</span> <span class="fu">countrycode</span>(geo, <span class="at">origin =</span> <span class="st">"eurostat"</span>, <span class="at">destination =</span> <span class="st">"country.name"</span>))<span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">Rank =</span> <span class="fu">row_number</span>())<span class="sc">|&gt;</span> <span class="fu">rename</span>(<span class="st">"Mil.Cabezas"</span><span class="ot">=</span><span class="st">"values"</span>)<span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">Arc.Banderas =</span> <span class="fu">case_when</span>(</span>
<span id="cb22-283"><a href="#cb22-283"></a>    geo <span class="sc">==</span> <span class="st">"DE"</span> <span class="sc">~</span> <span class="st">"Alemania.webp"</span>,</span>
<span id="cb22-284"><a href="#cb22-284"></a>    geo <span class="sc">==</span> <span class="st">"ES"</span> <span class="sc">~</span> <span class="st">"España.webp"</span>,</span>
<span id="cb22-285"><a href="#cb22-285"></a>    geo <span class="sc">==</span> <span class="st">"IT"</span> <span class="sc">~</span> <span class="st">"Italia.webp"</span>,</span>
<span id="cb22-286"><a href="#cb22-286"></a>    geo <span class="sc">==</span> <span class="st">"EL"</span> <span class="sc">~</span> <span class="st">"Grecia.png"</span>,</span>
<span id="cb22-287"><a href="#cb22-287"></a>    geo <span class="sc">==</span> <span class="st">"IE"</span> <span class="sc">~</span> <span class="st">"Irlanda.png"</span>,</span>
<span id="cb22-288"><a href="#cb22-288"></a>    geo <span class="sc">==</span> <span class="st">"FR"</span> <span class="sc">~</span> <span class="st">"Francia.webp"</span>,</span>
<span id="cb22-289"><a href="#cb22-289"></a>    geo <span class="sc">==</span> <span class="st">"TR"</span> <span class="sc">~</span> <span class="st">"Turquia.webp"</span>,</span>
<span id="cb22-290"><a href="#cb22-290"></a>    geo <span class="sc">==</span> <span class="st">"DK"</span> <span class="sc">~</span> <span class="st">"Dinamarca.webp"</span>,</span>
<span id="cb22-291"><a href="#cb22-291"></a>    geo <span class="sc">==</span> <span class="st">"PL"</span> <span class="sc">~</span> <span class="st">"Polonia.png"</span>,</span>
<span id="cb22-292"><a href="#cb22-292"></a>    <span class="at">.default =</span>  <span class="st">""</span>))<span class="sc">|&gt;</span>  <span class="fu">mutate</span>(<span class="at">url_imagen =</span> <span class="fu">paste0</span>(<span class="st">"./imagenes/"</span>, Arc.Banderas)) <span class="sc">|&gt;</span></span>
<span id="cb22-293"><a href="#cb22-293"></a><span class="fu">gt</span>()<span class="sc">|&gt;</span> <span class="fu">cols_move_to_start</span>(<span class="at">columns=</span> <span class="fu">c</span>(Rank, url_imagen, Pais, Mil.Cabezas))<span class="sc">|&gt;</span></span>
<span id="cb22-294"><a href="#cb22-294"></a>  <span class="fu">cols_hide</span>(<span class="at">columns =</span> <span class="fu">c</span>(geo,Arc.Banderas))<span class="sc">|&gt;</span> <span class="fu">gt_img_rows</span>(<span class="at">columns =</span> url_imagen, <span class="at">height =</span> <span class="dv">20</span>)<span class="sc">|&gt;</span> <span class="fu">cols_label</span>(<span class="at">url_imagen =</span> <span class="st">""</span>)<span class="sc">|&gt;</span> <span class="fu">cols_align</span>(<span class="at">align =</span> <span class="st">"center"</span>, <span class="at">columns =</span> <span class="fu">c</span>(url_imagen, Rank, Pais, Mil.Cabezas))<span class="sc">|&gt;</span> <span class="fu">tab_header</span>(<span class="at">title =</span> <span class="st">"Paises europeos con mayor número de aves de corral (2020)"</span>)<span class="sc">|&gt;</span> <span class="fu">gt_theme_excel</span>()<span class="sc">|&gt;</span></span>
<span id="cb22-295"><a href="#cb22-295"></a>  <span class="fu">fmt_number</span>(<span class="at">columns =</span> Mil.Cabezas,<span class="at">sep_mark =</span> <span class="st">"."</span>, <span class="at">dec_mark =</span> <span class="st">","</span>, <span class="at">decimals =</span> <span class="dv">1</span>)</span>
<span id="cb22-296"><a href="#cb22-296"></a></span>
<span id="cb22-297"><a href="#cb22-297"></a></span>
<span id="cb22-298"><a href="#cb22-298"></a><span class="in">```</span></span>
<span id="cb22-299"><a href="#cb22-299"></a></span>
<span id="cb22-300"><a href="#cb22-300"></a><span class="fu">## 4.3. Concentración de bovinos por país</span></span>
<span id="cb22-301"><a href="#cb22-301"></a></span>
<span id="cb22-302"><a href="#cb22-302"></a>La población de bovinos en Europa se concentra principalmente en Turquía, seguida de Francia y Alemania. Esta distribución se explica por la extensión territorial, la disponibilidad de amplias superficies de pasto y la importancia histórica y económica del sector bovino en estos países.</span>
<span id="cb22-303"><a href="#cb22-303"></a></span>
<span id="cb22-304"><a href="#cb22-304"></a>En el caso de Turquía, el elevado número de bovinos está relacionado con su gran tamaño, la diversidad de sus sistemas productivos y el peso de la ganadería tradicional, tanto para la producción de carne como de leche. Francia destaca por su fuerte especialización en el ganado bovino, especialmente en el de carne, apoyada en extensas zonas rurales y una larga tradición ganadera. Por su parte, Alemania combina una ganadería bovina intensiva y tecnificada con un importante sector lechero, lo que contribuye a su elevada cabaña bovina.</span>
<span id="cb22-307"><a href="#cb22-307"></a><span class="in">```{r}</span></span>
<span id="cb22-308"><a href="#cb22-308"></a><span class="co">#| warning: false</span></span>
<span id="cb22-309"><a href="#cb22-309"></a><span class="co">#| code-fold: true</span></span>
<span id="cb22-310"><a href="#cb22-310"></a></span>
<span id="cb22-311"><a href="#cb22-311"></a>Datos_mapaUE6 <span class="ot">&lt;-</span> Nº_bovinos<span class="sc">|&gt;</span> <span class="fu">filter</span>(Year<span class="sc">==</span><span class="st">"2020"</span>, animals<span class="sc">==</span><span class="st">"A2000"</span>,  geo<span class="sc">!=</span><span class="st">"EU27_2020"</span>, month<span class="sc">==</span><span class="st">"M12"</span>)<span class="sc">|&gt;</span> <span class="fu">select</span>(geo, values)</span>
<span id="cb22-312"><a href="#cb22-312"></a>mapaUE6 <span class="ot">&lt;-</span> mapa_ue<span class="sc">|&gt;</span> <span class="fu">inner_join</span>(Datos_mapaUE6, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"id"</span><span class="ot">=</span><span class="st">"geo"</span>))</span>
<span id="cb22-313"><a href="#cb22-313"></a></span>
<span id="cb22-314"><a href="#cb22-314"></a><span class="fu">ggplot</span>(mapaUE6) <span class="sc">+</span> <span class="fu">geom_sf</span>(<span class="fu">aes</span>(<span class="at">fill =</span> values), <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">linewidth =</span> <span class="fl">0.1</span>) <span class="sc">+</span> <span class="fu">coord_sf</span>(<span class="at">crs =</span> <span class="dv">3035</span>, <span class="at">xlim =</span> <span class="fu">c</span>(<span class="dv">2500000</span>, <span class="dv">6500000</span>), <span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">1500000</span>, <span class="dv">5200000</span>)) <span class="sc">+</span> <span class="fu">scale_fill_continuous</span>(<span class="at">low=</span><span class="st">"ivory"</span>,<span class="at">high=</span><span class="st">"#30123b"</span>,<span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">label_comma</span>(<span class="at">big.mark =</span> <span class="st">"."</span>), <span class="at">guide =</span> <span class="fu">guide_colorbar</span>(<span class="at">frame.colour =</span> <span class="st">"black"</span>, <span class="at">ticks.colour =</span> <span class="st">"gray89"</span>)) <span class="sc">+</span> <span class="fu">theme_void</span>() <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Número de bovinos por país (2020)"</span>, <span class="at">fill=</span><span class="st">"Miles de cabezas"</span>) <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">size =</span> <span class="dv">11</span>))</span>
<span id="cb22-315"><a href="#cb22-315"></a></span>
<span id="cb22-316"><a href="#cb22-316"></a>Datos_mapaUE6<span class="sc">|&gt;</span> <span class="fu">slice_max</span>(values, <span class="at">n=</span><span class="dv">5</span>)<span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">Pais =</span> <span class="fu">countrycode</span>(geo, <span class="at">origin =</span> <span class="st">"eurostat"</span>, <span class="at">destination =</span> <span class="st">"country.name"</span>))<span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">Rank =</span> <span class="fu">row_number</span>())<span class="sc">|&gt;</span> <span class="fu">rename</span>(<span class="st">"Mil.Cabezas"</span><span class="ot">=</span><span class="st">"values"</span>)<span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">Arc.Banderas =</span> <span class="fu">case_when</span>(</span>
<span id="cb22-317"><a href="#cb22-317"></a>    geo <span class="sc">==</span> <span class="st">"DE"</span> <span class="sc">~</span> <span class="st">"Alemania.webp"</span>,</span>
<span id="cb22-318"><a href="#cb22-318"></a>    geo <span class="sc">==</span> <span class="st">"ES"</span> <span class="sc">~</span> <span class="st">"España.webp"</span>,</span>
<span id="cb22-319"><a href="#cb22-319"></a>    geo <span class="sc">==</span> <span class="st">"IT"</span> <span class="sc">~</span> <span class="st">"Italia.webp"</span>,</span>
<span id="cb22-320"><a href="#cb22-320"></a>    geo <span class="sc">==</span> <span class="st">"EL"</span> <span class="sc">~</span> <span class="st">"Grecia.png"</span>,</span>
<span id="cb22-321"><a href="#cb22-321"></a>    geo <span class="sc">==</span> <span class="st">"IE"</span> <span class="sc">~</span> <span class="st">"Irlanda.png"</span>,</span>
<span id="cb22-322"><a href="#cb22-322"></a>    geo <span class="sc">==</span> <span class="st">"FR"</span> <span class="sc">~</span> <span class="st">"Francia.webp"</span>,</span>
<span id="cb22-323"><a href="#cb22-323"></a>    geo <span class="sc">==</span> <span class="st">"TR"</span> <span class="sc">~</span> <span class="st">"Turquia.webp"</span>,</span>
<span id="cb22-324"><a href="#cb22-324"></a>    geo <span class="sc">==</span> <span class="st">"DK"</span> <span class="sc">~</span> <span class="st">"Dinamarca.webp"</span>,</span>
<span id="cb22-325"><a href="#cb22-325"></a>    geo <span class="sc">==</span> <span class="st">"PL"</span> <span class="sc">~</span> <span class="st">"Polonia.png"</span>,</span>
<span id="cb22-326"><a href="#cb22-326"></a>    <span class="at">.default =</span>  <span class="st">""</span>))<span class="sc">|&gt;</span>  <span class="fu">mutate</span>(<span class="at">url_imagen =</span> <span class="fu">paste0</span>(<span class="st">"./imagenes/"</span>, Arc.Banderas)) <span class="sc">|&gt;</span></span>
<span id="cb22-327"><a href="#cb22-327"></a><span class="fu">gt</span>()<span class="sc">|&gt;</span> <span class="fu">cols_move_to_start</span>(<span class="at">columns=</span> <span class="fu">c</span>(Rank, url_imagen, Pais, Mil.Cabezas))<span class="sc">|&gt;</span></span>
<span id="cb22-328"><a href="#cb22-328"></a>  <span class="fu">cols_hide</span>(<span class="at">columns =</span> <span class="fu">c</span>(geo,Arc.Banderas))<span class="sc">|&gt;</span> <span class="fu">gt_img_rows</span>(<span class="at">columns =</span> url_imagen, <span class="at">height =</span> <span class="dv">20</span>)<span class="sc">|&gt;</span> <span class="fu">cols_label</span>(<span class="at">url_imagen =</span> <span class="st">""</span>)<span class="sc">|&gt;</span> <span class="fu">cols_align</span>(<span class="at">align =</span> <span class="st">"center"</span>, <span class="at">columns =</span> <span class="fu">c</span>(url_imagen, Rank, Pais, Mil.Cabezas))<span class="sc">|&gt;</span> <span class="fu">tab_header</span>(<span class="at">title =</span> <span class="st">"Paises europeos con mayor número de bovinos (2020)"</span>)<span class="sc">|&gt;</span> <span class="fu">gt_theme_excel</span>()<span class="sc">|&gt;</span></span>
<span id="cb22-329"><a href="#cb22-329"></a>  <span class="fu">fmt_number</span>(<span class="at">columns =</span> Mil.Cabezas,<span class="at">sep_mark =</span> <span class="st">"."</span>, <span class="at">dec_mark =</span> <span class="st">","</span>, <span class="at">decimals =</span> <span class="dv">1</span>)</span>
<span id="cb22-330"><a href="#cb22-330"></a></span>
<span id="cb22-331"><a href="#cb22-331"></a><span class="in">```</span></span>
<span id="cb22-332"><a href="#cb22-332"></a></span>
<span id="cb22-333"><a href="#cb22-333"></a></span>
<span id="cb22-334"><a href="#cb22-334"></a><span class="fu">## 4.4. Concentración de ovinos por país</span></span>
<span id="cb22-335"><a href="#cb22-335"></a></span>
<span id="cb22-336"><a href="#cb22-336"></a>La población de ovinos en Europa se concentra principalmente en Turquía, seguida de España y Rumanía. Esta distribución se explica por la extensión territorial, las condiciones climáticas favorables y la importancia histórica de la ganadería ovina en estos países.</span>
<span id="cb22-337"><a href="#cb22-337"></a></span>
<span id="cb22-338"><a href="#cb22-338"></a>En el caso de Turquía, el elevado número de ovinos está vinculado a la presencia de amplias zonas rurales de carácter seco o semiárido, donde este tipo de ganado se adapta mejor que otras especies. España destaca por su larga tradición pastoril y por la existencia de sistemas de ganadería extensiva, especialmente en regiones como Extremadura, Castilla y León y Andalucía. Por su parte, Rumanía mantiene una importante cabaña ovina asociada a su medio rural y a modelos productivos tradicionales, en los que el ovino desempeña un papel clave tanto económico como cultural.</span>
<span id="cb22-341"><a href="#cb22-341"></a><span class="in">```{r}</span></span>
<span id="cb22-342"><a href="#cb22-342"></a><span class="co">#| warning: false</span></span>
<span id="cb22-343"><a href="#cb22-343"></a><span class="co">#| code-fold: true</span></span>
<span id="cb22-344"><a href="#cb22-344"></a></span>
<span id="cb22-345"><a href="#cb22-345"></a>Datos_mapaUE7 <span class="ot">&lt;-</span> Nº_Ovinos<span class="sc">|&gt;</span> <span class="fu">filter</span>(Year<span class="sc">==</span><span class="st">"2020"</span>, animals<span class="sc">==</span><span class="st">"A4100"</span>,  geo<span class="sc">!=</span><span class="st">"EU27_2020"</span>)<span class="sc">|&gt;</span> <span class="fu">select</span>(geo, values)</span>
<span id="cb22-346"><a href="#cb22-346"></a>mapaUE7 <span class="ot">&lt;-</span> mapa_ue<span class="sc">|&gt;</span> <span class="fu">inner_join</span>(Datos_mapaUE7, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"id"</span><span class="ot">=</span><span class="st">"geo"</span>))</span>
<span id="cb22-347"><a href="#cb22-347"></a></span>
<span id="cb22-348"><a href="#cb22-348"></a><span class="fu">ggplot</span>(mapaUE7) <span class="sc">+</span> <span class="fu">geom_sf</span>(<span class="fu">aes</span>(<span class="at">fill =</span> values), <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">linewidth =</span> <span class="fl">0.1</span>) <span class="sc">+</span> <span class="fu">coord_sf</span>(<span class="at">crs =</span> <span class="dv">3035</span>, <span class="at">xlim =</span> <span class="fu">c</span>(<span class="dv">2500000</span>, <span class="dv">6500000</span>), <span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">1500000</span>, <span class="dv">5200000</span>)) <span class="sc">+</span> <span class="fu">scale_fill_continuous</span>(<span class="at">low=</span><span class="st">"ivory"</span>,<span class="at">high=</span><span class="st">"chartreuse"</span>,<span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">label_comma</span>(<span class="at">big.mark =</span> <span class="st">"."</span>), <span class="at">guide =</span> <span class="fu">guide_colorbar</span>(<span class="at">frame.colour =</span> <span class="st">"black"</span>, <span class="at">ticks.colour =</span> <span class="st">"gray57"</span>)) <span class="sc">+</span> <span class="fu">theme_void</span>() <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Número de ovinos por país (2020)"</span>, <span class="at">fill=</span><span class="st">"Miles de cabezas"</span>) <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">size =</span> <span class="dv">11</span>))</span>
<span id="cb22-349"><a href="#cb22-349"></a></span>
<span id="cb22-350"><a href="#cb22-350"></a>Datos_mapaUE7<span class="sc">|&gt;</span> <span class="fu">slice_max</span>(values, <span class="at">n=</span><span class="dv">5</span>)<span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">Pais =</span> <span class="fu">countrycode</span>(geo, <span class="at">origin =</span> <span class="st">"eurostat"</span>, <span class="at">destination =</span> <span class="st">"country.name"</span>))<span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">Rank =</span> <span class="fu">row_number</span>())<span class="sc">|&gt;</span> <span class="fu">rename</span>(<span class="st">"Mil.Cabezas"</span><span class="ot">=</span><span class="st">"values"</span>)<span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">Arc.Banderas =</span> <span class="fu">case_when</span>(</span>
<span id="cb22-351"><a href="#cb22-351"></a>    geo <span class="sc">==</span> <span class="st">"DE"</span> <span class="sc">~</span> <span class="st">"Alemania.webp"</span>,</span>
<span id="cb22-352"><a href="#cb22-352"></a>    geo <span class="sc">==</span> <span class="st">"ES"</span> <span class="sc">~</span> <span class="st">"España.webp"</span>,</span>
<span id="cb22-353"><a href="#cb22-353"></a>    geo <span class="sc">==</span> <span class="st">"IT"</span> <span class="sc">~</span> <span class="st">"Italia.webp"</span>,</span>
<span id="cb22-354"><a href="#cb22-354"></a>    geo <span class="sc">==</span> <span class="st">"EL"</span> <span class="sc">~</span> <span class="st">"Grecia.png"</span>,</span>
<span id="cb22-355"><a href="#cb22-355"></a>    geo <span class="sc">==</span> <span class="st">"IE"</span> <span class="sc">~</span> <span class="st">"Irlanda.png"</span>,</span>
<span id="cb22-356"><a href="#cb22-356"></a>    geo <span class="sc">==</span> <span class="st">"FR"</span> <span class="sc">~</span> <span class="st">"Francia.webp"</span>,</span>
<span id="cb22-357"><a href="#cb22-357"></a>    geo <span class="sc">==</span> <span class="st">"TR"</span> <span class="sc">~</span> <span class="st">"Turquia.webp"</span>,</span>
<span id="cb22-358"><a href="#cb22-358"></a>    geo <span class="sc">==</span> <span class="st">"DK"</span> <span class="sc">~</span> <span class="st">"Dinamarca.webp"</span>,</span>
<span id="cb22-359"><a href="#cb22-359"></a>    geo <span class="sc">==</span> <span class="st">"PL"</span> <span class="sc">~</span> <span class="st">"Polonia.png"</span>,</span>
<span id="cb22-360"><a href="#cb22-360"></a>    geo <span class="sc">==</span> <span class="st">"RO"</span> <span class="sc">~</span> <span class="st">"Rumania.webp"</span>,</span>
<span id="cb22-361"><a href="#cb22-361"></a>    <span class="at">.default =</span>  <span class="st">""</span>))<span class="sc">|&gt;</span>  <span class="fu">mutate</span>(<span class="at">url_imagen =</span> <span class="fu">paste0</span>(<span class="st">"./imagenes/"</span>, Arc.Banderas)) <span class="sc">|&gt;</span></span>
<span id="cb22-362"><a href="#cb22-362"></a><span class="fu">gt</span>()<span class="sc">|&gt;</span> <span class="fu">cols_move_to_start</span>(<span class="at">columns=</span> <span class="fu">c</span>(Rank, url_imagen, Pais, Mil.Cabezas))<span class="sc">|&gt;</span></span>
<span id="cb22-363"><a href="#cb22-363"></a>  <span class="fu">cols_hide</span>(<span class="at">columns =</span> <span class="fu">c</span>(geo,Arc.Banderas))<span class="sc">|&gt;</span> <span class="fu">gt_img_rows</span>(<span class="at">columns =</span> url_imagen, <span class="at">height =</span> <span class="dv">20</span>)<span class="sc">|&gt;</span> <span class="fu">cols_label</span>(<span class="at">url_imagen =</span> <span class="st">""</span>)<span class="sc">|&gt;</span> <span class="fu">cols_align</span>(<span class="at">align =</span> <span class="st">"center"</span>, <span class="at">columns =</span> <span class="fu">c</span>(url_imagen, Rank, Pais, Mil.Cabezas))<span class="sc">|&gt;</span> <span class="fu">tab_header</span>(<span class="at">title =</span> <span class="st">"Paises europeos con mayor número de ovinos (2020)"</span>)<span class="sc">|&gt;</span> <span class="fu">gt_theme_excel</span>()<span class="sc">|&gt;</span></span>
<span id="cb22-364"><a href="#cb22-364"></a>  <span class="fu">fmt_number</span>(<span class="at">columns =</span> Mil.Cabezas,<span class="at">sep_mark =</span> <span class="st">"."</span>, <span class="at">dec_mark =</span> <span class="st">","</span>, <span class="at">decimals =</span> <span class="dv">1</span>)</span>
<span id="cb22-365"><a href="#cb22-365"></a><span class="in">```</span></span>
<span id="cb22-366"><a href="#cb22-366"></a></span>
<span id="cb22-367"><a href="#cb22-367"></a><span class="fu">## 4.5. Concentración de porcino por país</span></span>
<span id="cb22-368"><a href="#cb22-368"></a></span>
<span id="cb22-369"><a href="#cb22-369"></a>La población de porcinos en Europa se concentra principalmente en España, seguida de Alemania y Francia. Esta distribución responde a la especialización productiva de estos países, así como al desarrollo de modelos de ganadería intensiva altamente tecnificados.</span>
<span id="cb22-370"><a href="#cb22-370"></a></span>
<span id="cb22-371"><a href="#cb22-371"></a>España destaca como principal productor porcino europeo gracias a la fuerte integración del sector, la existencia de una potente industria cárnica, unos costes de producción competitivos y una clara orientación exportadora, especialmente hacia otros países de la Unión Europea y mercados internacionales. Alemania, por su parte, ha mantenido históricamente un importante censo porcino apoyado en una industria transformadora consolidada y en una elevada demanda interna. Francia, aunque con un peso menor, continúa siendo un actor relevante gracias a su estructura productiva y a la especialización regional del sector porcino.</span>
<span id="cb22-374"><a href="#cb22-374"></a><span class="in">```{r}</span></span>
<span id="cb22-375"><a href="#cb22-375"></a><span class="co">#| warning: false</span></span>
<span id="cb22-376"><a href="#cb22-376"></a><span class="co">#| code-fold: true</span></span>
<span id="cb22-377"><a href="#cb22-377"></a></span>
<span id="cb22-378"><a href="#cb22-378"></a>Datos_mapaUE8 <span class="ot">&lt;-</span> Nº_Porcinos<span class="sc">|&gt;</span> <span class="fu">filter</span>(Year<span class="sc">==</span><span class="st">"2020"</span>, animals<span class="sc">==</span><span class="st">"A3100"</span>,  geo<span class="sc">!=</span><span class="st">"EU27_2020"</span>)<span class="sc">|&gt;</span> <span class="fu">select</span>(geo, values)</span>
<span id="cb22-379"><a href="#cb22-379"></a>mapaUE8 <span class="ot">&lt;-</span> mapa_ue<span class="sc">|&gt;</span> <span class="fu">inner_join</span>(Datos_mapaUE8, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"id"</span><span class="ot">=</span><span class="st">"geo"</span>))</span>
<span id="cb22-380"><a href="#cb22-380"></a></span>
<span id="cb22-381"><a href="#cb22-381"></a><span class="fu">ggplot</span>(mapaUE8) <span class="sc">+</span> <span class="fu">geom_sf</span>(<span class="fu">aes</span>(<span class="at">fill =</span> values), <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">linewidth =</span> <span class="fl">0.1</span>) <span class="sc">+</span> <span class="fu">coord_sf</span>(<span class="at">crs =</span> <span class="dv">3035</span>, <span class="at">xlim =</span> <span class="fu">c</span>(<span class="dv">2500000</span>, <span class="dv">6500000</span>), <span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">1500000</span>, <span class="dv">5200000</span>)) <span class="sc">+</span> <span class="fu">scale_fill_continuous</span>(<span class="at">low=</span><span class="st">"ivory"</span>,<span class="at">high=</span><span class="st">"red4"</span>,<span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">label_comma</span>(<span class="at">big.mark =</span> <span class="st">"."</span>), <span class="at">guide =</span> <span class="fu">guide_colorbar</span>(<span class="at">frame.colour =</span> <span class="st">"black"</span>, <span class="at">ticks.colour =</span> <span class="st">"gray89"</span>)) <span class="sc">+</span> <span class="fu">theme_void</span>() <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Número de porcinos por país (2020)"</span>, <span class="at">fill=</span><span class="st">"Miles de cabezas"</span>) <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">size =</span> <span class="dv">11</span>))</span>
<span id="cb22-382"><a href="#cb22-382"></a></span>
<span id="cb22-383"><a href="#cb22-383"></a>Datos_mapaUE8<span class="sc">|&gt;</span> <span class="fu">slice_max</span>(values, <span class="at">n=</span><span class="dv">5</span>)<span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">Pais =</span> <span class="fu">countrycode</span>(geo, <span class="at">origin =</span> <span class="st">"eurostat"</span>, <span class="at">destination =</span> <span class="st">"country.name"</span>))<span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">Rank =</span> <span class="fu">row_number</span>())<span class="sc">|&gt;</span> <span class="fu">rename</span>(<span class="st">"Mil.Cabezas"</span><span class="ot">=</span><span class="st">"values"</span>)<span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">Arc.Banderas =</span> <span class="fu">case_when</span>(</span>
<span id="cb22-384"><a href="#cb22-384"></a>    geo <span class="sc">==</span> <span class="st">"DE"</span> <span class="sc">~</span> <span class="st">"Alemania.webp"</span>,</span>
<span id="cb22-385"><a href="#cb22-385"></a>    geo <span class="sc">==</span> <span class="st">"ES"</span> <span class="sc">~</span> <span class="st">"España.webp"</span>,</span>
<span id="cb22-386"><a href="#cb22-386"></a>    geo <span class="sc">==</span> <span class="st">"IT"</span> <span class="sc">~</span> <span class="st">"Italia.webp"</span>,</span>
<span id="cb22-387"><a href="#cb22-387"></a>    geo <span class="sc">==</span> <span class="st">"EL"</span> <span class="sc">~</span> <span class="st">"Grecia.png"</span>,</span>
<span id="cb22-388"><a href="#cb22-388"></a>    geo <span class="sc">==</span> <span class="st">"IE"</span> <span class="sc">~</span> <span class="st">"Irlanda.png"</span>,</span>
<span id="cb22-389"><a href="#cb22-389"></a>    geo <span class="sc">==</span> <span class="st">"FR"</span> <span class="sc">~</span> <span class="st">"Francia.webp"</span>,</span>
<span id="cb22-390"><a href="#cb22-390"></a>    geo <span class="sc">==</span> <span class="st">"TR"</span> <span class="sc">~</span> <span class="st">"Turquia.webp"</span>,</span>
<span id="cb22-391"><a href="#cb22-391"></a>    geo <span class="sc">==</span> <span class="st">"DK"</span> <span class="sc">~</span> <span class="st">"Dinamarca.webp"</span>,</span>
<span id="cb22-392"><a href="#cb22-392"></a>    geo <span class="sc">==</span> <span class="st">"PL"</span> <span class="sc">~</span> <span class="st">"Polonia.png"</span>,</span>
<span id="cb22-393"><a href="#cb22-393"></a>    <span class="at">.default =</span>  <span class="st">""</span>))<span class="sc">|&gt;</span>  <span class="fu">mutate</span>(<span class="at">url_imagen =</span> <span class="fu">paste0</span>(<span class="st">"./imagenes/"</span>, Arc.Banderas)) <span class="sc">|&gt;</span></span>
<span id="cb22-394"><a href="#cb22-394"></a><span class="fu">gt</span>()<span class="sc">|&gt;</span> <span class="fu">cols_move_to_start</span>(<span class="at">columns=</span> <span class="fu">c</span>(Rank, url_imagen, Pais, Mil.Cabezas))<span class="sc">|&gt;</span></span>
<span id="cb22-395"><a href="#cb22-395"></a>  <span class="fu">cols_hide</span>(<span class="at">columns =</span> <span class="fu">c</span>(geo,Arc.Banderas))<span class="sc">|&gt;</span> <span class="fu">gt_img_rows</span>(<span class="at">columns =</span> url_imagen, <span class="at">height =</span> <span class="dv">20</span>)<span class="sc">|&gt;</span> <span class="fu">cols_label</span>(<span class="at">url_imagen =</span> <span class="st">""</span>)<span class="sc">|&gt;</span> <span class="fu">cols_align</span>(<span class="at">align =</span> <span class="st">"center"</span>, <span class="at">columns =</span> <span class="fu">c</span>(url_imagen, Rank, Pais, Mil.Cabezas))<span class="sc">|&gt;</span> <span class="fu">tab_header</span>(<span class="at">title =</span> <span class="st">"Paises europeos con mayor número de porcinos (2020)"</span>)<span class="sc">|&gt;</span> <span class="fu">gt_theme_excel</span>()<span class="sc">|&gt;</span></span>
<span id="cb22-396"><a href="#cb22-396"></a>  <span class="fu">fmt_number</span>(<span class="at">columns =</span> Mil.Cabezas,<span class="at">sep_mark =</span> <span class="st">"."</span>, <span class="at">dec_mark =</span> <span class="st">","</span>, <span class="at">decimals =</span> <span class="dv">1</span>)</span>
<span id="cb22-397"><a href="#cb22-397"></a></span>
<span id="cb22-398"><a href="#cb22-398"></a><span class="in">```</span></span>
<span id="cb22-399"><a href="#cb22-399"></a></span>
<span id="cb22-400"><a href="#cb22-400"></a><span class="fu"># 5. La población de animales de granja en España</span></span>
<span id="cb22-401"><a href="#cb22-401"></a></span>
<span id="cb22-402"><a href="#cb22-402"></a>España es el segundo país de Europa con mayor poblacion de aninmales de granja esto demuestra la importacia del sector ganadero en el pais ibero que ocupa el 8,3% del PIB español.  </span>
<span id="cb22-405"><a href="#cb22-405"></a><span class="in">```{r}</span></span>
<span id="cb22-406"><a href="#cb22-406"></a><span class="co">#| warning: false</span></span>
<span id="cb22-407"><a href="#cb22-407"></a><span class="co">#| code-fold: true</span></span>
<span id="cb22-408"><a href="#cb22-408"></a></span>
<span id="cb22-409"><a href="#cb22-409"></a>TablaUE <span class="ot">&lt;-</span> Nº_TotalEU<span class="sc">|&gt;</span> <span class="fu">filter</span>(A<span class="sc">==</span><span class="st">"Bovino"</span>, Tipo<span class="sc">==</span><span class="st">"Pais"</span>, Year<span class="sc">==</span><span class="st">"2020"</span>)<span class="sc">|&gt;</span></span>
<span id="cb22-410"><a href="#cb22-410"></a>  <span class="fu">mutate</span>(<span class="at">Pais =</span> <span class="fu">countrycode</span>(geo, <span class="at">origin =</span> <span class="st">"eurostat"</span>, <span class="at">destination =</span> <span class="st">"country.name"</span>))<span class="sc">|&gt;</span> <span class="fu">slice_max</span>(TotalA, <span class="at">n=</span><span class="dv">5</span>)<span class="sc">|&gt;</span><span class="fu">mutate</span>(<span class="at">Rank =</span> <span class="fu">row_number</span>())<span class="sc">|&gt;</span> <span class="fu">rename</span>(<span class="st">"Mil.Cabezas"</span><span class="ot">=</span><span class="st">"TotalA"</span>)<span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">Arc.Banderas =</span> <span class="fu">case_when</span>(</span>
<span id="cb22-411"><a href="#cb22-411"></a>    geo <span class="sc">==</span> <span class="st">"DE"</span> <span class="sc">~</span> <span class="st">"Alemania.webp"</span>,</span>
<span id="cb22-412"><a href="#cb22-412"></a>    geo <span class="sc">==</span> <span class="st">"ES"</span> <span class="sc">~</span> <span class="st">"España.webp"</span>,</span>
<span id="cb22-413"><a href="#cb22-413"></a>    geo <span class="sc">==</span> <span class="st">"IT"</span> <span class="sc">~</span> <span class="st">"Italia.webp"</span>,</span>
<span id="cb22-414"><a href="#cb22-414"></a>    geo <span class="sc">==</span> <span class="st">"EL"</span> <span class="sc">~</span> <span class="st">"Grecia.png"</span>,</span>
<span id="cb22-415"><a href="#cb22-415"></a>    geo <span class="sc">==</span> <span class="st">"IE"</span> <span class="sc">~</span> <span class="st">"Irlanda.png"</span>,</span>
<span id="cb22-416"><a href="#cb22-416"></a>    geo <span class="sc">==</span> <span class="st">"FR"</span> <span class="sc">~</span> <span class="st">"Francia.webp"</span>,</span>
<span id="cb22-417"><a href="#cb22-417"></a>    geo <span class="sc">==</span> <span class="st">"TR"</span> <span class="sc">~</span> <span class="st">"Turquia.webp"</span>,</span>
<span id="cb22-418"><a href="#cb22-418"></a>    geo <span class="sc">==</span> <span class="st">"DK"</span> <span class="sc">~</span> <span class="st">"Dinamarca.webp"</span>,</span>
<span id="cb22-419"><a href="#cb22-419"></a>    geo <span class="sc">==</span> <span class="st">"PL"</span> <span class="sc">~</span> <span class="st">"Polonia.png"</span>,</span>
<span id="cb22-420"><a href="#cb22-420"></a>    <span class="at">.default =</span>  <span class="st">""</span>))<span class="sc">|&gt;</span>  <span class="fu">mutate</span>(<span class="at">url_imagen =</span> <span class="fu">paste0</span>(<span class="st">"./imagenes/"</span>, Arc.Banderas))<span class="sc">|&gt;</span> <span class="fu">select</span>(Rank, url_imagen, Pais, Mil.Cabezas, geo, Arc.Banderas)<span class="sc">|&gt;</span> </span>
<span id="cb22-421"><a href="#cb22-421"></a>  <span class="fu">gt</span>()<span class="sc">|&gt;</span> <span class="fu">cols_move_to_start</span>(<span class="at">columns=</span> <span class="fu">c</span>(Rank, url_imagen, Pais, Mil.Cabezas))<span class="sc">|&gt;</span></span>
<span id="cb22-422"><a href="#cb22-422"></a>  <span class="fu">cols_hide</span>(<span class="at">columns =</span> <span class="fu">c</span>(geo,Arc.Banderas))<span class="sc">|&gt;</span> <span class="fu">gt_img_rows</span>(<span class="at">columns =</span> url_imagen, <span class="at">height =</span> <span class="dv">20</span>)<span class="sc">|&gt;</span> <span class="fu">cols_label</span>(<span class="at">url_imagen =</span> <span class="st">""</span>)<span class="sc">|&gt;</span> <span class="fu">cols_align</span>(<span class="at">align =</span> <span class="st">"center"</span>, <span class="at">columns =</span> <span class="fu">c</span>(url_imagen, Rank, Pais, Mil.Cabezas))<span class="sc">|&gt;</span> <span class="fu">tab_header</span>(<span class="at">title =</span> <span class="st">"Paises europeos con mayor número de animales de granja (2020)"</span>)<span class="sc">|&gt;</span> <span class="fu">gt_theme_excel</span>()<span class="sc">|&gt;</span></span>
<span id="cb22-423"><a href="#cb22-423"></a>  <span class="fu">fmt_number</span>(<span class="at">columns =</span> Mil.Cabezas,<span class="at">sep_mark =</span> <span class="st">"."</span>, <span class="at">dec_mark =</span> <span class="st">","</span>, <span class="at">decimals =</span> <span class="dv">1</span>)</span>
<span id="cb22-424"><a href="#cb22-424"></a></span>
<span id="cb22-425"><a href="#cb22-425"></a>TablaUE</span>
<span id="cb22-426"><a href="#cb22-426"></a><span class="in">```</span></span>
<span id="cb22-427"><a href="#cb22-427"></a></span>
<span id="cb22-428"><a href="#cb22-428"></a><span class="fu">## 5.1. Distribución de los animales de granja en el territorio nacional</span></span>
<span id="cb22-429"><a href="#cb22-429"></a></span>
<span id="cb22-430"><a href="#cb22-430"></a>La población de animales de granja en España se concentra principalmente en Cataluña, que es la comunidad autónoma con mayor número de animales, con aproximadamente un 20 % del total, seguida de Castilla-La Mancha y Castilla y León, ambas con alrededor de un 12 %. Esta distribución se explica por la importante industria cárnica presente en Cataluña y por los extensos campos de las dos Castillas, que han favorecido el desarrollo de la ganadería extensiva y el pastoreo.</span>
<span id="cb22-433"><a href="#cb22-433"></a><span class="in">```{r}</span></span>
<span id="cb22-434"><a href="#cb22-434"></a><span class="co">#| warning: false</span></span>
<span id="cb22-435"><a href="#cb22-435"></a><span class="co">#| code-fold: true</span></span>
<span id="cb22-436"><a href="#cb22-436"></a><span class="co">#| fig-width: 3 </span></span>
<span id="cb22-437"><a href="#cb22-437"></a><span class="co">#| fig-height: 2 </span></span>
<span id="cb22-438"><a href="#cb22-438"></a></span>
<span id="cb22-439"><a href="#cb22-439"></a>España.CCAA <span class="ot">&lt;-</span> Nº_TotalES<span class="sc">|&gt;</span> <span class="fu">filter</span>(<span class="fu">is.na</span>(Provincias))<span class="sc">|&gt;</span> <span class="fu">group_by</span>(Autonomias)<span class="sc">|&gt;</span></span>
<span id="cb22-440"><a href="#cb22-440"></a>  <span class="fu">mutate</span>(<span class="at">TotalA=</span><span class="fu">sum</span>(Total))<span class="sc">|&gt;</span><span class="fu">ungroup</span>()</span>
<span id="cb22-441"><a href="#cb22-441"></a></span>
<span id="cb22-442"><a href="#cb22-442"></a>RoscaES1 <span class="ot">&lt;-</span> España.CCAA<span class="sc">|&gt;</span> <span class="fu">filter</span>(Autonomias<span class="sc">!=</span><span class="st">"Total_Nacional"</span>, Animal<span class="sc">==</span><span class="st">"Ovinos"</span>)<span class="sc">|&gt;</span> <span class="fu">arrange</span>((TotalA))</span>
<span id="cb22-443"><a href="#cb22-443"></a></span>
<span id="cb22-444"><a href="#cb22-444"></a><span class="fu">hchart</span>(RoscaES1, <span class="st">"pie"</span>, <span class="fu">hcaes</span>(<span class="at">x =</span> Autonomias, <span class="at">y =</span> TotalA))<span class="sc">|&gt;</span></span>
<span id="cb22-445"><a href="#cb22-445"></a>  <span class="fu">hc_plotOptions</span>(<span class="at">pie =</span> <span class="fu">list</span>(<span class="at">dataLabels =</span> <span class="fu">list</span>( <span class="at">enabled =</span> <span class="cn">TRUE</span>, <span class="at">format =</span> <span class="st">"{point.name}: {point.percentage:.0f}%"</span>)))<span class="sc">|&gt;</span><span class="fu">hc_title</span>(<span class="at">text =</span> <span class="st">"Distribución porcentual de los animales de granja en España por CC.AA. (2020)"</span>)<span class="sc">|&gt;</span> <span class="fu">hc_chart</span>(<span class="at">backgroundColor =</span> <span class="st">"#f0f0f0"</span>)</span>
<span id="cb22-446"><a href="#cb22-446"></a><span class="in">```</span></span>
<span id="cb22-447"><a href="#cb22-447"></a></span>
<span id="cb22-450"><a href="#cb22-450"></a><span class="in">```{r}</span></span>
<span id="cb22-451"><a href="#cb22-451"></a><span class="co">#| warning: false</span></span>
<span id="cb22-452"><a href="#cb22-452"></a><span class="co">#| code-fold: true</span></span>
<span id="cb22-453"><a href="#cb22-453"></a></span>
<span id="cb22-454"><a href="#cb22-454"></a>mapa_ccaa <span class="ot">&lt;-</span> <span class="fu">esp_get_ccaa</span>()</span>
<span id="cb22-455"><a href="#cb22-455"></a>mapaES <span class="ot">&lt;-</span> mapa_ccaa<span class="sc">|&gt;</span> <span class="fu">left_join</span>(RoscaES1, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"ine.ccaa.name"</span><span class="ot">=</span> <span class="st">"Autonomias"</span>))</span>
<span id="cb22-456"><a href="#cb22-456"></a><span class="fu">ggplot</span>(mapaES) <span class="sc">+</span> <span class="fu">geom_sf</span>(<span class="fu">aes</span>(<span class="at">fill =</span> TotalA), <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">size =</span> <span class="fl">0.2</span>) <span class="sc">+</span> <span class="fu">scale_fill_continuous</span>(<span class="at">low=</span><span class="st">"ivory"</span>, <span class="at">high=</span><span class="st">"darkgreen"</span>,<span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">label_comma</span>(<span class="at">big.mark =</span> <span class="st">"."</span>), <span class="at">guide =</span> <span class="fu">guide_colorbar</span>(<span class="at">frame.colour =</span> <span class="st">"black"</span>, <span class="at">ticks.colour =</span> <span class="st">"gray57"</span>)) <span class="sc">+</span> <span class="fu">theme_void</span>() <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Censo Ganadero por Comunidad Autónoma (2020)"</span>, <span class="at">fill=</span><span class="st">"Nº de cabezas"</span>) <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">size =</span> <span class="dv">11</span>))</span>
<span id="cb22-457"><a href="#cb22-457"></a><span class="in">```</span></span>
<span id="cb22-458"><a href="#cb22-458"></a></span>
<span id="cb22-459"><a href="#cb22-459"></a><span class="fu">### 5.1.1. Distribución de las especies de animales de granja en el territorio nacional </span></span>
<span id="cb22-460"><a href="#cb22-460"></a></span>
<span id="cb22-461"><a href="#cb22-461"></a>La distribución de las especies de animales de granja en España es similar a la media de la Unión Europea, aunque presenta algunas diferencias relevantes. Destaca especialmente la mayor presencia de aves de corral, que representan aproximadamente un 80 % del total, frente al 51 % de la media europea.</span>
<span id="cb22-462"><a href="#cb22-462"></a></span>
<span id="cb22-463"><a href="#cb22-463"></a>Asimismo, en España la población de ovinos supera a la de bovinos, a diferencia de lo que ocurre en gran parte de Europa. Esta situación se explica, en parte, por las condiciones climáticas más secas del país, que resultan más adecuadas para la cría de ovinos que para la de bovinos, los cuales requieren una mayor disponibilidad de pastos.</span>
<span id="cb22-466"><a href="#cb22-466"></a><span class="in">```{r}</span></span>
<span id="cb22-467"><a href="#cb22-467"></a><span class="co">#| warning: false</span></span>
<span id="cb22-468"><a href="#cb22-468"></a><span class="co">#| code-fold: true</span></span>
<span id="cb22-469"><a href="#cb22-469"></a><span class="co">#| fig-width: 3 </span></span>
<span id="cb22-470"><a href="#cb22-470"></a><span class="co">#| fig-height: 2 </span></span>
<span id="cb22-471"><a href="#cb22-471"></a></span>
<span id="cb22-472"><a href="#cb22-472"></a>RoscaES2 <span class="ot">&lt;-</span> Nº_TotalES<span class="sc">|&gt;</span> <span class="fu">filter</span>(Autonomias<span class="sc">==</span><span class="st">"Total_Nacional"</span>)</span>
<span id="cb22-473"><a href="#cb22-473"></a></span>
<span id="cb22-474"><a href="#cb22-474"></a><span class="fu">hchart</span>(RoscaES2, <span class="st">"pie"</span>, <span class="fu">hcaes</span>(<span class="at">x =</span> Animal, <span class="at">y =</span> Total))<span class="sc">|&gt;</span></span>
<span id="cb22-475"><a href="#cb22-475"></a>  <span class="fu">hc_plotOptions</span>(<span class="at">pie =</span> <span class="fu">list</span>(<span class="at">dataLabels =</span> <span class="fu">list</span>( <span class="at">enabled =</span> <span class="cn">TRUE</span>, <span class="at">format =</span> <span class="st">"{point.name}: {point.percentage:.0f}%"</span>)))<span class="sc">|&gt;</span><span class="fu">hc_title</span>(<span class="at">text =</span> <span class="st">"Distribución porcentual de los animales de granja en España por especie de animal (2020)"</span>)<span class="sc">|&gt;</span> <span class="fu">hc_chart</span>(<span class="at">backgroundColor =</span> <span class="st">"#f0f0f0"</span>)</span>
<span id="cb22-476"><a href="#cb22-476"></a><span class="in">```</span></span>
<span id="cb22-477"><a href="#cb22-477"></a></span>
<span id="cb22-478"><a href="#cb22-478"></a><span class="fu">### 5.1.2. Animales de granja más común en cada país europeo</span></span>
<span id="cb22-479"><a href="#cb22-479"></a></span>
<span id="cb22-480"><a href="#cb22-480"></a>El animal de granja más común en la mayoría de las comunidades autónomas de España son las aves de corral, ya que constituyen la especie que requiere menor espacio y menores costes de producción.</span>
<span id="cb22-481"><a href="#cb22-481"></a></span>
<span id="cb22-482"><a href="#cb22-482"></a>No obstante, existen dos excepciones, Asturias y Cantabria, donde el ganado bovino es el animal de granja más numeroso.</span>
<span id="cb22-485"><a href="#cb22-485"></a><span class="in">```{r}</span></span>
<span id="cb22-486"><a href="#cb22-486"></a><span class="co">#| warning: false</span></span>
<span id="cb22-487"><a href="#cb22-487"></a><span class="co">#| code-fold: true</span></span>
<span id="cb22-488"><a href="#cb22-488"></a> </span>
<span id="cb22-489"><a href="#cb22-489"></a>Datos_mapaES1 <span class="ot">&lt;-</span> Nº_TotalES<span class="sc">|&gt;</span> <span class="fu">filter</span>(<span class="fu">is.na</span>(Provincias), Autonomias<span class="sc">!=</span><span class="st">"Total_Nacional"</span>)<span class="sc">|&gt;</span> <span class="fu">group_by</span>(Autonomias)<span class="sc">|&gt;</span> <span class="fu">slice_max</span>(Total, <span class="at">n =</span> <span class="dv">1</span>)</span>
<span id="cb22-490"><a href="#cb22-490"></a>mapaES1 <span class="ot">&lt;-</span> mapa_ccaa<span class="sc">|&gt;</span> <span class="fu">left_join</span>(Datos_mapaES1, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"ine.ccaa.name"</span><span class="ot">=</span> <span class="st">"Autonomias"</span>))</span>
<span id="cb22-491"><a href="#cb22-491"></a><span class="fu">ggplot</span>(mapaES1) <span class="sc">+</span> <span class="fu">geom_sf</span>(<span class="fu">aes</span>(<span class="at">fill =</span> Animal), <span class="at">color =</span> <span class="st">"white"</span>, <span class="at">linewidth =</span> <span class="fl">0.1</span>) <span class="sc">+</span> <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Ovinos"</span> <span class="ot">=</span> <span class="st">"chartreuse"</span>,<span class="st">"Bovinos"</span> <span class="ot">=</span><span class="st">"#30123b"</span>,<span class="st">"Porcinos"</span><span class="ot">=</span><span class="st">"red4"</span>, <span class="st">"Aves de corral"</span><span class="ot">=</span><span class="st">"skyblue4"</span>))<span class="sc">+</span> <span class="fu">theme_void</span>() <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Animal de granja más numeroso por comunidad autonóma (2020)"</span>, <span class="at">fill=</span><span class="st">"Especie Mayoritaria"</span>) <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">size =</span> <span class="dv">11</span>))</span>
<span id="cb22-492"><a href="#cb22-492"></a></span>
<span id="cb22-493"><a href="#cb22-493"></a></span>
<span id="cb22-494"><a href="#cb22-494"></a><span class="in">```</span></span>
<span id="cb22-495"><a href="#cb22-495"></a></span>
<span id="cb22-496"><a href="#cb22-496"></a><span class="fu">### 5.1.3. Concentración de aves de corral por Comunidad autonóma</span></span>
<span id="cb22-497"><a href="#cb22-497"></a></span>
<span id="cb22-498"><a href="#cb22-498"></a>La población de aves de corral en España se concentra especialmente en Cataluña, seguida a mucha distancia por Castilla-La Mancha y Galicia. Esto se debe a que Cataluña cuenta con una de las industrias cárnicas más grandes y especializadas de Europa, que, aunque está principalmente enfocada en el sector porcino, también se ha diversificado a gran escala hacia la industria avícola, aunque en menor medida. </span>
<span id="cb22-499"><a href="#cb22-499"></a></span>
<span id="cb22-500"><a href="#cb22-500"></a>En cambio, Castilla-La Mancha y Galicia mantienen una presencia relevante de aves de corral, pero generalmente vinculada a modelos productivos de menor escala o de carácter más tradicional, lo que limita su volumen relativo en comparación con el registrado en Cataluña.</span>
<span id="cb22-503"><a href="#cb22-503"></a><span class="in">```{r}</span></span>
<span id="cb22-504"><a href="#cb22-504"></a><span class="co">#| warning: false</span></span>
<span id="cb22-505"><a href="#cb22-505"></a><span class="co">#| code-fold: true</span></span>
<span id="cb22-506"><a href="#cb22-506"></a> </span>
<span id="cb22-507"><a href="#cb22-507"></a>Datos_mapaES2 <span class="ot">&lt;-</span> Nº_AvedeCoralES<span class="sc">|&gt;</span> <span class="fu">filter</span>(<span class="fu">is.na</span>(Provincias), Autonomias<span class="sc">!=</span><span class="st">"Total_Nacional"</span>)</span>
<span id="cb22-508"><a href="#cb22-508"></a>mapaES2 <span class="ot">&lt;-</span> mapa_ccaa<span class="sc">|&gt;</span> <span class="fu">left_join</span>(Datos_mapaES2, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"ine.ccaa.name"</span><span class="ot">=</span> <span class="st">"Autonomias"</span>))</span>
<span id="cb22-509"><a href="#cb22-509"></a></span>
<span id="cb22-510"><a href="#cb22-510"></a><span class="fu">ggplot</span>(mapaES2) <span class="sc">+</span> <span class="fu">geom_sf</span>(<span class="fu">aes</span>(<span class="at">fill =</span> Total), <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">linewidth =</span> <span class="fl">0.1</span>) <span class="sc">+</span> <span class="fu">scale_fill_continuous</span>(<span class="at">low=</span><span class="st">"ivory"</span>,<span class="at">high=</span><span class="st">"skyblue4"</span>, <span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">label_comma</span>(<span class="at">big.mark =</span> <span class="st">"."</span>), <span class="at">guide =</span> <span class="fu">guide_colorbar</span>(<span class="at">frame.colour =</span> <span class="st">"black"</span>, <span class="at">ticks.colour =</span> <span class="st">"gray89"</span>)) <span class="sc">+</span> <span class="fu">theme_void</span>() <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Número de aves de corral por CC.AA. (2020)"</span>,<span class="at">fill=</span><span class="st">"Nº de cabezas"</span>) <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">size =</span> <span class="dv">11</span>))</span>
<span id="cb22-511"><a href="#cb22-511"></a></span>
<span id="cb22-512"><a href="#cb22-512"></a>Datos_mapaES2<span class="sc">|&gt;</span> <span class="fu">ungroup</span>()<span class="sc">|&gt;</span> <span class="fu">slice_max</span>(Total, <span class="at">n=</span><span class="dv">5</span>)<span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">Rank =</span> <span class="fu">row_number</span>())<span class="sc">|&gt;</span> <span class="fu">rename</span>(<span class="st">"NºCabezas"</span><span class="ot">=</span><span class="st">"Total"</span>)<span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">Arc.Banderas =</span> <span class="fu">case_when</span>(</span>
<span id="cb22-513"><a href="#cb22-513"></a>    Autonomias <span class="sc">==</span> <span class="st">"Galicia"</span> <span class="sc">~</span> <span class="st">"Galicia.png"</span>,</span>
<span id="cb22-514"><a href="#cb22-514"></a>    Autonomias <span class="sc">==</span> <span class="st">"Cataluña"</span> <span class="sc">~</span> <span class="st">"Catalunya.png"</span>,</span>
<span id="cb22-515"><a href="#cb22-515"></a>    Autonomias <span class="sc">==</span> <span class="st">"Castilla - La Mancha"</span> <span class="sc">~</span> <span class="st">"CastillaMancha.png"</span>,</span>
<span id="cb22-516"><a href="#cb22-516"></a>    Autonomias <span class="sc">==</span> <span class="st">"Aragón"</span> <span class="sc">~</span> <span class="st">"Aragon.png"</span>,</span>
<span id="cb22-517"><a href="#cb22-517"></a>    Autonomias <span class="sc">==</span> <span class="st">"Castilla y León"</span> <span class="sc">~</span> <span class="st">"CastillaLeon.png"</span>,</span>
<span id="cb22-518"><a href="#cb22-518"></a>    Autonomias <span class="sc">==</span> <span class="st">"Andalucía"</span> <span class="sc">~</span> <span class="st">"Andalucia.png"</span>,</span>
<span id="cb22-519"><a href="#cb22-519"></a>    Autonomias <span class="sc">==</span> <span class="st">"Extremadura"</span> <span class="sc">~</span> <span class="st">"Extremadura.png"</span>,</span>
<span id="cb22-520"><a href="#cb22-520"></a>    <span class="at">.default =</span>  <span class="st">""</span>))<span class="sc">|&gt;</span>  <span class="fu">mutate</span>(<span class="at">url_imagen =</span> <span class="fu">paste0</span>(<span class="st">"./imagenes/"</span>, Arc.Banderas)) <span class="sc">|&gt;</span> </span>
<span id="cb22-521"><a href="#cb22-521"></a>  <span class="fu">gt</span>()<span class="sc">|&gt;</span> <span class="fu">cols_move_to_start</span>(<span class="at">columns=</span> <span class="fu">c</span>(Rank, url_imagen, Autonomias, NºCabezas)) <span class="sc">|&gt;</span> <span class="fu">cols_hide</span>(<span class="at">columns =</span> <span class="fu">c</span>(Provincias,Arc.Banderas,Animal))<span class="sc">|&gt;</span> <span class="fu">gt_img_rows</span>(<span class="at">columns =</span> url_imagen, <span class="at">height =</span> <span class="dv">20</span>)<span class="sc">|&gt;</span> <span class="fu">cols_label</span>(<span class="at">url_imagen =</span> <span class="st">""</span>)<span class="sc">|&gt;</span> <span class="fu">cols_align</span>(<span class="at">align =</span> <span class="st">"center"</span>, <span class="at">columns =</span> <span class="fu">c</span>(url_imagen, Rank, Autonomias, NºCabezas))<span class="sc">|&gt;</span> <span class="fu">tab_header</span>(<span class="at">title =</span> <span class="st">"Comunidades autónomas con mayor número de aves de corral (2020)"</span>)<span class="sc">|&gt;</span> <span class="fu">gt_theme_excel</span>()<span class="sc">|&gt;</span> <span class="fu">fmt_number</span>(<span class="at">columns =</span> NºCabezas,<span class="at">sep_mark =</span> <span class="st">"."</span>, <span class="at">dec_mark =</span> <span class="st">","</span>, <span class="at">decimals =</span> <span class="dv">0</span>)</span>
<span id="cb22-522"><a href="#cb22-522"></a><span class="in">```</span></span>
<span id="cb22-523"><a href="#cb22-523"></a></span>
<span id="cb22-524"><a href="#cb22-524"></a><span class="fu">### 5.1.4. Concentración de bovinos por Comunidad autonóma</span></span>
<span id="cb22-525"><a href="#cb22-525"></a></span>
<span id="cb22-526"><a href="#cb22-526"></a>La población de bovinos en España se concentra especialmente en Castilla y León, seguida, a considerable distancia, por Galicia y Extremadura. Esta distribución se explica por la amplia disponibilidad de superficies de pasto, la estructura agraria basada en explotaciones extensivas y la tradición ganadera de estas comunidades.</span>
<span id="cb22-527"><a href="#cb22-527"></a></span>
<span id="cb22-528"><a href="#cb22-528"></a>Castilla y León dispone de extensas áreas rurales y praderas naturales que favorecen la ganadería bovina de carne, mientras que Galicia destaca por su especialización en el bovino lechero, apoyada en un clima más húmedo y una mayor disponibilidad de forraje. Por su parte, Extremadura cuenta con el sistema de dehesas, un entorno idóneo para la cría extensiva de bovinos, que combina el aprovechamiento ganadero con el uso sostenible del territorio.</span>
<span id="cb22-529"><a href="#cb22-529"></a></span>
<span id="cb22-532"><a href="#cb22-532"></a><span class="in">```{r}</span></span>
<span id="cb22-533"><a href="#cb22-533"></a><span class="co">#| warning: false</span></span>
<span id="cb22-534"><a href="#cb22-534"></a><span class="co">#| code-fold: true</span></span>
<span id="cb22-535"><a href="#cb22-535"></a></span>
<span id="cb22-536"><a href="#cb22-536"></a>Datos_mapaES3 <span class="ot">&lt;-</span> Nº_BovinosES<span class="sc">|&gt;</span> <span class="fu">filter</span>(<span class="fu">is.na</span>(Provincias), Autonomias<span class="sc">!=</span><span class="st">"Total_Nacional"</span>)</span>
<span id="cb22-537"><a href="#cb22-537"></a>mapaES3 <span class="ot">&lt;-</span> mapa_ccaa<span class="sc">|&gt;</span> <span class="fu">left_join</span>(Datos_mapaES3, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"ine.ccaa.name"</span><span class="ot">=</span> <span class="st">"Autonomias"</span>))</span>
<span id="cb22-538"><a href="#cb22-538"></a></span>
<span id="cb22-539"><a href="#cb22-539"></a><span class="fu">ggplot</span>(mapaES3) <span class="sc">+</span> <span class="fu">geom_sf</span>(<span class="fu">aes</span>(<span class="at">fill =</span> Total), <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">linewidth =</span> <span class="fl">0.1</span>) <span class="sc">+</span> <span class="fu">scale_fill_continuous</span>(<span class="at">low=</span><span class="st">"ivory"</span>,<span class="at">high=</span><span class="st">"#30123b"</span>,<span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">label_comma</span>(<span class="at">big.mark =</span> <span class="st">"."</span>), <span class="at">guide =</span> <span class="fu">guide_colorbar</span>(<span class="at">frame.colour =</span> <span class="st">"black"</span>, <span class="at">ticks.colour =</span> <span class="st">"gray89"</span>)) <span class="sc">+</span> <span class="fu">theme_void</span>() <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Número de bovinos por país (2020)"</span>, <span class="at">fill=</span><span class="st">"Nº de cabezas"</span>) <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">size =</span> <span class="dv">11</span>))</span>
<span id="cb22-540"><a href="#cb22-540"></a></span>
<span id="cb22-541"><a href="#cb22-541"></a>Datos_mapaES3<span class="sc">|&gt;</span> <span class="fu">ungroup</span>()<span class="sc">|&gt;</span> <span class="fu">slice_max</span>(Total, <span class="at">n=</span><span class="dv">5</span>)<span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">Rank =</span> <span class="fu">row_number</span>())<span class="sc">|&gt;</span> <span class="fu">rename</span>(<span class="st">"NºCabezas"</span><span class="ot">=</span><span class="st">"Total"</span>)<span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">Arc.Banderas =</span> <span class="fu">case_when</span>(</span>
<span id="cb22-542"><a href="#cb22-542"></a>    Autonomias <span class="sc">==</span> <span class="st">"Galicia"</span> <span class="sc">~</span> <span class="st">"Galicia.png"</span>,</span>
<span id="cb22-543"><a href="#cb22-543"></a>    Autonomias <span class="sc">==</span> <span class="st">"Cataluña"</span> <span class="sc">~</span> <span class="st">"Catalunya.png"</span>,</span>
<span id="cb22-544"><a href="#cb22-544"></a>    Autonomias <span class="sc">==</span> <span class="st">"Castilla - La Mancha"</span> <span class="sc">~</span> <span class="st">"CastillaMancha.png"</span>,</span>
<span id="cb22-545"><a href="#cb22-545"></a>    Autonomias <span class="sc">==</span> <span class="st">"Aragón"</span> <span class="sc">~</span> <span class="st">"Aragon.png"</span>,</span>
<span id="cb22-546"><a href="#cb22-546"></a>    Autonomias <span class="sc">==</span> <span class="st">"Castilla y León"</span> <span class="sc">~</span> <span class="st">"CastillaLeon.png"</span>,</span>
<span id="cb22-547"><a href="#cb22-547"></a>    Autonomias <span class="sc">==</span> <span class="st">"Andalucía"</span> <span class="sc">~</span> <span class="st">"Andalucia.png"</span>,</span>
<span id="cb22-548"><a href="#cb22-548"></a>    Autonomias <span class="sc">==</span> <span class="st">"Extremadura"</span> <span class="sc">~</span> <span class="st">"Extremadura.png"</span>,</span>
<span id="cb22-549"><a href="#cb22-549"></a>    <span class="at">.default =</span>  <span class="st">""</span>))<span class="sc">|&gt;</span>  <span class="fu">mutate</span>(<span class="at">url_imagen =</span> <span class="fu">paste0</span>(<span class="st">"./imagenes/"</span>, Arc.Banderas)) <span class="sc">|&gt;</span> </span>
<span id="cb22-550"><a href="#cb22-550"></a>  <span class="fu">gt</span>()<span class="sc">|&gt;</span> <span class="fu">cols_move_to_start</span>(<span class="at">columns=</span> <span class="fu">c</span>(Rank, url_imagen, Autonomias, NºCabezas)) <span class="sc">|&gt;</span> <span class="fu">cols_hide</span>(<span class="at">columns =</span> <span class="fu">c</span>(Provincias,Arc.Banderas,Animal))<span class="sc">|&gt;</span> <span class="fu">gt_img_rows</span>(<span class="at">columns =</span> url_imagen, <span class="at">height =</span> <span class="dv">20</span>)<span class="sc">|&gt;</span> <span class="fu">cols_label</span>(<span class="at">url_imagen =</span> <span class="st">""</span>)<span class="sc">|&gt;</span> <span class="fu">cols_align</span>(<span class="at">align =</span> <span class="st">"center"</span>, <span class="at">columns =</span> <span class="fu">c</span>(url_imagen, Rank, Autonomias, NºCabezas))<span class="sc">|&gt;</span> <span class="fu">tab_header</span>(<span class="at">title =</span> <span class="st">"Comunidades autónomas con mayor número de bovinos (2020)"</span>)<span class="sc">|&gt;</span> <span class="fu">gt_theme_excel</span>()<span class="sc">|&gt;</span> <span class="fu">fmt_number</span>(<span class="at">columns =</span> NºCabezas,<span class="at">sep_mark =</span> <span class="st">"."</span>, <span class="at">dec_mark =</span> <span class="st">","</span>, <span class="at">decimals =</span> <span class="dv">0</span>)</span>
<span id="cb22-551"><a href="#cb22-551"></a><span class="in">```</span></span>
<span id="cb22-552"><a href="#cb22-552"></a></span>
<span id="cb22-553"><a href="#cb22-553"></a><span class="fu">### 5.1.5. Concentración de ovinos por Comunidad autonóma</span></span>
<span id="cb22-554"><a href="#cb22-554"></a></span>
<span id="cb22-555"><a href="#cb22-555"></a>La población de ovinos en España se concentra especialmente en Extremadura, seguida de Castilla y León y Andalucía. Esta distribución se debe principalmente a la disponibilidad de amplias superficies de pastos naturales, a la tradición histórica de la ganadería ovina y a las condiciones climáticas secas, que resultan especialmente favorables para este tipo de ganado.</span>
<span id="cb22-556"><a href="#cb22-556"></a></span>
<span id="cb22-557"><a href="#cb22-557"></a>Extremadura destaca por la presencia de dehesas, un sistema agroganadero ideal para la cría extensiva de ovinos, mientras que Castilla y León y Andalucía cuentan con grandes extensiones de terreno rural y una larga tradición pastoril. Además, el ovino se adapta mejor que otros tipos de ganado a zonas con menor disponibilidad de agua y pastos más pobres, lo que explica su predominio en estas comunidades.</span>
<span id="cb22-560"><a href="#cb22-560"></a><span class="in">```{r}</span></span>
<span id="cb22-561"><a href="#cb22-561"></a><span class="co">#| warning: false</span></span>
<span id="cb22-562"><a href="#cb22-562"></a><span class="co">#| code-fold: true</span></span>
<span id="cb22-563"><a href="#cb22-563"></a></span>
<span id="cb22-564"><a href="#cb22-564"></a>Datos_mapaES4 <span class="ot">&lt;-</span> Nº_OvinosES<span class="sc">|&gt;</span> <span class="fu">filter</span>(<span class="fu">is.na</span>(Provincias), Autonomias<span class="sc">!=</span><span class="st">"Total_Nacional"</span>)</span>
<span id="cb22-565"><a href="#cb22-565"></a>mapaES4 <span class="ot">&lt;-</span> mapa_ccaa<span class="sc">|&gt;</span> <span class="fu">left_join</span>(Datos_mapaES4, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"ine.ccaa.name"</span><span class="ot">=</span> <span class="st">"Autonomias"</span>))</span>
<span id="cb22-566"><a href="#cb22-566"></a></span>
<span id="cb22-567"><a href="#cb22-567"></a><span class="fu">ggplot</span>(mapaES4) <span class="sc">+</span> <span class="fu">geom_sf</span>(<span class="fu">aes</span>(<span class="at">fill =</span> Total), <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">linewidth =</span> <span class="fl">0.1</span>) <span class="sc">+</span> <span class="fu">scale_fill_continuous</span>(<span class="at">low=</span><span class="st">"ivory"</span>,<span class="at">high=</span><span class="st">"chartreuse"</span>,<span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">label_comma</span>(<span class="at">big.mark =</span> <span class="st">"."</span>), <span class="at">guide =</span> <span class="fu">guide_colorbar</span>(<span class="at">frame.colour =</span> <span class="st">"black"</span>, <span class="at">ticks.colour =</span> <span class="st">"gray57"</span>)) <span class="sc">+</span> <span class="fu">theme_void</span>() <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Número de ovinos por país (2020)"</span>, <span class="at">fill=</span><span class="st">"Nº de cabezas"</span>) <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">size =</span> <span class="dv">11</span>))</span>
<span id="cb22-568"><a href="#cb22-568"></a></span>
<span id="cb22-569"><a href="#cb22-569"></a>Datos_mapaES4<span class="sc">|&gt;</span> <span class="fu">ungroup</span>()<span class="sc">|&gt;</span> <span class="fu">slice_max</span>(Total, <span class="at">n=</span><span class="dv">5</span>)<span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">Rank =</span> <span class="fu">row_number</span>())<span class="sc">|&gt;</span> <span class="fu">rename</span>(<span class="st">"NºCabezas"</span><span class="ot">=</span><span class="st">"Total"</span>)<span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">Arc.Banderas =</span> <span class="fu">case_when</span>(</span>
<span id="cb22-570"><a href="#cb22-570"></a>    Autonomias <span class="sc">==</span> <span class="st">"Galicia"</span> <span class="sc">~</span> <span class="st">"Galicia.png"</span>,</span>
<span id="cb22-571"><a href="#cb22-571"></a>    Autonomias <span class="sc">==</span> <span class="st">"Cataluña"</span> <span class="sc">~</span> <span class="st">"Catalunya.png"</span>,</span>
<span id="cb22-572"><a href="#cb22-572"></a>    Autonomias <span class="sc">==</span> <span class="st">"Castilla - La Mancha"</span> <span class="sc">~</span> <span class="st">"CastillaMancha.png"</span>,</span>
<span id="cb22-573"><a href="#cb22-573"></a>    Autonomias <span class="sc">==</span> <span class="st">"Aragón"</span> <span class="sc">~</span> <span class="st">"Aragon.png"</span>,</span>
<span id="cb22-574"><a href="#cb22-574"></a>    Autonomias <span class="sc">==</span> <span class="st">"Castilla y León"</span> <span class="sc">~</span> <span class="st">"CastillaLeon.png"</span>,</span>
<span id="cb22-575"><a href="#cb22-575"></a>    Autonomias <span class="sc">==</span> <span class="st">"Andalucía"</span> <span class="sc">~</span> <span class="st">"Andalucia.png"</span>,</span>
<span id="cb22-576"><a href="#cb22-576"></a>    Autonomias <span class="sc">==</span> <span class="st">"Extremadura"</span> <span class="sc">~</span> <span class="st">"Extremadura.png"</span>,</span>
<span id="cb22-577"><a href="#cb22-577"></a>    <span class="at">.default =</span>  <span class="st">""</span>))<span class="sc">|&gt;</span>  <span class="fu">mutate</span>(<span class="at">url_imagen =</span> <span class="fu">paste0</span>(<span class="st">"./imagenes/"</span>, Arc.Banderas)) <span class="sc">|&gt;</span> </span>
<span id="cb22-578"><a href="#cb22-578"></a>  <span class="fu">gt</span>()<span class="sc">|&gt;</span> <span class="fu">cols_move_to_start</span>(<span class="at">columns=</span> <span class="fu">c</span>(Rank, url_imagen, Autonomias, NºCabezas)) <span class="sc">|&gt;</span> <span class="fu">cols_hide</span>(<span class="at">columns =</span> <span class="fu">c</span>(Provincias,Arc.Banderas,Animal))<span class="sc">|&gt;</span> <span class="fu">gt_img_rows</span>(<span class="at">columns =</span> url_imagen, <span class="at">height =</span> <span class="dv">20</span>)<span class="sc">|&gt;</span> <span class="fu">cols_label</span>(<span class="at">url_imagen =</span> <span class="st">""</span>)<span class="sc">|&gt;</span> <span class="fu">cols_align</span>(<span class="at">align =</span> <span class="st">"center"</span>, <span class="at">columns =</span> <span class="fu">c</span>(url_imagen, Rank, Autonomias, NºCabezas))<span class="sc">|&gt;</span> <span class="fu">tab_header</span>(<span class="at">title =</span> <span class="st">"Comunidades autónomas con mayor número de ovinos (2020)"</span>)<span class="sc">|&gt;</span> <span class="fu">gt_theme_excel</span>()<span class="sc">|&gt;</span> <span class="fu">fmt_number</span>(<span class="at">columns =</span> NºCabezas,<span class="at">sep_mark =</span> <span class="st">"."</span>, <span class="at">dec_mark =</span> <span class="st">","</span>, <span class="at">decimals =</span> <span class="dv">0</span>)</span>
<span id="cb22-579"><a href="#cb22-579"></a><span class="in">```</span></span>
<span id="cb22-580"><a href="#cb22-580"></a></span>
<span id="cb22-581"><a href="#cb22-581"></a><span class="fu">### 5.1.6. Concentración de porcinos por Comunidad autonóma</span></span>
<span id="cb22-582"><a href="#cb22-582"></a></span>
<span id="cb22-583"><a href="#cb22-583"></a>La población de porcinos en España se concentra principalmente en Cataluña, seguida, a notable distancia, por Castilla y León y Aragón. Esta distribución se explica por el alto grado de industrialización e integración del sector porcino catalán, así como por la presencia de una potente industria cárnica, especializada en la producción y transformación de carne porcina y considerada una de las más relevantes de Europa.</span>
<span id="cb22-584"><a href="#cb22-584"></a></span>
<span id="cb22-585"><a href="#cb22-585"></a>Por su parte, Castilla y León y Aragón han experimentado un crecimiento del sector porcino favorecido por la disponibilidad de suelo rural, unos costes de producción relativamente bajos y la expansión de explotaciones integradas, aunque su peso continúa siendo inferior al de Cataluña.</span>
<span id="cb22-588"><a href="#cb22-588"></a><span class="in">```{r}</span></span>
<span id="cb22-589"><a href="#cb22-589"></a><span class="co">#| warning: false</span></span>
<span id="cb22-590"><a href="#cb22-590"></a><span class="co">#| code-fold: true</span></span>
<span id="cb22-591"><a href="#cb22-591"></a></span>
<span id="cb22-592"><a href="#cb22-592"></a>Datos_mapaES5 <span class="ot">&lt;-</span> Nº_PorcinosES<span class="sc">|&gt;</span> <span class="fu">filter</span>(<span class="fu">is.na</span>(Provincias), Autonomias<span class="sc">!=</span><span class="st">"Total_Nacional"</span>)</span>
<span id="cb22-593"><a href="#cb22-593"></a>mapaES5 <span class="ot">&lt;-</span> mapa_ccaa<span class="sc">|&gt;</span> <span class="fu">left_join</span>(Datos_mapaES5, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"ine.ccaa.name"</span><span class="ot">=</span> <span class="st">"Autonomias"</span>))</span>
<span id="cb22-594"><a href="#cb22-594"></a></span>
<span id="cb22-595"><a href="#cb22-595"></a><span class="fu">ggplot</span>(mapaES5) <span class="sc">+</span> <span class="fu">geom_sf</span>(<span class="fu">aes</span>(<span class="at">fill =</span> Total), <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">linewidth =</span> <span class="fl">0.1</span>) <span class="sc">+</span> <span class="fu">scale_fill_continuous</span>(<span class="at">low=</span><span class="st">"ivory"</span>,<span class="at">high=</span><span class="st">"red4"</span>,<span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">label_comma</span>(<span class="at">big.mark =</span> <span class="st">"."</span>), <span class="at">guide =</span> <span class="fu">guide_colorbar</span>(<span class="at">frame.colour =</span> <span class="st">"black"</span>, <span class="at">ticks.colour =</span> <span class="st">"gray57"</span>)) <span class="sc">+</span> <span class="fu">theme_void</span>() <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Número de porcinos por país (2020)"</span>, <span class="at">fill=</span><span class="st">"Nº de cabezas"</span>) <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">size =</span> <span class="dv">11</span>))</span>
<span id="cb22-596"><a href="#cb22-596"></a></span>
<span id="cb22-597"><a href="#cb22-597"></a>Datos_mapaES5<span class="sc">|&gt;</span> <span class="fu">ungroup</span>()<span class="sc">|&gt;</span> <span class="fu">slice_max</span>(Total, <span class="at">n=</span><span class="dv">5</span>)<span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">Rank =</span> <span class="fu">row_number</span>())<span class="sc">|&gt;</span> <span class="fu">rename</span>(<span class="st">"NºCabezas"</span><span class="ot">=</span><span class="st">"Total"</span>)<span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">Arc.Banderas =</span> <span class="fu">case_when</span>(</span>
<span id="cb22-598"><a href="#cb22-598"></a>    Autonomias <span class="sc">==</span> <span class="st">"Galicia"</span> <span class="sc">~</span> <span class="st">"Galicia.png"</span>,</span>
<span id="cb22-599"><a href="#cb22-599"></a>    Autonomias <span class="sc">==</span> <span class="st">"Cataluña"</span> <span class="sc">~</span> <span class="st">"Catalunya.png"</span>,</span>
<span id="cb22-600"><a href="#cb22-600"></a>    Autonomias <span class="sc">==</span> <span class="st">"Castilla - La Mancha"</span> <span class="sc">~</span> <span class="st">"CastillaMancha.png"</span>,</span>
<span id="cb22-601"><a href="#cb22-601"></a>    Autonomias <span class="sc">==</span> <span class="st">"Aragón"</span> <span class="sc">~</span> <span class="st">"Aragon.png"</span>,</span>
<span id="cb22-602"><a href="#cb22-602"></a>    Autonomias <span class="sc">==</span> <span class="st">"Castilla y León"</span> <span class="sc">~</span> <span class="st">"CastillaLeon.png"</span>,</span>
<span id="cb22-603"><a href="#cb22-603"></a>    Autonomias <span class="sc">==</span> <span class="st">"Andalucía"</span> <span class="sc">~</span> <span class="st">"Andalucia.png"</span>,</span>
<span id="cb22-604"><a href="#cb22-604"></a>    Autonomias <span class="sc">==</span> <span class="st">"Extremadura"</span> <span class="sc">~</span> <span class="st">"Extremadura.png"</span>,</span>
<span id="cb22-605"><a href="#cb22-605"></a>    <span class="at">.default =</span>  <span class="st">""</span>))<span class="sc">|&gt;</span>  <span class="fu">mutate</span>(<span class="at">url_imagen =</span> <span class="fu">paste0</span>(<span class="st">"./imagenes/"</span>, Arc.Banderas)) <span class="sc">|&gt;</span> </span>
<span id="cb22-606"><a href="#cb22-606"></a>  <span class="fu">gt</span>()<span class="sc">|&gt;</span> <span class="fu">cols_move_to_start</span>(<span class="at">columns=</span> <span class="fu">c</span>(Rank, url_imagen, Autonomias, NºCabezas)) <span class="sc">|&gt;</span> <span class="fu">cols_hide</span>(<span class="at">columns =</span> <span class="fu">c</span>(Provincias,Arc.Banderas,Animal))<span class="sc">|&gt;</span> <span class="fu">gt_img_rows</span>(<span class="at">columns =</span> url_imagen, <span class="at">height =</span> <span class="dv">20</span>)<span class="sc">|&gt;</span> <span class="fu">cols_label</span>(<span class="at">url_imagen =</span> <span class="st">""</span>)<span class="sc">|&gt;</span> <span class="fu">cols_align</span>(<span class="at">align =</span> <span class="st">"center"</span>, <span class="at">columns =</span> <span class="fu">c</span>(url_imagen, Rank, Autonomias, NºCabezas))<span class="sc">|&gt;</span> <span class="fu">tab_header</span>(<span class="at">title =</span> <span class="st">"Comunidades autónomas con mayor número de porcino (2020)"</span>)<span class="sc">|&gt;</span> <span class="fu">gt_theme_excel</span>()<span class="sc">|&gt;</span> <span class="fu">fmt_number</span>(<span class="at">columns =</span> NºCabezas,<span class="at">sep_mark =</span> <span class="st">"."</span>, <span class="at">dec_mark =</span> <span class="st">","</span>, <span class="at">decimals =</span> <span class="dv">0</span>)</span>
<span id="cb22-607"><a href="#cb22-607"></a><span class="in">```</span></span>
<span id="cb22-608"><a href="#cb22-608"></a></span>
<span id="cb22-609"><a href="#cb22-609"></a><span class="fu"># 6. Conclusion</span></span>
<span id="cb22-610"><a href="#cb22-610"></a>Podemos observar que los distintos países de Europa presentan poblaciones de animales de granja muy variadas, lo que refleja la influencia de múltiples factores. Estas diferencias se explican tanto por condiciones naturales, como el clima, la disponibilidad de pastos y el tipo de suelo, como por factores económicos y productivos, incluyendo el grado de industrialización del sector, la tradición ganadera y la orientación hacia mercados nacionales e internacionales.</span>
<span id="cb22-611"><a href="#cb22-611"></a>En conjunto, estos elementos determinan la distribución y el predominio de ciertas especies en cada país, mostrando cómo el entorno natural y económico condiciona la estructura y el desarrollo de la ganadería europea.</span>
<span id="cb22-612"><a href="#cb22-612"></a></span>
<span id="cb22-613"><a href="#cb22-613"></a><span class="fu"># 7. Bibliografia </span></span>
<span id="cb22-614"><a href="#cb22-614"></a></span>
<span id="cb22-615"><a href="#cb22-615"></a><span class="ss">- </span>Eurostat. (2026, January 7). *Home*. European Union. https://ec.europa.eu/eurostat</span>
<span id="cb22-616"><a href="#cb22-616"></a></span>
<span id="cb22-617"><a href="#cb22-617"></a><span class="ss">- </span>Instituto Nacional de Estadística. (2026, January 2). *INE – Instituto Nacional de Estadística*. https://ine.es</span>
<span id="cb22-618"><a href="#cb22-618"></a></span>
<span id="cb22-619"><a href="#cb22-619"></a><span class="ss">- </span>Wikipedia. (s.f.). *Wikipedia, la enciclopedia libre*. Fundación Wikimedia. https://www.wikipedia.org/</span>
</code></pre></div><button title="Copiar al portapapeles" class="code-copy-button" data-in-quarto-modal=""><i class="bi"></i></button></div>
</div></div></div></div></div>
</div> <!-- /content -->
<footer class="footer"><div class="nav-footer">
    <div class="nav-footer-left">
<p>© 2025 Yutao Henry Jiang Zheng</p>
</div>   
    <div class="nav-footer-center">
<p>Hecho con <a href="https://quarto.org">Quarto</a></p>
</div>
    <div class="nav-footer-right">
      <ul class="footer-items list-unstyled">
<li class="nav-item compact">
    <a class="nav-link" href="https://github.com/YHJZ57">
      <i class="bi bi-github" role="img">
</i> 
    </a>
  </li>  
    <li class="nav-item compact">
    <a class="nav-link" href="mailto:yujiangz@alumni.uv.es">
      <i class="bi bi-envelope" role="img">
</i> 
    </a>
  </li>  
</ul>
</div>
  </div>
</footer><script>var lightboxQuarto = GLightbox({"closeEffect":"zoom","descPosition":"bottom","loop":false,"openEffect":"zoom","selector":".lightbox"});
(function() {
  let previousOnload = window.onload;
  window.onload = () => {
    if (previousOnload) {
      previousOnload();
    }
    lightboxQuarto.on('slide_before_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      const href = trigger.getAttribute('href');
      if (href !== null) {
        const imgEl = window.document.querySelector(`a[href="${href}"] img`);
        if (imgEl !== null) {
          const srcAttr = imgEl.getAttribute("src");
          if (srcAttr && srcAttr.startsWith("data:")) {
            slideConfig.href = srcAttr;
          }
        }
      } 
    });
  
    lightboxQuarto.on('slide_after_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(slideNode);
      }
    });
  
  };
  
})();
          </script>


<script src="site_libs/quarto-html/zenscroll-min.js"></script>
</body></html>